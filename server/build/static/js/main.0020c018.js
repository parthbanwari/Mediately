/*! For license information please see main.0020c018.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),s=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case _:return"Suspense";case N:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return R(e(t))}catch(_c){}}return null}var P=Array.isArray,O=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],F=-1;function U(e){return{current:e}}function V(e){0>F||(e.current=M[F],M[F]=null,F--)}function z(e,t){F++,M[F]=e.current,e.current=t}var B=U(null),q=U(null),H=U(null),W=U(null);function K(e,t){switch(z(H,t),z(q,e),z(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(B),z(B,e)}function G(){V(B),V(q),V(H)}function Q(e){null!==e.memoizedState&&z(W,e);var t=B.current,n=ad(t,e.type);t!==n&&(z(q,e),z(B,n))}function Y(e){q.current===e&&(V(B),V(q)),W.current===e&&(V(W),Yd._currentValue=L)}var $=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,se=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,ae=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?s=ve(r):0!==(a&=o)?s=ve(a):n||0!==(n=o&~e)&&(s=ve(n)):0!==(o=r&~i)?s=ve(o):0!==a?s=ve(a):n||0!==(n=r&~e)&&(s=ve(n)),0===s?0:0!==t&&t!==s&&0===(t&i)&&((i=s&-s)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:s}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function _e(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function je(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:uh(e.type)}var Ae=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ae,Pe="__reactProps$"+Ae,Oe="__reactContainer$"+Ae,De="__reactEvents$"+Ae,Le="__reactListeners$"+Ae,Me="__reactHandles$"+Ae,Fe="__reactResources$"+Ae,Ue="__reactMarker$"+Ae;function Ve(e){delete e[Re],delete e[Pe],delete e[De],delete e[Le],delete e[Me]}function ze(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Re]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[Re])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Re]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function He(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Ue]=!0}var Ke=new Set,Ge={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var $e,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(s=t,$.call(et,s)||!$.call(Ze,s)&&(Je.test(s)?et[s]=!0:(Ze[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function st(e){if(void 0===$e)try{throw Error()}catch(_c){var t=_c.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Xe=-1<_c.stack.indexOf("\n    at")?" (<anonymous>)":-1<_c.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Xe}var it=!1;function at(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(_c){var r=_c}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return st("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(_c){return"\nError generating stack: "+_c.message+"\n"+_c.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,s,i,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=i&&(e.defaultChecked=!!i),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,s,i,a,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:s)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(P(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Nt(e,s,r)}else for(var i in t)t.hasOwnProperty(i)&&Nt(e,i,t[i])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Pt=null;function Ot(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Pe]||null;if(!s)throw Error(a(90));gt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Lt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Rt||null!==Pt)&&(Bc(),Rt&&(t=Rt,e=Pt,Pt=Rt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Pe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ft)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Oh){Ut=!1}var zt=null,Bt=null,qt=null;function Ht(){if(qt)return qt;var e,t,n=Bt,r=n.length,s="value"in zt?zt.value:zt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return qt=s.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Qt(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,$t,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,$t=e.screenY-Xt.screenY):$t=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),rn=Qt(nn),sn=Qt(h({},nn,{dataTransfer:0})),an=Qt(h({},en,{relatedTarget:0})),on=Qt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Qt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Qt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Qt(h({},Jt,{newState:0,oldState:0})),xn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,_n=null;Ft&&"documentMode"in document&&(_n=document.documentMode);var Nn=Ft&&"TextEvent"in window&&!_n,En=Ft&&(!kn||_n&&8<_n&&11>=_n),Sn=String.fromCharCode(32),Tn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Pn(e,t,n,r){Rt?Pt?Pt.push(r):Pt=[r]:Rt=r,0<(t=Wu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Dn=null;function Ln(e){Mu(e,0)}function Mn(e){if(ht(qe(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(Ft){var Vn;if(Ft){var zn="oninput"in document;if(!zn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),zn="function"===typeof Bn.oninput}Vn=zn}else Vn=!1;Un=Vn&&(!document.documentMode||9<document.documentMode)}function qn(){On&&(On.detachEvent("onpropertychange",Hn),Dn=On=null)}function Hn(e){if("value"===e.propertyName&&Mn(Dn)){var t=[];Pn(t,Dn,e,At(e)),Lt(Ln,t)}}function Wn(e,t,n){"focusin"===e?(qn(),Dn=n,(On=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(Dn)}function Gn(e,t){if("click"===e)return Mn(t)}function Qn(e,t){if("input"===e||"change"===e)return Mn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$.call(t,s)||!Yn(e[s],t[s]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,sr=null,ir=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&$n(ir,r)||(ir=r,0<(r=Wu(sr,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){wr.set(e,t),Qe(t,[e])}xr.push("scrollEnd");var _r=new WeakMap;function Nr(e,t){if("object"===typeof e&&null!==e){var n=_r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},_r.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Er=[],Sr=0,Tr=0;function Cr(){for(var e=Sr,t=Tr=Sr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var s=Er[t];Er[t++]=null;var i=Er[t];if(Er[t++]=null,null!==r&&null!==s){var a=r.pending;null===a?s.next=s:(s.next=a.next,a.next=s),r.pending=s}0!==i&&Rr(n,s,i)}}function Ir(e,t,n,r){Er[Sr++]=e,Er[Sr++]=t,Er[Sr++]=n,Er[Sr++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function jr(e,t,n,r){return Ir(e,t,n,r),Pr(e)}function Ar(e,t){return Ir(e,null,null,t),Pr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(s=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,s&&null!==t&&(s=31-fe(n),null===(r=(e=i.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),i):null}function Pr(e){if(50<Pc)throw Pc=0,Oc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Dr(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,s,i){var o=0;if(r=e,"function"===typeof e)Mr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Lr(31,n,t,s)).elementType=T,e.lanes=i,e;case g:return zr(n.children,s,i,t);case y:o=8,s|=24;break;case v:return(e=Lr(12,n,t,2|s)).elementType=v,e.lanes=i,e;case _:return(e=Lr(13,n,t,s)).elementType=_,e.lanes=i,e;case N:return(e=Lr(19,n,t,s)).elementType=N,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:o=10;break e;case w:o=9;break e;case k:o=11;break e;case E:o=14;break e;case S:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function zr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Wr=0,Kr=null,Gr=0,Qr=[],Yr=0,$r=null,Xr=1,Jr="";function Zr(e,t){Hr[Wr++]=Gr,Hr[Wr++]=Kr,Kr=e,Gr=t}function es(e,t,n){Qr[Yr++]=Xr,Qr[Yr++]=Jr,Qr[Yr++]=$r,$r=e;var r=Xr;e=Jr;var s=32-fe(r)-1;r&=~(1<<s),n+=1;var i=32-fe(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Xr=1<<32-fe(t)+s|n<<s|r,Jr=i+e}else Xr=1<<i|n<<s|r,Jr=e}function ts(e){null!==e.return&&(Zr(e,1),es(e,1,0))}function ns(e){for(;e===Kr;)Kr=Hr[--Wr],Hr[Wr]=null,Gr=Hr[--Wr],Hr[Wr]=null;for(;e===$r;)$r=Qr[--Yr],Qr[Yr]=null,Jr=Qr[--Yr],Qr[Yr]=null,Xr=Qr[--Yr],Qr[Yr]=null}var rs=null,ss=null,is=!1,as=null,os=!1,ls=Error(a(519));function cs(e){throw ms(Nr(Error(a(418,"")),e)),ls}function us(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Re]=e,t[Pe]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Fu(Du[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||cs(e)}function ds(e){for(rs=e.return;rs;)switch(rs.tag){case 5:case 13:return void(os=!1);case 27:case 3:return void(os=!0);default:rs=rs.return}}function hs(e){if(e!==rs)return!1;if(!is)return ds(e),is=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ss&&cs(e),ds(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ss=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ss=null}}else 27===n?(n=ss,pd(e.type)?(e=bd,bd=null,ss=e):ss=n):ss=rs?vd(e.stateNode.nextSibling):null;return!0}function fs(){ss=rs=null,is=!1}function ps(){var e=as;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),as=null),e}function ms(e){null===as?as=[e]:as.push(e)}var gs=U(null),ys=null,vs=null;function bs(e,t,n){z(gs,t._currentValue),t._currentValue=n}function ws(e){e._currentValue=gs.current,V(gs)}function xs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var i=s.dependencies;if(null!==i){var o=s.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),xs(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),xs(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function _s(e,t,n,r){e=null;for(var s=t,i=!1;null!==s;){if(!i)if(0!==(524288&s.flags))i=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=s.type;Yn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===W.current){if(null===(o=s.alternate))throw Error(a(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}s=s.return}null!==e&&ks(t,e,n,r),t.flags|=262144}function Ns(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){ys=e,vs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ss(e){return Cs(ys,e)}function Ts(e,t){return null===ys&&Es(e),Cs(e,t)}function Cs(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vs){if(null===e)throw Error(a(308));vs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vs=vs.next=t;return n}var Is="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},js=r.unstable_scheduleCallback,As=r.unstable_NormalPriority,Rs={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ps(){return{controller:new Is,data:new Map,refCount:0}}function Os(e){e.refCount--,0===e.refCount&&js(As,(function(){e.controller.abort()}))}var Ds=null,Ls=0,Ms=0,Fs=null;function Us(){if(0===--Ls&&null!==Ds){null!==Fs&&(Fs.status="fulfilled");var e=Ds;Ds=null,Ms=0,Fs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vs=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ds){var n=Ds=[];Ls=0,Ms=ju(),Fs={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ls++,t.then(Us,Us)}(0,t),null!==Vs&&Vs(e,t)};var zs=U(null);function Bs(){var e=zs.current;return null!==e?e:rc.pooledCache}function qs(e,t){z(zs,null===t?zs.current:t.pool)}function Hs(){var e=Bs();return null===e?null:{parent:Rs._currentValue,pool:e}}var Ws=Error(a(460)),Ks=Error(a(474)),Gs=Error(a(542)),Qs={then:function(){}};function Ys(e){return"fulfilled"===(e=e.status)||"rejected"===e}function $s(){}function Xs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then($s,$s),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then($s,$s);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Js=t,Ws}}var Js=null;function Zs(){if(null===Js)throw Error(a(459));var e=Js;return Js=null,e}function ei(e){if(e===Ws||e===Gs)throw Error(a(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function si(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Pr(e),Rr(e,null,n),t}return Ir(e,r,t,n),Pr(e)}function ai(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Fs)throw Fs}}function ui(e,t,n,r){li=!1;var s=e.updateQueue;ti=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ic&f)===f:(r&f)===f){0!==f&&f===Ms&&(li=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ti=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=s.callbacks)?s.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=f;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(p=o).next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===i&&(s.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=d}}function di(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var fi=U(null),pi=U(0);function mi(e,t){z(pi,e=dc),z(fi,t),dc=e|t.baseLanes}function gi(){z(pi,dc),z(fi,fi.current)}function yi(){dc=pi.current,V(fi),V(pi)}var vi=0,bi=null,wi=null,xi=null,ki=!1,_i=!1,Ni=!1,Ei=0,Si=0,Ti=null,Ci=0;function Ii(){throw Error(a(321))}function ji(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ai(e,t,n,r,s,i){return vi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Wa:Ka,Ni=!1,i=n(r,s),Ni=!1,_i&&(i=Pi(t,n,r,s)),Ri(e),i}function Ri(e){O.H=Ha;var t=null!==wi&&null!==wi.next;if(vi=0,xi=wi=bi=null,ki=!1,Si=0,Ti=null,t)throw Error(a(300));null===e||To||null!==(e=e.dependencies)&&Ns(e)&&(To=!0)}function Pi(e,t,n,r){bi=e;var s=0;do{if(_i&&(Ti=null),Si=0,_i=!1,25<=s)throw Error(a(301));if(s+=1,xi=wi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}O.H=Ga,i=t(n,r)}while(_i);return i}function Oi(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Vi(t):t,e=e.useState()[0],(null!==wi?wi.memoizedState:null)!==e&&(bi.flags|=1024),t}function Di(){var e=0!==Ei;return Ei=0,e}function Li(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mi(e){if(ki){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ki=!1}vi=0,xi=wi=bi=null,_i=!1,Si=Ei=0,Ti=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xi?bi.memoizedState=xi=e:xi=xi.next=e,xi}function Ui(){if(null===wi){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=wi.next;var t=null===xi?bi.memoizedState:xi.next;if(null!==t)xi=t,wi=e;else{if(null===e){if(null===bi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(wi=e).memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},null===xi?bi.memoizedState=xi=e:xi=xi.next=e}return xi}function Vi(e){var t=Si;return Si+=1,null===Ti&&(Ti=[]),e=Xs(Ti,e,t),t=bi,null===(null===xi?t.memoizedState:xi.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Wa:Ka),e}function zi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vi(e);if(e.$$typeof===x)return Ss(e)}throw Error(a(438,String(e)))}function Bi(e){var t=null,n=bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function qi(e,t){return"function"===typeof t?t(e):t}function Hi(e){return Wi(Ui(),wi,e)}function Wi(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var s=e.baseQueue,i=r.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,r.pending=null}if(i=e.baseState,null===s)e.memoizedState=i;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(vi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ms&&(d=!0);else{if((vi&f)===f){u=u.next,f===Ms&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,bi.lanes|=f,fc|=f}h=u.action,Ni&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=i):c=c.next=f,bi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Yn(i,e.memoizedState)&&(To=!0,d&&null!==(n=Fs)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ki(e){var t=Ui(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);Yn(i,t.memoizedState)||(To=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gi(e,t,n){var r=bi,s=Ui(),i=is;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Yn((wi||s).memoizedState,n);if(o&&(s.memoizedState=n,To=!0),s=s.queue,ga(2048,8,$i.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||null!==xi&&1&xi.memoizedState.tag){if(r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,s,n,t),null),null===rc)throw Error(a(349));i||0!==(124&vi)||Qi(r,t,n)}return n}function Qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,r){t.value=n,t.getSnapshot=r,Xi(t)&&Ji(e)}function $i(e,t,n){return n((function(){Xi(t)&&Ji(e)}))}function Xi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Ji(e){var t=Ar(e,2);null!==t&&Mc(t,e,2)}function Zi(e){var t=Fi();if("function"===typeof e){var n=e;if(e=n(),Ni){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},t}function ea(e,t,n,r){return e.baseState=n,Wi(e,wi,"function"===typeof r?r:qi)}function ta(e,t,n,r,s){if(za(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==O.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,na(t,i)):(i.next=n.next,t.pending=n.next=i)}}function na(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var i=O.T,a={};O.T=a;try{var o=n(s,r),l=O.S;null!==l&&l(a,o),ra(e,t,o)}catch(c){ia(e,t,c)}finally{O.T=i}}else try{ra(e,t,i=n(s,r))}catch(u){ia(e,t,u)}}function ra(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){sa(e,t,n)}),(function(n){return ia(e,t,n)})):sa(e,t,n)}function sa(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function ia(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==r)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(is){var n=rc.formState;if(null!==n){e:{var r=bi;if(is){if(ss){t:{for(var s=ss,i=os;8!==s.nodeType;){if(!i){s=null;break t}if(null===(s=vd(s.nextSibling))){s=null;break t}}s="F!"===(i=s.data)||"F"===i?s:null}if(s){ss=vd(s.nextSibling),r="F!"===s.data;break e}}cs(r)}r=!1}r&&(t=n[0])}}return(n=Fi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=r,n=Fa.bind(null,bi,r),r.dispatch=n,r=Zi(!1),i=Va.bind(null,bi,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=Fi()).queue=s,n=ta.bind(null,bi,s,i,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function ca(e){return ua(Ui(),wi,e)}function ua(e,t,n){if(t=Wi(e,t,oa)[0],e=Hi(qi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Vi(t)}catch(_c){if(_c===Ws)throw Gs;throw _c}else r=t;var s=(t=Ui()).queue,i=s.dispatch;return n!==t.memoizedState&&(bi.flags|=2048,fa(9,{destroy:void 0,resource:void 0},da.bind(null,s,n),null)),[r,i,e]}function da(e,t){e.action=t}function ha(e){var t=Ui(),n=wi;if(null!==n)return ua(t,n,e);Ui(),t=t.memoizedState;var r=(n=Ui()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(){return Ui().memoizedState}function ma(e,t,n,r){var s=Fi();r=void 0===r?null:r,bi.flags|=e,s.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,r)}function ga(e,t,n,r){var s=Ui();r=void 0===r?null:r;var i=s.memoizedState.inst;null!==wi&&null!==r&&ji(r,wi.memoizedState.deps)?s.memoizedState=fa(t,i,n,r):(bi.flags|=e,s.memoizedState=fa(1|t,i,n,r))}function ya(e,t){ma(8390656,8,e,t)}function va(e,t){ga(2048,8,e,t)}function ba(e,t){return ga(4,2,e,t)}function wa(e,t){return ga(4,4,e,t)}function xa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ka(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,4,xa.bind(null,t,e),n)}function _a(){}function Na(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ji(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ea(e,t){var n=Ui();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ji(t,r[1]))return r[0];if(r=e(),Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Sa(e,t,n){return void 0===n||0!==(1073741824&vi)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),bi.lanes|=e,fc|=e,n)}function Ta(e,t,n,r){return Yn(n,t)?n:null!==fi.current?(e=Sa(e,n,r),Yn(e,t)||(To=!0),e):0===(42&vi)?(To=!0,e.memoizedState=n):(e=Lc(),bi.lanes|=e,fc|=e,t)}function Ca(e,t,n,r,s){var i=D.p;D.p=0!==i&&8>i?i:8;var a=O.T,o={};O.T=o,Va(e,!1,t,n);try{var l=s(),c=O.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Dc());else Ua(e,t,r,Dc())}catch(u){Ua(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{D.p=i,O.T=a}}function Ia(){}function ja(e,t,n,r){if(5!==e.tag)throw Error(a(476));var s=Aa(e).queue;Ca(e,s,t,L,null===n?Ia:function(){return Ra(e),n(r)})}function Aa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ra(e){Ua(e,Aa(e).next.queue,{},Dc())}function Pa(){return Ss(Yd)}function Oa(){return Ui().memoizedState}function Da(){return Ui().memoizedState}function La(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=ii(t,e=si(n),n);return null!==r&&(Mc(r,t,n),ai(r,t,n)),t={cache:Ps()},void(e.payload=t)}t=t.return}}function Ma(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},za(e)?Ba(t,n):null!==(n=jr(e,t,n,r))&&(Mc(n,e,r),qa(n,t,r))}function Fa(e,t,n){Ua(e,t,n,Dc())}function Ua(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(za(e))Ba(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Yn(o,a))return Ir(e,t,s,0),null===rc&&Cr(),!1}catch(l){}if(null!==(n=jr(e,t,s,r)))return Mc(n,e,r),qa(n,t,r),!0}return!1}function Va(e,t,n,r){if(r={lane:2,revertLane:ju(),action:r,hasEagerState:!1,eagerState:null,next:null},za(e)){if(t)throw Error(a(479))}else null!==(t=jr(e,n,r,2))&&Mc(t,e,2)}function za(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function Ba(e,t){_i=ki=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Ha={readContext:Ss,use:zi,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useLayoutEffect:Ii,useInsertionEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useSyncExternalStore:Ii,useId:Ii,useHostTransitionStatus:Ii,useFormState:Ii,useActionState:Ii,useOptimistic:Ii,useMemoCache:Ii,useCacheRefresh:Ii},Wa={readContext:Ss,use:zi,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:Ss,useEffect:ya,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ma(4194308,4,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){ma(4,2,e,t)},useMemo:function(e,t){var n=Fi();t=void 0===t?null:t;var r=e();if(Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fi();if(void 0!==n){var s=n(t);if(Ni){he(!0);try{n(t)}finally{he(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=Ma.bind(null,bi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=Zi(e)).queue,n=Fa.bind(null,bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_a,useDeferredValue:function(e,t){return Sa(Fi(),e,t)},useTransition:function(){var e=Zi(!1);return e=Ca.bind(null,bi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bi,s=Fi();if(is){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&ic)||Qi(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ya($i.bind(null,r,i,e),[e]),r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,i,n,t),null),n},useId:function(){var e=Fi(),t=rc.identifierPrefix;if(is){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=Ei++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ci++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Pa,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Va.bind(null,bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bi,useCacheRefresh:function(){return Fi().memoizedState=La.bind(null,bi)}},Ka={readContext:Ss,use:zi,useCallback:Na,useContext:Ss,useEffect:va,useImperativeHandle:ka,useInsertionEffect:ba,useLayoutEffect:wa,useMemo:Ea,useReducer:Hi,useRef:pa,useState:function(){return Hi(qi)},useDebugValue:_a,useDeferredValue:function(e,t){return Ta(Ui(),wi.memoizedState,e,t)},useTransition:function(){var e=Hi(qi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Gi,useId:Oa,useHostTransitionStatus:Pa,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(Ui(),0,e,t)},useMemoCache:Bi,useCacheRefresh:Da},Ga={readContext:Ss,use:zi,useCallback:Na,useContext:Ss,useEffect:va,useImperativeHandle:ka,useInsertionEffect:ba,useLayoutEffect:wa,useMemo:Ea,useReducer:Ki,useRef:pa,useState:function(){return Ki(qi)},useDebugValue:_a,useDeferredValue:function(e,t){var n=Ui();return null===wi?Sa(n,e,t):Ta(n,wi.memoizedState,e,t)},useTransition:function(){var e=Ki(qi)[0],t=Ui().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Gi,useId:Oa,useHostTransitionStatus:Pa,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=Ui();return null!==wi?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bi,useCacheRefresh:Da},Qa=null,Ya=0;function $a(e){var t=Ya;return Ya+=1,null===Qa&&(Qa=[]),Xs(Qa,e,t)}function Xa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ja(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===S&&Za(i)===t.type)?(Xa(t=s(t,n.props),n),t.return=e,t):(Xa(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=zr(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xa(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case S:return h(e,t=(0,t._init)(t._payload),n)}if(P(t)||j(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,$a(t),n);if(t.$$typeof===x)return h(e,Ts(e,t),n);Ja(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===s?c(e,t,n,r):null;case m:return n.key===s?u(e,t,n,r):null;case S:return f(e,t,n=(s=n._init)(n._payload),r)}if(P(n)||j(n))return null!==s?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,$a(n),r);if(n.$$typeof===x)return f(e,t,Ts(e,n),r);Ja(e,n)}return null}function y(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case S:return y(e,t,n,r=(0,r._init)(r._payload),s)}if(P(r)||j(r))return d(t,e=e.get(n)||null,r,s,null);if("function"===typeof r.then)return y(e,t,n,$a(r),s);if(r.$$typeof===x)return y(e,t,n,Ts(t,r),s);Ja(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=s(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===S&&Za(b)===c.type){n(l,c.sibling),Xa(d=s(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=zr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xa(d=Vr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=s(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=qr(u,l.mode,d)).return=l,l=d}return o(l);case S:return v(l,c,u=(b=u._init)(u._payload),d)}if(P(u))return function(s,a,o,l){for(var c=null,u=null,d=a,p=a=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(s,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(s,d),a=i(g,a,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(s,d),is&&Zr(s,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(s,o[p],l))&&(a=i(d,a,p),null===u?c=d:u.sibling=d,u=d);return is&&Zr(s,p),c}for(d=r(d);p<o.length;p++)null!==(m=y(d,s,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),a=i(m,a,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(s,e)})),is&&Zr(s,p),c}(l,c,u,d);if(j(u)){if("function"!==typeof(b=j(u)))throw Error(a(150));return function(s,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(s,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(s,p),o=i(b,o,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(s,p),is&&Zr(s,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(s,v.value,c))&&(o=i(v,o,m),null===d?u=v:d.sibling=v,d=v);return is&&Zr(s,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,s,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=i(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach((function(e){return t(s,e)})),is&&Zr(s,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,$a(u),d);if(u.$$typeof===x)return v(l,c,Ts(l,u),d);Ja(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=s(c,u)).return=l,l=d):(n(l,c),(d=Br(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Ya=0;var s=v(e,t,n,r);return Qa=null,s}catch(_c){if(_c===Ws||_c===Gs)throw _c;var i=Lr(29,_c,null,e.mode);return i.lanes=r,i.return=e,i}}}var to=eo(!0),no=eo(!1),ro=U(null),so=null;function io(e){var t=e.alternate;z(co,1&co.current),z(ro,e),null===so&&(null===t||null!==fi.current||null!==t.memoizedState)&&(so=e)}function ao(e){if(22===e.tag){if(z(co,co.current),z(ro,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else oo()}function oo(){z(co,co.current),z(ro,ro.current)}function lo(e){V(ro),so===e&&(so=null),V(co)}var co=U(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),s=si(r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ii(e,s,r))&&(Mc(t,e,r),ai(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),s=si(r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ii(e,s,r))&&(Mc(t,e,r),ai(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=si(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ii(e,r,n))&&(Mc(t,e,n),ai(t,e,n))}};function po(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(s,i))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=h({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function wo(e){yo(e)}function xo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function _o(e,t,n){return(n=si(n)).tag=3,n.payload={element:null},n.callback=function(){xo(e,t)},n}function No(e){return(e=si(e)).tag=3,e}function Eo(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var i=r.value;e.payload=function(){return s(i)},e.callback=function(){ko(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!==typeof s&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var So=Error(a(461)),To=!1;function Co(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Io(e,t,n,r,s){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Es(t),r=Ai(e,t,n,a,i,s),o=Di(),null===e||To?(is&&o&&ts(t),t.flags|=1,Co(e,t,r,s),t.child):(Li(e,t,s),Yo(e,t,s))}function jo(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Mr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ao(e,t,i,r,s))}if(i=e.child,!$o(e,s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(a,r)&&e.ref===t.ref)return Yo(e,t,s)}return t.flags|=1,(e=Fr(i,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if($n(i,r)&&e.ref===t.ref){if(To=!1,t.pendingProps=r=i,!$o(e,s))return t.lanes=e.lanes,Yo(e,t,s);0!==(131072&e.flags)&&(To=!0)}}return Do(e,t,n,r,s)}function Ro(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(s=t.child=e.child,i=0;null!==s;)i=i|s.lanes|s.childLanes,s=s.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Po(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Po(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qs(0,null!==i?i.cachePool:null),null!==i?mi(t,i):gi(),ao(t)}else null!==i?(qs(0,i.cachePool),mi(t,i),oo(),t.memoizedState=null):(null!==e&&qs(0,null),gi(),oo());return Co(e,t,s,n),t.child}function Po(e,t,n,r){var s=Bs();return s=null===s?null:{parent:Rs._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&qs(0,null),gi(),ao(t),null!==e&&_s(e,t,r,!0),null}function Oo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Do(e,t,n,r,s){return Es(t),n=Ai(e,t,n,r,void 0,s),r=Di(),null===e||To?(is&&r&&ts(t),t.flags|=1,Co(e,t,n,s),t.child):(Li(e,t,s),Yo(e,t,s))}function Lo(e,t,n,r,s,i){return Es(t),t.updateQueue=null,n=Pi(t,r,n,s),Ri(e),r=Di(),null===e||To?(is&&r&&ts(t),t.flags|=1,Co(e,t,n,i),t.child):(Li(e,t,i),Yo(e,t,i))}function Mo(e,t,n,r,s){if(Es(t),null===t.stateNode){var i=Or,a=n.contextType;"object"===typeof a&&null!==a&&(i=Ss(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fo,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ni(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Ss(a):Or,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&fo.enqueueReplaceState(i,i.state,null),ui(t,r,i,s),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(n,o);i.props=l;var c=i.context,u=n.contextType;a=Or,"object"===typeof u&&null!==u&&(a=Ss(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==a)&&mo(t,i,r,a),ti=!1;var h=t.memoizedState;i.state=h,ui(t,r,i,s),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ti||po(t,n,l,r,h,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ri(e,t),u=go(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Ss(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==l)&&mo(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,ui(t,r,i,s),ci();var f=t.memoizedState;a!==d||h!==f||ti||null!==e&&null!==e.dependencies&&Ns(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ti||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ns(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Oo(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,s),t.child=to(t,null,n,s)):Co(e,t,n,s),t.memoizedState=i.state,e=t.child):e=Yo(e,t,s),e}function Fo(e,t,n,r){return fs(),t.flags|=256,Co(e,t,n,r),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:Hs()}}function zo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Bo(e,t,n){var r,s=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(is){if(i?io(t):oo(),is){var l,c=ss;if(l=c){e:{for(l=c,c=os;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==$r?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,rs=t,ss=null,l=!0):l=!1}l||cs(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=s.children,s=s.fallback,i?(oo(),c=Ho({mode:"hidden",children:c},i=t.mode),s=zr(s,i,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(i=t.child).memoizedState=Vo(n),i.childLanes=zo(e,r,n),t.memoizedState=Uo,s):(io(t),qo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=s.fallback,c=t.mode,s=Ho({mode:"visible",children:s.children},c),(i=zr(i,c,n,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,to(t,e.child,null,n),(s=t.child).memoizedState=Vo(n),s.childLanes=zo(e,r,n),t.memoizedState=Uo,t=i);else if(io(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(a(419))).stack="",s.digest=r,ms({value:s,source:null,stack:null}),t=Wo(e,t,n)}else if(To||_s(e,t,n,!1),r=0!==(n&e.childLanes),To||r){if(null!==(r=rc)&&(0!==(s=0!==((s=0!==(42&(s=n&-n))?1:Ce(s))&(r.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Ar(e,s),Mc(r,e,s),So;"$?"===c.data||Qc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ss=vd(c.nextSibling),rs=t,is=!0,as=null,os=!1,null!==e&&(Qr[Yr++]=Xr,Qr[Yr++]=Jr,Qr[Yr++]=$r,Xr=e.id,Jr=e.overflow,$r=t),(t=qo(t,s.children)).flags|=4096);return t}return i?(oo(),i=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=Fr(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Fr(u,i):(i=zr(i,c,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,null===(c=e.child.memoizedState)?c=Vo(n):(null!==(l=c.cachePool)?(u=Rs._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hs(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=zo(e,r,n),t.memoizedState=Uo,s):(io(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return to(t,e.child,null,n),(e=qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xs(e.return,t,n)}function Go(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Qo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Co(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(co,r),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Go(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===uo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Go(t,!0,n,null,i);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_s(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ns(e))}function Xo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)To=!0;else{if(!$o(e,n)&&0===(128&t.flags))return To=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bs(0,Rs,e.memoizedState.cache),fs();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bs(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(io(t),null!==(e=Yo(e,t,n))?e.sibling:null);io(t);break;case 19:var s=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(_s(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Ro(e,t,n);case 24:bs(0,Rs,e.memoizedState.cache)}return Yo(e,t,n)}(e,t,n);To=0!==(131072&e.flags)}else To=!1,is&&0!==(1048576&t.flags)&&es(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((s=r.$$typeof)===k){t.tag=11,t=Io(null,t,r,e,n);break e}if(s===E){t.tag=14,t=jo(null,t,r,e,n);break e}}throw t=R(r)||r,Error(a(306,t,""))}Mr(r)?(e=go(r,e),t.tag=1,t=Mo(null,t,r,e,n)):(t.tag=0,t=Do(null,t,r,e,n))}return t;case 0:return Do(e,t,t.type,t.pendingProps,n);case 1:return Mo(e,t,r=t.type,s=go(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;s=i.element,ri(e,t),ui(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bs(0,Rs,r),r!==i.cache&&ks(t,[Rs],n,!0),ci(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==s){ms(s=Nr(Error(a(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ss=vd(e.firstChild),rs=t,is=!0,as=null,os=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===s){t=Yo(e,t,n);break e}Co(e,t,r,n)}t=t.child}return t;case 26:return Oo(e,t),null===e?(n=Id(t.type,null,t.pendingProps,null))?t.memoizedState=n:is||(n=t.type,e=t.pendingProps,(r=sd(H.current).createElement(n))[Re]=t,r[Pe]=e,td(r,n,e),We(r),t.stateNode=r):t.memoizedState=Id(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&is&&(r=t.stateNode=xd(t.type,t.pendingProps,H.current),rs=t,os=!0,s=ss,pd(t.type)?(bd=s,ss=vd(r.firstChild)):ss=s),Co(e,t,t.pendingProps.children,n),Oo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&is&&((s=r=ss)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===i)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,os))?(t.stateNode=r,rs=t,ss=vd(r.firstChild),os=!1,s=!0):s=!1),s||cs(t)),Q(t),s=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,od(s,i)?r=null:null!==o&&od(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Ai(e,t,Oi,null,null,n),Yd._currentValue=s),Oo(e,t),Co(e,t,r,n),t.child;case 6:return null===e&&is&&((e=n=ss)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,os))?(t.stateNode=n,rs=t,ss=null,e=!0):e=!1),e||cs(t)),null;case 13:return Bo(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):Co(e,t,r,n),t.child;case 11:return Io(e,t,t.type,t.pendingProps,n);case 7:return Co(e,t,t.pendingProps,n),t.child;case 8:case 12:return Co(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bs(0,t.type,r.value),Co(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Es(t),r=r(s=Ss(s)),t.flags|=1,Co(e,t,r,n),t.child;case 14:return jo(e,t,t.type,t.pendingProps,n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ro(e,t,n);case 24:return Es(t),r=Ss(Rs),null===e?(null===(s=Bs())&&(s=rc,i=Ps(),s.pooledCache=i,i.refCount++,null!==i&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:r,cache:s},ni(t),bs(0,Rs,s)):(0!==(e.lanes&n)&&(ri(e,t),ui(t,null,null,n),ci()),s=e.memoizedState,i=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),bs(0,Rs,r)):(r=i.cache,bs(0,Rs,r),r!==s.cache&&ks(t,[Rs],n,!0))),Co(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ro.current)&&((4194048&ic)===ic?null!==so:(62914560&ic)!==ic&&0===(536870912&ic)||t!==so))throw Js=Qs,Ks;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ws(Rs),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hs(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ps())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Jo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Jo(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=H.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=B.current,hs(t)?us(t):(e=xd(s,r,n),t.stateNode=e,Jo(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=B.current,hs(t))us(t);else{switch(s=sd(H.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Re]=t,e[Pe]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(td(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=H.current,hs(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=rs))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||cs(t)}else(e=sd(e).createTextNode(r))[Re]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[Re]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),s=!1}else s=ps(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&zu(t.stateNode.containerInfo),nl(t),null;case 10:return ws(t.type),nl(t),null;case 19:if(V(co),null===(s=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=s.rendering))if(r)tl(s,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(s,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return z(co,1&co.current|2),t.child}e=e.sibling}null!==s.tail&&te()>kc&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!is)return nl(t),null}else 2*te()-s.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=s.last)?e.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=te(),t.sibling=null,e=co.current,z(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),yi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(zs),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ws(Rs),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function sl(e,t){switch(ns(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ws(Rs),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(co),null;case 4:return G(),null;case 10:return ws(t.type),null;case 22:case 23:return lo(t),yi(),null!==e&&V(zs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ws(Rs),null;default:return null}}function il(e,t){switch(ns(t),t.tag){case 3:ws(Rs),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 13:lo(t);break;case 19:V(co);break;case 10:ws(t.type);break;case 22:case 23:lo(t),yi(),null!==e&&V(zs);break;case 24:ws(Rs)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==s)}}catch(o){du(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var i=s.next;r=i;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(u){du(s,l,u)}}}r=r.next}while(r!==i)}}catch(u){du(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(r){du(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){du(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(s){du(e,t,s)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(s){du(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){du(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){du(e,e.return,s)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":s=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Zu(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,i,s);case"select":for(i in p=o=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Zu(e,t,i,null,r,c)}for(s in r)if(i=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=i||null!=c))switch(s){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Zu(e,t,s,i,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,s)}for(o in r)if(s=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=s||null!=i))switch(o){case"value":f=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:s!==i&&Zu(e,t,o,s,r,i)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Zu(e,t,u,f,r,p)}return;default:if(St(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&ed(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||ed(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Zu(e,t,h,f,r,p)}(r,e.type,n,t),r[Pe]=t}catch(s){du(e,e.return,s)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);td(t,r,n),t[Re]=e,t[Pe]=n}catch(i){du(e,e.return,i)}}var bl=!1,wl=!1,xl=!1,kl="function"===typeof WeakSet?WeakSet:Set,_l=null;function Nl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&al(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){du(n,n.return,a)}else{var s=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){du(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(a){du(n,n.return,a)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&jl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,s=bl;var i=wl;bl=r,(wl=t)&&!i?Ul(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),bl=s,wl=i}break;case 30:break;default:Ml(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Sl=null,Tl=!1;function Cl(e,t,n){for(n=n.child;null!==n;)Il(e,t,n),n=n.sibling}function Il(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:wl||dl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=Sl,s=Tl;pd(n.type)&&(Sl=n.stateNode,Tl=!1),Cl(e,t,n),kd(n.stateNode),Sl=r,Tl=s;break;case 5:wl||dl(n,t);case 6:if(r=Sl,s=Tl,Sl=null,Cl(e,t,n),Tl=s,null!==(Sl=r))if(Tl)try{(9===Sl.nodeType?Sl.body:"HTML"===Sl.nodeName?Sl.ownerDocument.body:Sl).removeChild(n.stateNode)}catch(a){du(n,t,a)}else try{Sl.removeChild(n.stateNode)}catch(a){du(n,t,a)}break;case 18:null!==Sl&&(Tl?(md(9===(e=Sl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):md(Sl,n.stateNode));break;case 4:r=Sl,s=Tl,Sl=n.stateNode.containerInfo,Tl=!0,Cl(e,t,n),Sl=r,Tl=s;break;case 0:case 11:case 14:case 15:wl||ol(2,n,t),wl||ol(4,n,t),Cl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Cl(e,t,n),wl=r;break;default:Cl(e,t,n)}}function jl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){du(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Rl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Sl=l.stateNode,Tl=!1;break e}break;case 5:Sl=l.stateNode,Tl=!1;break e;case 3:case 4:Sl=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===Sl)throw Error(a(160));Il(i,o,s),Sl=null,Tl=!1,null!==(i=s.alternate)&&(i.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Pl=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),Dl(e),4&r&&(ol(3,e,e.return),al(3,e),ol(5,e,e.return));break;case 1:Rl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Pl;if(Rl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(i=s.getElementsByTagName("title")[0])||i[Ue]||i[Re]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),td(i,r,n),i[Re]=e,We(i),r=i;break e;case"link":var o=Vd("link","href",s).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}td(i=s.createElement(r),r,n),s.head.appendChild(i);break;case"meta":if(o=Vd("meta","content",s).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}td(i=s.createElement(r),r,n),s.head.appendChild(i);break;default:throw Error(a(468,r))}i[Re]=e,We(i),r=i}e.stateNode=r}else zd(s,e.type,e.stateNode);else e.stateNode=Dd(s,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?zd(s,e.type,e.stateNode):Dd(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){s=e.stateNode;try{kt(s,"")}catch(p){du(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(xl=!0);break;case 6:if(Rl(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){du(e,e.return,p)}}break;case 3:if(Ud=null,s=Pl,Pl=Ed(t.containerInfo),Rl(t,e),Pl=s,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(p){du(e,e.return,p)}xl&&(xl=!1,Ll(e));break;case 4:r=Pl,Pl=Ed(e.stateNode.containerInfo),Rl(t,e),Dl(e),Pl=r;break;case 12:default:Rl(t,e),Dl(e);break;case 13:Rl(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||s,wl=d||c,Rl(t,e),wl=d,bl=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||bl||wl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,s)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){du(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(p){du(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:Rl(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var s=n.stateNode;yl(e,ml(e),s);break;case 5:var i=n.stateNode;32&n.flags&&(kt(i,""),n.flags&=-33),yl(e,ml(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(a(161))}}catch(l){du(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:kd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:Ul(s,i,n),al(4,i);break;case 1:if(Ul(s,i,n),"function"===typeof(s=(r=i).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){du(r,r.return,c)}if(null!==(s=(r=i).updateQueue)){var o=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)di(l[s],o)}catch(c){du(r,r.return,c)}}n&&64&a&&ll(i),ul(i,i.return);break;case 27:vl(i);case 26:case 5:Ul(s,i,n),n&&null===r&&4&a&&hl(i),ul(i,i.return);break;case 12:Ul(s,i,n);break;case 13:Ul(s,i,n),n&&4&a&&jl(s,i);break;case 22:null===i.memoizedState&&Ul(s,i,n),ul(i,i.return);break;case 30:break;default:Ul(s,i,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Os(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Os(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&s&&al(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Os(e)));break;case 12:if(2048&s){Bl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,o=i.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){du(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?Bl(e,t,n,r):Wl(e,t):2&i._visibility?Bl(e,t,n,r):(i._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&s&&Vl(a,t);break;case 24:Bl(e,t,n,r),2048&s&&zl(t.alternate,t)}}function Hl(e,t,n,r,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Hl(i,a,o,l,s),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Hl(i,a,o,l,s):Wl(i,a):(u._visibility|=2,Hl(i,a,o,l,s)),s&&2048&c&&Vl(a.alternate,a);break;case 24:Hl(i,a,o,l,s),s&&2048&c&&zl(a.alternate,a);break;default:Hl(i,a,o,l,s)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Wl(n,r),2048&s&&Vl(r.alternate,r);break;case 24:Wl(n,r),2048&s&&zl(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===qd)throw Error(a(475));var r=qd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=jd(n.href),i=e.querySelector(Ad(s));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void We(i);i=e.ownerDocument||e,n=Rd(n),(s=_d.get(s))&&Md(n,s),We(i=i.createElement("link"));var o=i;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),td(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Pl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Pl;Pl=Ed(e.stateNode.containerInfo),Gl(e),Pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Zl(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):$l(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Zl(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==_l;){var n=_l;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Os(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,_l=r;else e:for(n=e;null!==_l;){var s=(r=_l).sibling,i=r.return;if(El(r),r===n){_l=null;break e}if(null!==s){s.return=i,_l=s;break e}_l=i}}}var ec={getCacheForType:function(e){var t=Ss(Rs),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,sc=null,ic=0,ac=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,wc=!1,xc=0,kc=1/0,Nc=null,Ec=null,Sc=0,Tc=null,Cc=null,Ic=0,jc=0,Ac=null,Rc=null,Pc=0,Oc=null;function Dc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==O.T){return 0!==Ms?Ms:ju()}return je()}function Lc(){0===gc&&(gc=0===(536870912&ic)||is?ke():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Mc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Hc(e,0),zc(e,ic,gc,!1)),Ee(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&zc(e,ic,gc,!1)),_u(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),s=r?function(e,t){var n=nc;nc|=2;var r=Kc(),s=Gc();rc!==e||ic!==t?(Nc=null,kc=te()+500,Hc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==ac&&null!==sc){t=sc;var i=oc;t:switch(ac){case 1:ac=0,oc=null,eu(e,t,i,1);break;case 2:case 9:if(Ys(i)){ac=0,oc=null,Zc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),_u(e)},i.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Ys(i)?(ac=0,oc=null,Zc(t)):(ac=0,oc=null,eu(e,t,i,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||Bd(o)){ac=0,oc=null;var c=l.sibling;if(null!==c)sc=c;else{var u=l.return;null!==u?(sc=u,tu(u)):sc=null}break t}}ac=0,oc=null,eu(e,t,i,5);break;case 6:ac=0,oc=null,eu(e,t,i,6);break;case 8:qc(),hc=6;break e;default:throw Error(a(462))}}Xc();break}catch(d){Wc(e,d)}return vs=ys=null,O.H=r,O.A=s,nc=n,null!==sc?0:(rc=null,ic=0,Cr(),hc)}(e,t):Yc(e,t,!0),i=r;;){if(0===s){cc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!i||Vc(n)){if(2===s){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Yc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,s=4;break e}i=bc,bc=s,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}s=o}if(i=!1,2!==s)continue}}if(1===s){Hc(e,0),zc(e,t,0,!0);break}e:{switch(r=e,i=s){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(s=xc+300-te())){if(zc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=cd(Uc.bind(null,r,n,bc,Nc,wc,t,gc,pc,yc,lc,i,2,-0,0),s)}else Uc(r,n,bc,Nc,wc,t,gc,pc,yc,lc,i,0,-0,0)}break}s=Yc(e,t,!1),i=!1}_u(e)}function Uc(e,t,n,r,s,i,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(qd={stylesheets:null,count:0,unsuspend:Hd},Ql(t),null!==(h=function(){if(null===qd)throw Error(a(475));var e=qd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,i,n,r,s,o,l,c,d,1,f,p)),void zc(e,i,o,!u);ru(e,t,i,n,r,s,o,l,c)}function Vc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Yn(i(),s))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var i=31-fe(s),a=1<<i;r[i]=-1,s&=~a}0!==n&&Se(e,n,t)}function Bc(){return 0!==(6&nc)||(Nu(0,!1),!1)}function qc(){if(null!==sc){if(0===ac)var e=sc.return;else vs=ys=null,Mi(e=sc),Qa=null,Ya=0,e=sc;for(;null!==e;)il(e.alternate,e),e=e.return;sc=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qc(),rc=e,sc=n=Fr(e.current,null),ic=t,ac=0,oc=null,lc=!1,cc=we(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-fe(r),i=1<<s;t|=e[s],r&=~i}return dc=t,Cr(),n}function Wc(e,t){bi=null,O.H=Ha,t===Ws||t===Gs?(t=Zs(),ac=3):t===Ks?(t=Zs(),ac=4):ac=t===So?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===sc&&(hc=1,xo(e,Nr(t,e.current)))}function Kc(){var e=O.H;return O.H=Ha,null===e?Ha:e}function Gc(){var e=O.A;return O.A=ec,e}function Qc(){hc=4,lc||(4194048&ic)!==ic&&null!==ro.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||zc(rc,ic,gc,!1)}function Yc(e,t,n){var r=nc;nc|=2;var s=Kc(),i=Gc();rc===e&&ic===t||(Nc=null,Hc(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==ac&&null!==sc){var o=sc,l=oc;switch(ac){case 8:qc(),a=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=ac;if(ac=0,oc=null,eu(e,o,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,oc=null,eu(e,o,l,c)}}$c(),a=hc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,vs=ys=null,nc=r,O.H=s,O.A=i,null===sc&&(rc=null,ic=0,Cr()),a}function $c(){for(;null!==sc;)Jc(sc)}function Xc(){for(;null!==sc&&!Z();)Jc(sc)}function Jc(e){var t=Xo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?tu(e):sc=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Lo(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Lo(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Mi(t);default:il(n,t),t=Xo(n,t=sc=Ur(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?tu(e):sc=t}function eu(e,t,n,r){vs=ys=null,Mi(t),Qa=null,Ya=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&_s(t,n,s,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===so?Qc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Qs?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,s)),!1;case 22:return n.flags|=65536,r===Qs?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,s)),!1}throw Error(a(435,n.tag))}return hu(e,r,s),Qc(),!1}if(is)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==ls&&ms(Nr(e=Error(a(422),{cause:r}),n))):(r!==ls&&ms(Nr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Nr(r,n),oi(e,s=_o(e.stateNode,r,s)),4!==hc&&(hc=2)),!1;var i=Error(a(520),{cause:r});if(i=Nr(i,n),null===vc?vc=[i]:vc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Nr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,oi(n,e=_o(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Ec||!Ec.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,Eo(s=No(s),e,n,r),oi(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,ic))return hc=1,xo(e,Nr(n,e.current)),void(sc=null)}catch(i){if(null!==s)throw sc=s,i;return hc=1,xo(e,Nr(n,e.current)),void(sc=null)}32768&t.flags?(is||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===hc&&(hc=5)}function nu(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);hc=6,sc=null}function ru(e,t,n,r,s,i,o,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==Sc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,s,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Se(e,r,0),0!==i&&0===s&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Tr,o,l,c),e===rc&&(sc=rc=null,ic=0),Cc=t,Tc=e,Ic=n,jc=i,Ac=s,Rc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ie,(function(){return cu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,s=D.p,D.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,nd=rh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rh=!1,_l=t;null!==_l;)if(e=(t=_l).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,_l=e;else for(;null!==_l;){switch(i=(t=_l).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=go(n.type,s,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){du(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,_l=e;break}_l=t.return}}(e,t)}finally{nc=o,D.p=s,O.T=r}}Sc=1,su(),iu(),au()}}function su(){if(1===Sc){Sc=0;var e=Tc,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var s=nc;nc|=4;try{Ol(t,e);var i=rd,a=er(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=Jn(o,m),v=Jn(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}rh=!!nd,rd=nd=null}finally{nc=s,D.p=r,O.T=n}}e.current=t,Sc=2}}function iu(){if(2===Sc){Sc=0;var e=Tc,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var s=nc;nc|=4;try{Nl(e,t.alternate,t)}finally{nc=s,D.p=r,O.T=n}}Sc=3}}function au(){if(4===Sc||3===Sc){Sc=0,ee();var e=Tc,t=Cc,n=Ic,r=Rc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Cc=Tc=null,ou(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Ec=null),Ie(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,s=D.p,D.p=2,O.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];i(o.value,{componentStack:o.stack})}}finally{O.T=t,D.p=s}}0!==(3&Ic)&&lu(),_u(e),s=e.pendingLanes,0!==(4194090&n)&&0!==(42&s)?e===Oc?Pc++:(Pc=0,Oc=e):Pc=0,Nu(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Os(t)))}function lu(e){return su(),iu(),au(),cu()}function cu(){if(5!==Sc)return!1;var e=Tc,t=jc;jc=0;var n=Ie(Ic),r=O.T,s=D.p;try{D.p=32>n?32:n,O.T=null,n=Ac,Ac=null;var i=Tc,o=Ic;if(Sc=0,Cc=Tc=null,Ic=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Xl(i.current),ql(i,i.current,o,n),nc=l,Nu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{D.p=s,O.T=r,ou(e,t)}}function uu(e,t,n){t=Nr(n,t),null!==(e=ii(e,t=_o(e.stateNode,t,2),2))&&(Ee(e,2),_u(e))}function du(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Nr(n,e),null!==(r=ii(t,n=No(2),2))&&(Eo(n,r,t,e),Ee(r,2),_u(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(uc=!0,s.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-xc?0===(2&nc)&&Hc(e,0):mc|=n,yc===ic&&(yc=0)),_u(e)}function pu(e,t){0===t&&(t=_e()),null!==(e=Ar(e,t))&&(Ee(e,t),_u(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),pu(e,n)}var yu=null,vu=null,bu=!1,wu=!1,xu=!1,ku=0;function _u(e){e!==vu&&null===e.next&&(null===vu?yu=vu=e:vu=vu.next=e),wu=!0,bu||(bu=!0,hd((function(){0!==(6&nc)?X(re,Eu):Su()})))}function Nu(e,t){if(!xu&&wu){xu=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var s=r.pendingLanes;if(0===s)var i=0;else{var a=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=s&~(a&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Iu(r,i))}else i=ic,0===(3&(i=be(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,i)||(n=!0,Iu(r,i));r=r.next}}while(n);xu=!1}}function Eu(){Su()}function Su(){wu=bu=!1;var e=0;0!==ku&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ld&&(ld=e,!0);return ld=null,!1}()&&(e=ku),ku=0);for(var t=te(),n=null,r=yu;null!==r;){var s=r.next,i=Tu(r,t);0===i?(r.next=null,null===n?yu=s:n.next=s,null===s&&(vu=n)):(n=r,(0!==e||0!==(3&i))&&(wu=!0)),r=s}Nu(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-fe(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=xe(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=ic,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ie(n)){case 2:case 8:n=se;break;case 32:default:n=ie;break;case 268435456:n=oe}return r=Cu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Iu(e,t){if(lu())return null;Fc(e,t,!0)}function ju(){return 0===ku&&(ku=ke()),ku}function Au(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:It(""+e)}function Ru(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<xr.length;Pu++){var Ou=xr[Pu];kr(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}kr(fr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){yo(u)}s.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){yo(u)}s.currentTarget=null,i=l}}}}function Fu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Uu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Vu]){e[Vu]=!0,Ke.forEach((function(t){"selectionchange"!==t&&(Lu.has(t)||Uu(t,!1,e),Uu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vu]||(t[Vu]=!0,Uu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(uh(t)){case 2:var s=sh;break;case 8:s=ih;break;default:s=ah}n=s.bind(null,t,n,e),s=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function qu(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===s)return;a=a.return}for(;null!==o;){if(null===(a=ze(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=i=a;continue e}o=o.parentNode}}r=r.return}Lt((function(){var r=i,s=At(n),a=[];e:{var o=wr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Mt(m,f))&&d.push(Hu(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,s),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===jt||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[Oe])&&(c||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:qe(c),p=null==u?o:qe(u),(o=new d(g,m+"leave",c,n,s)).target=h,o.relatedTarget=p,g=null,ze(s)===r&&((d=new d(f,m+"enter",u,n,s)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Ku(p))m++;for(p=0,g=f;g;g=Ku(g))p++;for(;0<m-p;)d=Ku(d),m--;for(;0<p-m;)f=Ku(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Ku(d),f=Ku(f)}d=null}else d=null;null!==c&&Gu(a,o,c,d,!1),null!==u&&null!==h&&Gu(a,h,u,d,!0)}if("select"===(c=(o=r?qe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fn;else if(Rn(o))if(Un)y=Qn;else{y=Kn;var v=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&St(r.elementType)&&(y=Fn):y=Gn;switch(y&&(y=y(e,r))?Pn(a,y,n,s):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?qe(r):window,e){case"focusin":(Rn(v)||"true"===v.contentEditable)&&(rr=v,sr=r,ir=null);break;case"focusout":ir=sr=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,s);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,s)}var b;if(kn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else jn?Cn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(En&&"ko"!==n.locale&&(jn||"onCompositionStart"!==w?"onCompositionEnd"===w&&jn&&(b=Ht()):(Bt="value"in(zt=s)?zt.value:zt.textContent,jn=!0)),0<(v=Wu(r,w)).length&&(w=new cn(w,e,null,n,s),a.push({event:w,listeners:v}),b?w.data=b:null!==(b=In(n))&&(w.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Tn=!0,Sn);case"textInput":return(e=t.data)===Sn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!kn&&Cn(e,t)?(e=Ht(),qt=Bt=zt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Wu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,s),a.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var i=Au((s[Pe]||null).action),a=r.submitter;a&&null!==(t=(t=a[Pe]||null)?Au(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var o=new Zt("action","action",null,r,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ku){var e=a?Ru(s,a):new FormData(s);ja(n,{pending:!0,data:e,method:s.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=a?Ru(s,a):new FormData(s),ja(n,{pending:!0,data:e,method:s.method,action:i},i,e))},currentTarget:s}]})}}(a,e,r,n,s)}Mu(a,t)}))}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===i||(null!=(s=Mt(e,n))&&r.unshift(Hu(e,s,i)),null!=(s=Mt(e,t))&&r.push(Hu(e,s,i))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=Mt(n,i))&&a.unshift(Hu(n,c,l)):s||null!=(c=Mt(n,i))&&a.push(Hu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function $u(e){return("string"===typeof e?e:""+e).replace(Qu,"\n").replace(Yu,"")}function Xu(e,t){return t=$u(t),$u(e)===t}function Ju(){}function Zu(e,t,n,r,s,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Zu(e,t,"name",s.name,s,null),Zu(e,t,"formEncType",s.formEncType,s,null),Zu(e,t,"formMethod",s.formMethod,s,null),Zu(e,t,"formTarget",s.formTarget,s,null)):(Zu(e,t,"encType",s.encType,s,null),Zu(e,t,"method",s.method,s,null),Zu(e,t,"target",s.target,s,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=It(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Tt.get(n)||n,r)}}function ed(e,t,n,r,s,i){switch(n){case"style":Et(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Pe]||null)?i[n]:null)&&e.removeEventListener(t,i,s),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function td(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,s=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zu(e,t,r,o,n,null)}}return i&&Zu(e,t,"srcSet",n.srcSet,n,null),void(s&&Zu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=o=i=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Zu(e,t,s,d,n,null)}}return yt(e,r,l,c,u,o,i,!1),void dt(e);case"select":for(i in Fu("invalid",e),s=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Zu(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=n&&bt(e,!!s,n,!0));case"textarea":for(o in Fu("invalid",e),r=i=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Zu(e,t,o,l,n,null)}return xt(e,s,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Zu(e,t,c,s,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(s=0;s<Du.length;s++)Fu(Du[s],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zu(e,t,u,s,n,null)}return;default:if(St(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&ed(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&Zu(e,t,l,s,n,null))}var nd=null,rd=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ld=null;var cd="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,dd="function"===typeof Promise?Promise:void 0,hd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dd?function(e){return dd.resolve(null).then(e).catch(fd)}:cd;function fd(e){setTimeout((function(){throw e}))}function pd(e){return"head"===e}function md(e,t){var n=t,r=0,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&kd(a.documentElement),2&n&&kd(a.body),4&n)for(kd(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===s)return e.removeChild(i),void Ch(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Ch(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function kd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var _d=new Map,Nd=new Set;function Ed(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=D.d;D.d={f:function(){var e=Sd.f(),t=Bc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Ra(t):Sd.r(e)},D:function(e){Sd.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){Sd.L(e,t,n);var r=Td;if(r&&e&&t){var s='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+mt(n.imageSizes)+'"]')):s+='[href="'+mt(e)+'"]';var i=s;switch(t){case"style":i=jd(e);break;case"script":i=Pd(e)}_d.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),_d.set(i,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Ad(i))||"script"===t&&r.querySelector(Od(i))||(td(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var n=Td;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Pd(e)}if(!_d.has(i)&&(e=h({rel:"modulepreload",href:e},t),_d.set(i,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(i)))return}td(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Sd.X(e,t);var n=Td;if(n&&e){var r=He(n).hoistableScripts,s=Pd(e),i=r.get(s);i||((i=n.querySelector(Od(s)))||(e=h({src:e,async:!0},t),(t=_d.get(s))&&Fd(e,t),We(i=n.createElement("script")),td(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}},S:function(e,t,n){Sd.S(e,t,n);var r=Td;if(r&&e){var s=He(r).hoistableStyles,i=jd(e);t=t||"default";var a=s.get(i);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Ad(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_d.get(i))&&Md(e,n);var l=a=r.createElement("link");We(l),td(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Ld(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(i,a)}}},M:function(e,t){Sd.M(e,t);var n=Td;if(n&&e){var r=He(n).hoistableScripts,s=Pd(e),i=r.get(s);i||((i=n.querySelector(Od(s)))||(e=h({src:e,async:!0,type:"module"},t),(t=_d.get(s))&&Fd(e,t),We(i=n.createElement("script")),td(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}};var Td="undefined"===typeof document?null:document;function Cd(e,t,n){var r=Td;if(r&&"string"===typeof t&&t){var s=mt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),Nd.has(s)||(Nd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(td(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Id(e,t,n,r){var s,i,o,l,c=(c=H.current)?Ed(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=jd(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=jd(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),_d.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_d.set(e,n),u||(s=c,i=e,o=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=s.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),td(i,"link",o),We(i),s.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function jd(e){return'href="'+mt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Rd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+mt(e)+'"]'}function Od(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var s=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),td(r,"style",s),Ld(r,n.precedence,e),t.instance=r;case"stylesheet":s=jd(n.href);var i=e.querySelector(Ad(s));if(i)return t.state.loading|=4,t.instance=i,We(i),i;r=Rd(n),(s=_d.get(s))&&Md(r,s),We(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),td(i,"link",r),t.state.loading|=4,Ld(i,n.precedence,e),t.instance=i;case"script":return i=Pd(n.src),(s=e.querySelector(Od(i)))?(t.instance=s,We(s),s):(r=n,(s=_d.get(i))&&Fd(r=h({},n),s),We(s=(e=e.ownerDocument||e).createElement("script")),td(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ld(r,n.precedence,e));return t.instance}function Ld(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)i=o;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ud=null;function Vd(e,t,n){if(null===Ud){var r=new Map,s=Ud=new Map;s.set(n,r)}else(r=(s=Ud).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Ue]||i[Re]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(i):r.set(a,[i])}}return r}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var qd=null;function Hd(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Qd,e),Kd=null,Wd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var a=s[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(s=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,s),n.set(a,s),this.count++,r=Wd.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function $d(e,t,n,r,s,i,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,n,r,s,i,a,o,l,c,u,d){return e=new $d(e,t,n,a,o,l,c,d),t=1,!0===i&&(t|=24),i=Lr(3,null,null,t),e.current=i,i.stateNode=e,(t=Ps()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ni(i),e}function Jd(e){return e?e=Or:Or}function Zd(e,t,n,r,s,i){s=Jd(s),null===r.context?r.context=s:r.pendingContext=s,(r=si(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ii(e,r,t))&&(Mc(n,0,t),ai(n,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function nh(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Mc(t,0,67108864),th(e,67108864)}}var rh=!0;function sh(e,t,n,r){var s=O.T;O.T=null;var i=D.p;try{D.p=2,ah(e,t,n,r)}finally{D.p=i,O.T=s}}function ih(e,t,n,r){var s=O.T;O.T=null;var i=D.p;try{D.p=8,ah(e,t,n,r)}finally{D.p=i,O.T=s}}function ah(e,t,n,r){if(rh){var s=oh(r);if(null===s)qu(e,t,r,lh,n),bh(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return hh=wh(hh,e,t,n,r,s),!0;case"dragenter":return fh=wh(fh,e,t,n,r,s),!0;case"mouseover":return ph=wh(ph,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return mh.set(i,wh(mh.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gh.set(i,wh(gh.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==s;){var i=Be(s);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=ve(i.pendingLanes);if(0!==a){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-fe(a);o.entanglements[1]|=l,a&=~l}_u(i),0===(6&nc)&&(kc=te()+500,Nu(0,!1))}}break;case 13:null!==(o=Ar(i,2))&&Mc(o,0,2),Bc(),th(i,2)}if(null===(i=oh(r))&&qu(e,t,r,lh,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else qu(e,t,r,null,n)}}function oh(e){return ch(e=At(e))}var lh=null;function ch(e){if(lh=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case se:return 8;case ie:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dh=!1,hh=null,fh=null,ph=null,mh=new Map,gh=new Map,yh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function wh(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=Be(t))&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function xh(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,(function(){if(13===n.tag){var e=Dc();e=Ce(e);var t=Ar(n,e);null!==t&&Mc(t,0,e),th(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&nh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);jt=r,n.target.dispatchEvent(r),jt=null,t.shift()}return!0}function _h(e,t,n){kh(e)&&n.delete(t)}function Nh(){dh=!1,null!==hh&&kh(hh)&&(hh=null),null!==fh&&kh(fh)&&(fh=null),null!==ph&&kh(ph)&&(ph=null),mh.forEach(_h),gh.forEach(_h)}function Eh(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nh)))}var Sh=null;function Th(e){Sh!==e&&(Sh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Sh===e&&(Sh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if("function"!==typeof r){if(null===ch(r||n))continue;break}var i=Be(n);null!==i&&(e.splice(t,3),t-=3,ja(i,{pending:!0,data:s,method:n.method,action:r},r,s))}})))}function Ch(e){function t(t){return Eh(t,e)}null!==hh&&Eh(hh,e),null!==fh&&Eh(fh,e),null!==ph&&Eh(ph,e),mh.forEach(t),gh.forEach(t);for(var n=0;n<yh.length;n++){var r=yh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yh.length&&null===(n=yh[0]).blockedOn;)xh(n),null===n.blockedOn&&yh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],a=s[Pe]||null;if("function"===typeof i)a||Th(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(s=i,a=i[Pe]||null)o=a.formAction;else if(null!==ch(s))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Th(n)}}}function Ih(e){this._internalRoot=e}function jh(e){this._internalRoot=e}jh.prototype.render=Ih.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zd(t.current,Dc(),e,t,null,null)},jh.prototype.unmount=Ih.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),Bc(),t[Oe]=null}},jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=je();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yh.length&&0!==t&&t<yh[n].priority;n++);yh.splice(n,0,e),0===n&&xh(e)}};var Ah=s.version;if("19.1.0"!==Ah)throw Error(a(527,Ah,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return u(s),e;if(i===r)return u(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Rh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(Rh),de=Ph}catch(Dh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",s=vo,i=bo,l=wo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,s,i,l,0,null),e[Oe]=t.current,zu(e),new Ih(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,s="",i=vo,l=bo,c=wo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,s,i,l,c,0,u)).context=Jd(null),n=t.current,(s=si(r=Ce(r=Dc()))).callback=null,ii(n,s,r),n=r,t.current.lanes=n,Ee(t,n),_u(t),e[Oe]=t.current,zu(e),new jh(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function N(e,t,r,s,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(){}function I(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return I((u=e._init)(e._payload),t,s,i,a)}}if(u)return a=a(e),u=""===i?"."+T(e,0):i,x(a)?(s="",null!=u&&(s=u.replace(S,"$&/")+"/"),I(a,t,s,"",(function(e){return e}))):null!=a&&(E(a)&&(l=a,c=s+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+u,a=N(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===i?".":i+":";if(x(e))for(var m=0;m<e.length;m++)u+=I(i=e[m],t,s,o=p+T(i,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=I(i=i.value,t,s,o=p+T(i,m++),a);else if("object"===o){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function j(e,t,n){if(null==e)return e;var r=[],s=0;return I(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),s=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!_.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),o=0;o<i;o++)a[o]=arguments[o+2];r.children=a}return N(e.type,s,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,s={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(s[r]=t[r]);var a=arguments.length-2;if(1===a)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===s[r]&&(s[r]=a[r]);return N(e,i,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),s=k.S;null!==s&&s(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(P,R)}catch(i){R(i)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(s(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(e,t,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=s,t.jsxs=s},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,N||(N=!0,_());else{var t=r(u);null!==t&&R(k,t.startTime-e)}}var _,N=!1,E=-1,S=5,T=-1;function C(){return!!y||!(t.unstable_now()-T<S)}function I(){if(y=!1,N){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),p=!0;var i=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,x(e),n=!0;break t}h===r(c)&&s(c),x(e)}else s(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&R(k,l.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?_():N=!1}}}if("function"===typeof w)_=function(){w(I)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,A=j.port2;j.port1.onmessage=I,_=function(){A.postMessage(null)}}else _=function(){v(I,0)};function R(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,R(k,i-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,N||(N=!0,_()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".419a5d54.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="client:";n.l=(r,s,i,a)=>{if(e[r])e[r].push(s);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise(((n,r)=>s=e[t]=[n,r]));r.push(s[2]=i);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,s[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var s,i,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{Decoder:()=>bx,Encoder:()=>yx,PacketType:()=>gx,protocol:()=>mx});var s=n(43),i=n(391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function l(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}n(358);const h=["sri"],f=["page"],p=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function b(){return S((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return _("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:N(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function k(e,t){return{usr:e.state,key:e.key,idx:t}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function N(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function S(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o="POP",l=null,c=d();function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function f(e){return T(e)}null==c&&(c=0,a.replaceState(u(u({},a.state),{},{idx:c}),""));let p={get action(){return o},get location(){return e(s,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(v,h),l=e,()=>{s.removeEventListener(v,h),l=null}},createHref:e=>t(s,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=_(p.location,e,t);n&&n(r,e),c=d()+1;let u=k(r,c),h=p.createHref(r);try{a.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;s.location.assign(h)}i&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let r=_(p.location,e,t);n&&n(r,e),c=d();let s=k(r,c),u=p.createHref(r);a.replaceState(s,"",u),i&&l&&l({action:o,location:p.location,delta:0})},go:e=>a.go(e)};return p}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:N(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function C(e,t){return I(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function I(e,t,n,r){let s=H(("string"===typeof t?E(t):t).pathname||"/",n);if(null==s)return null;let i=j(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=q(s);a=V(i[o],e,r)}return a}function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(w(a.relativePath.startsWith(r),'Absolute route path "'.concat(a.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),a.relativePath=a.relativePath.slice(r.length));let o=Y([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),j(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:U(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))s(e,t,r);else s(e,t)})),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=A(r.join("/")),o=[];return o.push(...a.map((e=>""===e?i:[i,e].join("/")))),s&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var R=/^:[\w-]+$/,P=3,O=2,D=1,L=10,M=-2,F=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(F)&&(r+=M),t&&(r+=O),n.filter((e=>!F(e))).reduce(((e,t)=>e+(R.test(t)?P:""===t?D:L)),r)}function V(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:Y([i,u.pathname]),pathnameBase:$(Y([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=Y([i,u.pathnameBase]))}return a}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=B(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:a,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function q(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return x(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function W(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function K(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function G(e){let t=K(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function Q(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=E(e):(r=u({},e),w(!r.pathname||!r.pathname.includes("?"),W("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),W("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),W("#","search","hash",r)));let i,a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)i=n;else{let e=t.length-1;if(!s&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:s=""}="string"===typeof e?E(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:X(r),hash:J(s)}}(r,i),c=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var Y=e=>e.join("/").replace(/\/\/+/g,"/"),$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ee=["POST","PUT","PATCH","DELETE"],te=(new Set(ee),["GET",...ee]);new Set(te),Symbol("ResetLoaderData");var ne=s.createContext(null);ne.displayName="DataRouter";var re=s.createContext(null);re.displayName="DataRouterState";var se=s.createContext({isTransitioning:!1});se.displayName="ViewTransition";var ie=s.createContext(new Map);ie.displayName="Fetchers";var ae=s.createContext(null);ae.displayName="Await";var oe=s.createContext(null);oe.displayName="Navigation";var le=s.createContext(null);le.displayName="Location";var ce=s.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var ue=s.createContext(null);ue.displayName="RouteError";function de(){return null!=s.useContext(le)}function he(){return w(de(),"useLocation() may be used only in the context of a <Router> component."),s.useContext(le).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){s.useContext(oe).static||s.useLayoutEffect(e)}function me(){let{isDataRoute:e}=s.useContext(ce);return e?function(){let{router:e}=Ee("useNavigate"),t=Te("useNavigate"),n=s.useRef(!1);pe((()=>{n.current=!0}));let r=s.useCallback((async function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(n.current,fe),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,u({fromRouteId:t},s)))}),[e,t]);return r}():function(){w(de(),"useNavigate() may be used only in the context of a <Router> component.");let e=s.useContext(ne),{basename:t,navigator:n}=s.useContext(oe),{matches:r}=s.useContext(ce),{pathname:i}=he(),a=JSON.stringify(G(r)),o=s.useRef(!1);pe((()=>{o.current=!0}));let l=s.useCallback((function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(o.current,fe),!o.current)return;if("number"===typeof r)return void n.go(r);let l=Q(r,JSON.parse(a),i,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Y([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)}),[t,n,a,i,e]);return l}()}s.createContext(null);function ge(){let{matches:e}=s.useContext(ce),t=e[e.length-1];return t?t.params:{}}function ye(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=s.useContext(ce),{pathname:r}=he(),i=JSON.stringify(G(n));return s.useMemo((()=>Q(e,JSON.parse(i),r,"path"===t)),[e,i,r,t])}function ve(e,t,n,r){w(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=s.useContext(oe),{matches:a}=s.useContext(ce),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";je(c,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=he();if(t){var m;let e="string"===typeof t?E(t):t;w("/"===d||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let g=f.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=C(e,{pathname:y});x(h||null!=v,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),x(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let b=_e(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Y([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:Y([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,r);return t&&b?s.createElement(le.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},b):b}function be(){let e=Ce(),t=Z(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=s.createElement(s.Fragment,null,s.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),s.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",s.createElement("code",{style:a},"ErrorBoundary")," or"," ",s.createElement("code",{style:a},"errorElement")," prop on your route.")),s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,o)}var we=s.createElement(be,null),xe=class extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(ce.Provider,{value:this.props.routeContext},s.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ke(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(ne);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(ce.Provider,{value:t},r)}function _e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=r.findIndex((e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id])));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let a=!1,o=-1;if(n)for(let s=0;s<r.length;s++){let e=r[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=s),e.route.id){let{loaderData:t,errors:s}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!s||void 0===s[e.route.id]);if(e.route.lazy||i){a=!0,r=o>=0?r.slice(0,o+1):[r[0]];break}}}return r.reduceRight(((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=i&&l.route.id?i[l.route.id]:void 0,h=l.route.errorElement||we,a&&(o<0&&0===c?(je("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):o===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(r.slice(0,c+1)),m=()=>{let t;return t=u?h:d?f:l.route.Component?s.createElement(l.route.Component,null):l.route.element?l.route.element:e,s.createElement(ke,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?s.createElement(xe,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function Ne(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ee(e){let t=s.useContext(ne);return w(t,Ne(e)),t}function Se(e){let t=s.useContext(re);return w(t,Ne(e)),t}function Te(e){let t=function(e){let t=s.useContext(ce);return w(t,Ne(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ce(){var e;let t=s.useContext(ue),n=Se("useRouteError"),r=Te("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Ie={};function je(e,t,n){t||Ie[e]||(Ie[e]=!0,x(!1,n))}s.memo((function(e){let{routes:t,future:n,state:r}=e;return ve(t,void 0,r,n)}));function Ae(e){let{to:t,replace:n,state:r,relative:i}=e;w(de(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=s.useContext(oe);x(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=s.useContext(ce),{pathname:l}=he(),c=me(),u=Q(t,G(o),l,"path"===i),d=JSON.stringify(u);return s.useEffect((()=>{c(JSON.parse(d),{replace:n,state:r,relative:i})}),[c,d,i,n,r]),null}function Re(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pe(e){let{basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:a,static:o=!1}=e;w(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=s.useMemo((()=>({basename:l,navigator:a,static:o,future:{}})),[l,a,o]);"string"===typeof r&&(r=E(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=s.useMemo((()=>{let e=H(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:i}}),[l,u,d,h,f,p,i]);return x(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:s.createElement(oe.Provider,{value:c},s.createElement(le.Provider,{children:n,value:m}))}function Oe(e){let{children:t,location:n}=e;return ve(De(t),n)}s.Component;function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return s.Children.forEach(e,((e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,De(e.props.children,i));w(e.type===Re,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=De(e.props.children,i)),n.push(a)})),n}var Le="get",Me="application/x-www-form-urlencoded";function Fe(e){return null!=e&&"string"===typeof e.tagName}function Ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}var Ve=null;var ze=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||ze.has(e)?e:(x(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Me,'"')),null)}function qe(e,t){let n,r,s,i,a;if(Fe(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?H(a,t):null,n=e.getAttribute("method")||Le,s=Be(e.getAttribute("enctype"))||Me,i=new FormData(e)}else if(function(e){return Fe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Fe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?H(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Le,s=Be(e.getAttribute("formenctype"))||Be(a.getAttribute("enctype"))||Me,i=new FormData(a,e),!function(){if(null===Ve)try{new FormData(document.createElement("form"),0),Ve=!1}catch(e){Ve=!0}return Ve}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(Fe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Le,r=null,s=Me,a=e}var o;return i&&"text/plain"===s&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}function He(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function We(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ke(e){return null!=e&&"string"===typeof e.page}function Ge(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Qe(e,t,n,r,s,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ye(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s})).flat(1),[...new Set(r)];var r}function $e(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,s)=>{if(t&&!Ke(s)&&"script"===s.as&&s.href&&r.has(s.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(s));return n.has(i)||(n.add(i),e.push({key:i,link:s})),e}),[])}function Xe(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Je=new Set([100,101,204,205]);function Ze(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===H(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}s.Component;function et(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,i=s.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Z(t))return s.createElement(tt,{title:"Unhandled Thrown Response!"},s.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return s.createElement(tt,{title:"Application Error!",isOutsideRemixApp:n},s.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),s.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),i)}function tt(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:i,children:a}=e,{routeModules:o}=at();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!i?a:s.createElement("html",{lang:"en"},s.createElement("head",null,s.createElement("meta",{charSet:"utf-8"}),s.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),s.createElement("title",null,n)),s.createElement("body",null,s.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,r?s.createElement(ft,null):null)))}function nt(e,t){return"lazy"===e.mode&&!0===t}function rt(){let e=s.useContext(ne);return He(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function st(){let e=s.useContext(re);return He(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var it=s.createContext(void 0);function at(){let e=s.useContext(it);return He(e,"You must render this element inside a <HydratedRouter> element"),e}function ot(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lt(e,t,n){if(n&&!ht)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function ct(e){let{page:t}=e,n=d(e,f),{router:r}=rt(),i=s.useMemo((()=>C(r.routes,t,r.basename)),[r.routes,t,r.basename]);return i?s.createElement(dt,u({page:t,matches:i},n)):null}function ut(e){let{manifest:t,routeModules:n}=at(),[r,i]=s.useState([]);return s.useEffect((()=>{let r=!1;return async function(e,t,n){return $e((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await We(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ge).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||i(e)})),()=>{r=!0}}),[e,t,n]),r}function dt(e){let{page:t,matches:n}=e,r=d(e,p),i=he(),{manifest:a,routeModules:o}=at(),{basename:l}=rt(),{loaderData:c,matches:h}=st(),f=s.useMemo((()=>Qe(t,n,h,a,i,"data")),[t,n,h,a,i]),m=s.useMemo((()=>Qe(t,n,h,a,i,"assets")),[t,n,h,a,i]),g=s.useMemo((()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let s=a.routes[t.route.id];s&&s.hasLoader&&(!f.some((e=>e.route.id===t.route.id))&&t.route.id in c&&null!==(n=o[t.route.id])&&void 0!==n&&n.shouldRevalidate||s.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let s=Ze(t,l);return r&&e.size>0&&s.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[s.pathname+s.search]}),[l,c,i,a,f,n,t,o]),y=s.useMemo((()=>Ye(m,a)),[m,a]),v=ut(m);return s.createElement(s.Fragment,null,g.map((e=>s.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},r)))),y.map((e=>s.createElement("link",u({key:e,rel:"modulepreload",href:e},r)))),v.map((e=>{let{key:t,link:n}=e;return s.createElement("link",u({key:t},n))})))}it.displayName="FrameworkContext";var ht=!1;function ft(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:i,routeDiscovery:a,ssr:o}=at(),{router:l,static:c,staticContext:f}=rt(),{matches:p}=st(),m=nt(a,o);i&&(i.didRenderScripts=!0);let g=lt(p,null,r);s.useEffect((()=>{ht=!0}),[]);let y=s.useMemo((()=>{var r;let i=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=c?"".concat(null!==(r=t.hmr)&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map(((e,n)=>{let r="route".concat(n),s=t.routes[e.route.id];He(s,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=s,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=d(e,h),s=new Set(t.state.matches.map((e=>e.route.id))),i=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push("/".concat(i.join("/"))),i.pop();a.forEach((e=>{let n=C(t.routes,e,t.basename);n&&n.forEach((e=>s.add(e.route.id)))}));let o=[...s].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return u(u({},r),{},{routes:o,sri:!!n||void 0})}(t,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return s.createElement(s.Fragment,null,s.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xe(i),type:void 0})),s.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xe(a),type:"module",async:!0})))}),[]),v=ht?[]:(b=t.entry.imports.concat(Ye(g,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof t.sri?t.sri:{};return ht?null:s.createElement(s.Fragment,null,"object"===typeof t.sri?s.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,m?null:s.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),s.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),v.map((t=>s.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0}))),y)}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var mt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{mt&&(window.__reactRouterVersion="7.6.3")}catch(Px){}function gt(e){let{basename:t,children:n,window:r}=e,i=s.useRef();null==i.current&&(i.current=b({window:r,v5Compat:!0}));let a=i.current,[o,l]=s.useState({action:a.action,location:a.location}),c=s.useCallback((e=>{s.startTransition((()=>l(e)))}),[l]);return s.useLayoutEffect((()=>a.listen(c)),[a,c]),s.createElement(Pe,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a})}var yt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=s.forwardRef((function(e,t){let n,{onClick:r,discover:i="render",prefetch:a="none",relative:o,reloadDocument:l,replace:c,state:h,target:f,to:p,preventScrollReset:g,viewTransition:y}=e,v=d(e,m),{basename:b}=s.useContext(oe),k="string"===typeof p&&yt.test(p),_=!1;if("string"===typeof p&&k&&(n=p,mt))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=H(t.pathname,b);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:_=!0}catch(Px){x(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=s.useContext(oe),{hash:i,pathname:a,search:o}=ye(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:Y([n,a])),r.createHref({pathname:l,search:o,hash:i})}(p,{relative:o}),[S,T,C]=function(e,t){let n=s.useContext(it),[r,i]=s.useState(!1),[a,o]=s.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=s.useRef(null);s.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),s.useEffect((()=>{if(r){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:ot(l,p),onBlur:ot(c,m),onMouseEnter:ot(u,p),onMouseLeave:ot(d,m),onTouchStart:ot(h,p)}]:[!1,f,{}]}(a,v),I=function(e){let{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=me(),c=he(),u=ye(e,{relative:a});return s.useCallback((s=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(s,t)){s.preventDefault();let t=void 0!==n?n:N(c)===N(u);l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o})}}),[c,l,u,n,r,t,e,i,a,o])}(p,{replace:c,state:h,target:f,preventScrollReset:g,relative:o,viewTransition:y});let j=s.createElement("a",u(u(u({},v),C),{},{href:n||E,onClick:_||l?r:function(e){r&&r(e),e.defaultPrevented||I(e)},ref:pt(t,T),target:f,"data-discover":k||"render"!==i?void 0:"true"}));return S&&!k?s.createElement(s.Fragment,null,j,s.createElement(ct,{page:E})):j}));vt.displayName="Link",s.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:c,children:h}=e,f=d(e,g),p=ye(l,{relative:f.relative}),m=he(),y=s.useContext(re),{navigator:v,basename:b}=s.useContext(oe),x=null!=y&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.useContext(se);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xt("useViewTransitionState"),i=ye(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=H(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=H(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=z(i.pathname,o)||null!=z(i.pathname,a)}(p)&&!0===c,k=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,_=m.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(_=_.toLowerCase(),N=N?N.toLowerCase():null,k=k.toLowerCase()),N&&b&&(N=H(N,b)||N);const E="/"!==k&&k.endsWith("/")?k.length-1:k.length;let S,T=_===k||!a&&_.startsWith(k)&&"/"===_.charAt(E),C=null!=N&&(N===k||!a&&N.startsWith(k)&&"/"===N.charAt(k.length)),I={isActive:T,isPending:C,isTransitioning:x},j=T?n:void 0;S="function"===typeof i?i(I):[i,T?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof o?o(I):o;return s.createElement(vt,u(u({},f),{},{"aria-current":j,className:S,ref:t,style:A,to:l,viewTransition:c}),"function"===typeof h?h(I):h)})).displayName="NavLink";var bt=s.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:i,reloadDocument:a,replace:o,state:l,method:c=Le,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g}=e,v=d(e,y),b=Et(),x=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=s.useContext(oe),r=s.useContext(ce);w(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a=u({},ye(e||".",{relative:t})),o=he();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:Y([n,a.pathname]));return N(a)}(h,{relative:p}),k="get"===c.toLowerCase()?"get":"post",_="string"===typeof h&&yt.test(h);return s.createElement("form",u(u({ref:t,method:k,action:x,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||c;b(t||e.currentTarget,{fetcherKey:r,method:n,navigate:i,replace:o,state:l,relative:p,preventScrollReset:m,viewTransition:g})}},v),{},{"data-discover":_||"render"!==n?void 0:"true"}))}));function wt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function xt(e){let t=s.useContext(ne);return w(t,wt(e)),t}function kt(e){x("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=s.useRef(Ue(e)),n=s.useRef(!1),r=he(),i=s.useMemo((()=>function(e,t){let n=Ue(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=me(),o=s.useCallback(((e,t)=>{const r=Ue("function"===typeof e?e(i):e);n.current=!0,a("?"+r,t)}),[a,i]);return[i,o]}bt.displayName="Form";var _t=0,Nt=()=>"__".concat(String(++_t),"__");function Et(){let{router:e}=xt("useSubmit"),{basename:t}=s.useContext(oe),n=Te("useRouteId");return s.useCallback((async function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:o,formData:l,body:c}=qe(r,t);if(!1===s.navigate){let t=s.fetcherKey||Nt();await e.fetch(t,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})}),[e,t,n])}const St=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Tt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var Ct={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const It=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],jt=(0,s.forwardRef)(((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c}=e,h=d(e,It);return(0,s.createElement)("svg",u(u(u({ref:t},Ct),{},{width:r,height:r,stroke:n,strokeWidth:a?24*Number(i)/Number(r):i,className:Tt("lucide",o)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...c.map((e=>{let[t,n]=e;return(0,s.createElement)(t,n)})),...Array.isArray(l)?l:[l]])})),At=["className"],Rt=(e,t)=>{const n=(0,s.forwardRef)(((n,r)=>{let{className:i}=n,a=d(n,At);return(0,s.createElement)(jt,u({ref:r,iconNode:t,className:Tt("lucide-".concat((o=St(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i)},a));var o}));return n.displayName=St(e),n},Pt=Rt("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Ot=Rt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dt=Rt("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Lt=Rt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var Mt=n(579);const Ft=e=>{var t,n,r;let{isAuthenticated:i,user:a,currentView:o,onLogout:l}=e;const[c,u]=(0,s.useState)(!1),d=me();return(0,Mt.jsx)("header",{className:"bg-black text-white shadow-lg sticky top-0 z-50",children:(0,Mt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Mt.jsx)("div",{className:"flex items-center",children:(0,Mt.jsxs)("button",{onClick:()=>d("/"),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[(0,Mt.jsx)("img",{src:"/logo.png",alt:"LegalMediate Logo",className:"h-13 w-11 object-contain rounded-full"}),(0,Mt.jsx)("span",{className:"text-xl font-bold",children:"LegalMediate"})]})}),(0,Mt.jsxs)("nav",{className:"hidden md:flex space-x-8",children:[(0,Mt.jsx)("button",{onClick:()=>d("/"),className:"text-sm font-medium transition-colors ".concat("home"===o?"text-white border-b-2 border-white pb-1":"text-gray-300 hover:text-white"),children:"Home"}),(0,Mt.jsx)("button",{onClick:()=>d("/mediators"),className:"text-sm font-medium transition-colors ".concat("mediators"===o?"text-white border-b-2 border-white pb-1":"text-gray-300 hover:text-white"),children:"Find Mediators"}),i&&(0,Mt.jsx)("button",{onClick:()=>d("mediator"===(null===a||void 0===a?void 0:a.type)?"/mediator-dashboard":"/client-dashboard"),className:"text-sm font-medium transition-colors ".concat("dashboard"===o?"text-white border-b-2 border-white pb-1":"text-gray-300 hover:text-white"),children:"Dashboard"})]}),(0,Mt.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:i?(0,Mt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-800 px-3 py-1.5 rounded-full",children:[(0,Mt.jsx)("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center text-black font-semibold",children:(null===a||void 0===a||null===(t=a.name)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())||"U"}),(0,Mt.jsx)("span",{className:"text-sm font-medium text-white",children:(null===a||void 0===a||null===(r=a.name)||void 0===r?void 0:r.split(" ")[0])||"User"})]}),(0,Mt.jsx)("button",{onClick:l,className:"text-gray-300 hover:text-white transition-colors",children:(0,Mt.jsx)(Pt,{className:"h-5 w-5"})})]}):(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("button",{onClick:()=>d("/auth?mode=signin",{loginMode:!0}),className:"bg-white text-black px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors",children:"Login"}),(0,Mt.jsx)("button",{onClick:()=>d("/auth?mode=signup",{loginMode:!1}),className:"border border-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-white hover:text-black transition-colors",children:"Sign Up"})]})}),(0,Mt.jsx)("button",{onClick:()=>u(!c),className:"md:hidden text-white",children:c?(0,Mt.jsx)(Ot,{className:"h-6 w-6"}):(0,Mt.jsx)(Dt,{className:"h-6 w-6"})})]}),c&&(0,Mt.jsx)("div",{className:"md:hidden py-4 border-t border-gray-700",children:(0,Mt.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Mt.jsx)("button",{onClick:()=>{d("/home"),u(!1)},className:"text-left px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Home"}),(0,Mt.jsx)("button",{onClick:()=>{d("/mediators"),u(!1)},className:"text-left px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Find Mediators"}),i&&(0,Mt.jsx)("button",{onClick:()=>{d("/dashboard"),u(!1)},className:"text-left px-4 py-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:"Dashboard"}),(0,Mt.jsx)("div",{className:"pt-4 border-t border-gray-700",children:i?(0,Mt.jsxs)("div",{className:"flex items-center justify-between px-4 py-2",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:(0,Mt.jsx)(Lt,{className:"h-3 w-3 text-black"})}),(0,Mt.jsx)("span",{className:"text-sm text-white",children:null===a||void 0===a?void 0:a.name})]}),(0,Mt.jsx)("button",{onClick:()=>{l(),u(!1)},className:"text-gray-300 hover:text-white transition-colors",children:(0,Mt.jsx)(Pt,{className:"h-4 w-4"})})]}):(0,Mt.jsx)("button",{onClick:()=>{d("/auth?mode=signin"),u(!1)},className:"w-full bg-white text-black px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors",children:"Sign In"})})]})})]})})},Ut=Rt("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Vt=Rt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),zt=Rt("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),Bt=Rt("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),qt=Rt("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Ht=e=>{let{onGetStarted:t,onFindMediators:n}=e;return(0,Mt.jsx)("section",{className:"bg-white py-20",children:(0,Mt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"flex justify-center mb-8",children:(0,Mt.jsx)("div",{className:"flex justify-center mb-8",children:(0,Mt.jsx)("div",{className:"w-21 h-24 rounded-full overflow-hidden",children:(0,Mt.jsx)("img",{src:"/logo.png",alt:"LegalMediate Logo",className:"w-full h-full object-cover"})})})}),(0,Mt.jsxs)("h1",{className:"text-5xl md:text-6xl font-bold text-black mb-6",children:["Resolve Legal Disputes",(0,Mt.jsx)("span",{className:"block text-gray-600",children:"Simply & Efficiently"})]}),(0,Mt.jsx)("p",{className:"text-xl text-gray-600 mb-12 max-w-3xl mx-auto",children:"Connect with qualified mediators for mediation services. Schedule video calls or in-person meetings to resolve your disputes quickly."}),(0,Mt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-16",children:[(0,Mt.jsxs)("button",{onClick:t,className:"bg-black text-white px-8 py-4 rounded-lg text-lg font-medium hover:bg-gray-800 transition-colors flex items-center",children:["Get Started",(0,Mt.jsx)(Ut,{className:"ml-2 h-5 w-5"})]}),(0,Mt.jsx)("button",{onClick:n,className:"border-2 border-black text-black px-8 py-4 rounded-lg text-lg font-medium hover:bg-black hover:text-white transition-colors",children:"Browse Mediators"})]}),(0,Mt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto",children:[(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg mb-4",children:(0,Mt.jsx)(Vt,{className:"h-8 w-8 text-black mx-auto"})}),(0,Mt.jsx)("div",{className:"text-2xl font-bold text-black mb-1",children:"500+"}),(0,Mt.jsx)("div",{className:"text-sm text-gray-600",children:"Mediators"})]}),(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg mb-4",children:(0,Mt.jsx)(zt,{className:"h-8 w-8 text-black mx-auto"})}),(0,Mt.jsx)("div",{className:"text-2xl font-bold text-black mb-1",children:"2,000+"}),(0,Mt.jsx)("div",{className:"text-sm text-gray-600",children:"Cases Resolved"})]}),(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg mb-4",children:(0,Mt.jsx)(Bt,{className:"h-8 w-8 text-black mx-auto"})}),(0,Mt.jsx)("div",{className:"text-2xl font-bold text-black mb-1",children:"24/7"}),(0,Mt.jsx)("div",{className:"text-sm text-gray-600",children:"Support"})]}),(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg mb-4",children:(0,Mt.jsx)(qt,{className:"h-8 w-8 text-black mx-auto"})}),(0,Mt.jsx)("div",{className:"text-2xl font-bold text-black mb-1",children:"100%"}),(0,Mt.jsx)("div",{className:"text-sm text-gray-600",children:"Secure"})]})]})]})})})},Wt=Rt("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Kt=Rt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Gt=Rt("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Qt=Rt("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Yt=()=>{const e=[{icon:Wt,title:"Video Meetings",description:"Secure video calls with Mediator from anywhere. High-quality, encrypted sessions for your privacy."},{icon:Kt,title:"Easy Scheduling",description:"Book appointments that work for you. Choose video calls or in-person meetings."},{icon:Gt,title:"Secure Messaging",description:"Private communication with your Mediator. Share documents and get updates safely."},{icon:qt,title:"Complete Privacy",description:"All conversations are confidential. Your information is protected and secure."},{icon:Qt,title:"Document Sharing",description:"Upload and share legal documents easily. Keep everything organized in one place."},{icon:Vt,title:"Expert Mediators",description:"Access qualified Mediators specializing in different areas of law and mediation."},{icon:Bt,title:"Fast Resolution",description:"Resolve disputes faster than traditional court processes. Save time and money."},{icon:zt,title:"Fair Mediation",description:"Professional mediation services to help both parties reach fair agreements."}];return(0,Mt.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Mt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Mt.jsxs)("div",{className:"text-center mb-16",children:[(0,Mt.jsx)("h2",{className:"text-4xl font-bold text-black mb-4",children:"How It Works"}),(0,Mt.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Simple steps to resolve your legal disputes with professional help"})]}),(0,Mt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:e.map(((e,t)=>{const n=e.icon;return(0,Mt.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,Mt.jsx)("div",{className:"bg-black w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:(0,Mt.jsx)(n,{className:"h-6 w-6 text-white"})}),(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black mb-2",children:e.title}),(0,Mt.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]},t)}))}),(0,Mt.jsxs)("div",{className:"bg-black rounded-2xl p-8 text-white",children:[(0,Mt.jsxs)("div",{className:"text-center mb-12",children:[(0,Mt.jsx)("h3",{className:"text-3xl font-bold mb-4",children:"Simple Process"}),(0,Mt.jsx)("p",{className:"text-gray-300",children:"Get help in three easy steps"})]}),(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"bg-white text-black w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"1"}),(0,Mt.jsx)("h4",{className:"text-xl font-semibold mb-2",children:"Submit Your Case"}),(0,Mt.jsx)("p",{className:"text-gray-300",children:"Tell us about your dispute. Upload any relevant documents and describe what happened."})]}),(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"bg-white text-black w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"2"}),(0,Mt.jsx)("h4",{className:"text-xl font-semibold mb-2",children:"Choose a Mediator"}),(0,Mt.jsx)("p",{className:"text-gray-300",children:"Browse qualified Mediators who specialize in your type of case. Read reviews and compare."})]}),(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"bg-white text-black w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"3"}),(0,Mt.jsx)("h4",{className:"text-xl font-semibold mb-2",children:"Start Mediation"}),(0,Mt.jsx)("p",{className:"text-gray-300",children:"Meet with your Mediator via video or in person. Work together to resolve your dispute."})]})]})]})]})})},$t=Rt("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Xt=Rt("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Jt=Rt("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Zt=()=>(0,Mt.jsx)("footer",{className:"bg-black text-white",children:(0,Mt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Mt.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Mt.jsx)(zt,{className:"h-8 w-8"}),(0,Mt.jsx)("span",{className:"text-xl font-bold",children:"LegalMediate"})]}),(0,Mt.jsx)("p",{className:"text-gray-300 mb-6 max-w-md",children:"Professional legal mediation platform connecting clients with qualified Mediator for dispute resolution services. Secure, confidential, and efficient."}),(0,Mt.jsxs)("div",{className:"space-y-2",children:[(0,Mt.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,Mt.jsx)($t,{className:"h-4 w-4 mr-3"}),(0,Mt.jsx)("span",{children:"1-800-MEDIATE"})]}),(0,Mt.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,Mt.jsx)(Xt,{className:"h-4 w-4 mr-3"}),(0,Mt.jsx)("span",{children:"contact@legalmediate.com"})]}),(0,Mt.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,Mt.jsx)(Jt,{className:"h-4 w-4 mr-3"}),(0,Mt.jsx)("span",{children:"Legal District, Professional Plaza"})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Legal Areas"}),(0,Mt.jsxs)("ul",{className:"space-y-2 text-gray-300",children:[(0,Mt.jsx)("li",{children:(0,Mt.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Family Law"})}),(0,Mt.jsx)("li",{children:(0,Mt.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Business Disputes"})}),(0,Mt.jsx)("li",{children:(0,Mt.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Contract Issues"})}),(0,Mt.jsx)("li",{children:(0,Mt.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Employment Law"})}),(0,Mt.jsx)("li",{children:(0,Mt.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Real Estate"})}),(0,Mt.jsx)("li",{children:(0,Mt.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Personal Injury"})})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),(0,Mt.jsxs)("ul",{className:"space-y-2 text-gray-300",children:[(0,Mt.jsx)("li",{children:(0,Mt.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),(0,Mt.jsx)("li",{children:(0,Mt.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"How It Works"})}),(0,Mt.jsx)("li",{children:(0,Mt.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Find Mediator"})}),(0,Mt.jsx)("li",{children:(0,Mt.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Legal Consultation"})}),(0,Mt.jsx)("li",{children:(0,Mt.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Case Management"})}),(0,Mt.jsx)("li",{children:(0,Mt.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Support"})})]})]})]}),(0,Mt.jsxs)("div",{className:"border-t border-gray-800 mt-8 pt-8",children:[(0,Mt.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,Mt.jsx)("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:"\xa9 2024 LegalMediate. All rights reserved."}),(0,Mt.jsxs)("div",{className:"flex space-x-6",children:[(0,Mt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Privacy Policy"}),(0,Mt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Terms of Service"}),(0,Mt.jsx)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Legal Notice"})]})]}),(0,Mt.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-800",children:(0,Mt.jsx)("p",{className:"text-center text-xs text-gray-500",children:"This platform connects clients with licensed attorneys. LegalMediate does not provide legal advice and is not a law firm. All legal services are provided by independent licensed attorneys."})})]})]})}),en=Rt("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),tn=Rt("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),nn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},rn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new sn;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const an=function(e){return function(e){const t=nn(e);return rn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},on=function(e){try{return rn.decodeString(e,!0)}catch(Px){console.error("base64Decode failed: ",Px)}return null};function ln(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const cn=()=>{try{return ln().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAvhENe0-mGnPsFLPXlDOCmpJH7nNPZ2JE",REACT_APP_FIREBASE_APP_ID:"1:928855765420:web:4429105cd0a232df09ca09",REACT_APP_FIREBASE_AUTH_DOMAIN:"legalmediate-94b9a.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-TC53HLQ9P5",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"928855765420",REACT_APP_FIREBASE_PROJECT_ID:"legalmediate-94b9a",REACT_APP_FIREBASE_STORAGE_BUCKET:"legalmediate-94b9a.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Px){return}const t=e&&on(e[1]);return t&&JSON.parse(t)})()}catch(Px){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Px))}},un=e=>{var t,n;return null===(n=null===(t=cn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},dn=()=>{var e;return null===(e=cn())||void 0===e?void 0:e.config},hn=e=>{var t;return null===(t=cn())||void 0===t?void 0:t["_".concat(e)]};class fn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function pn(e){return e.endsWith(".cloudworkstations.dev")}async function mn(e){return(await fetch(e,{credentials:"include"})).ok}const gn={};let yn=!1;function vn(e,t){if("undefined"===typeof window||"undefined"===typeof document||!pn(window.location.host)||gn[e]===t||gn[e]||yn)return;function n(e){return"__firebase__banner__".concat(e)}gn[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(gn))gn[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{yn=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function bn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function wn(){var e;const t=null===(e=cn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Px){return!1}}function xn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function kn(){return!wn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _n(){try{return"object"===typeof indexedDB}catch(Px){return!1}}function Nn(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class En extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sn.prototype.create)}}class Sn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(Tn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new En(n,i,t)}}const Tn=/\{\$([^}]+)}/g;function Cn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(In(n)&&In(i)){if(!Cn(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function In(e){return null!==e&&"object"===typeof e}function jn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function An(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Rn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Pn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=On),void 0===r.error&&(r.error=On),void 0===r.complete&&(r.complete=On);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Px){}})),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Px){"undefined"!==typeof console&&console.error&&console.error(Px)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function On(){}function Dn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Ln(e){return e&&e._delegate?e._delegate:e}class Mn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fn="[DEFAULT]";class Un{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new fn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Px){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Px){if(r)return null;throw Px}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fn})}catch(Px){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Px){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===Fn?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;return this.component?this.component.multipleInstances?e:Fn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Vn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Un(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const zn=[];var Bn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Bn||(Bn={}));const qn={debug:Bn.DEBUG,verbose:Bn.VERBOSE,info:Bn.INFO,warn:Bn.WARN,error:Bn.ERROR,silent:Bn.SILENT},Hn=Bn.INFO,Wn={[Bn.DEBUG]:"log",[Bn.VERBOSE]:"log",[Bn.INFO]:"info",[Bn.WARN]:"warn",[Bn.ERROR]:"error"},Kn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Wn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class Gn{constructor(e){this.name=e,this._logLevel=Hn,this._logHandler=Kn,this._userLogHandler=null,zn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?qn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.DEBUG,...t),this._logHandler(this,Bn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.VERBOSE,...t),this._logHandler(this,Bn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.INFO,...t),this._logHandler(this,Bn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.WARN,...t),this._logHandler(this,Bn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.ERROR,...t),this._logHandler(this,Bn.ERROR,...t)}}let Qn,Yn;const $n=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,er=new WeakMap;let tr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Jn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function nr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yn||(Yn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ir(this),n),sr($n.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sr(e.apply(ir(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(ir(this),t,...r);return Jn.set(i,t.sort?t.sort():[t]),sr(i)}}function rr(e){return"function"===typeof e?nr(e):(e instanceof IDBTransaction&&function(e){if(Xn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)}));Xn.set(e,t)}(e),t=e,(Qn||(Qn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,tr):e);var t}function sr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(sr(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&$n.set(t,e)})).catch((()=>{})),er.set(t,e),t}(e);if(Zn.has(e))return Zn.get(e);const t=rr(e);return t!==e&&(Zn.set(e,t),er.set(t,e)),t}const ir=e=>er.get(e);function ar(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=sr(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(sr(a.result),e.oldVersion,e.newVersion,sr(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}const or=["get","getKey","getAll","getAllKeys","count"],lr=["put","add","delete","clear"],cr=new Map;function ur(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(cr.get(t))return cr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=lr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!or.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return cr.set(t,i),i}tr=(e=>u(u({},e),{},{get:(t,n,r)=>ur(t,n)||e.get(t,n,r),has:(t,n)=>!!ur(t,n)||e.has(t,n)}))(tr);class dr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const hr="@firebase/app",fr="0.13.1",pr=new Gn("@firebase/app"),mr="@firebase/app-compat",gr="@firebase/analytics-compat",yr="@firebase/analytics",vr="@firebase/app-check-compat",br="@firebase/app-check",wr="@firebase/auth",xr="@firebase/auth-compat",kr="@firebase/database",_r="@firebase/data-connect",Nr="@firebase/database-compat",Er="@firebase/functions",Sr="@firebase/functions-compat",Tr="@firebase/installations",Cr="@firebase/installations-compat",Ir="@firebase/messaging",jr="@firebase/messaging-compat",Ar="@firebase/performance",Rr="@firebase/performance-compat",Pr="@firebase/remote-config",Or="@firebase/remote-config-compat",Dr="@firebase/storage",Lr="@firebase/storage-compat",Mr="@firebase/firestore",Fr="@firebase/ai",Ur="@firebase/firestore-compat",Vr="firebase",zr="[DEFAULT]",Br={[hr]:"fire-core",[mr]:"fire-core-compat",[yr]:"fire-analytics",[gr]:"fire-analytics-compat",[br]:"fire-app-check",[vr]:"fire-app-check-compat",[wr]:"fire-auth",[xr]:"fire-auth-compat",[kr]:"fire-rtdb",[_r]:"fire-data-connect",[Nr]:"fire-rtdb-compat",[Er]:"fire-fn",[Sr]:"fire-fn-compat",[Tr]:"fire-iid",[Cr]:"fire-iid-compat",[Ir]:"fire-fcm",[jr]:"fire-fcm-compat",[Ar]:"fire-perf",[Rr]:"fire-perf-compat",[Pr]:"fire-rc",[Or]:"fire-rc-compat",[Dr]:"fire-gcs",[Lr]:"fire-gcs-compat",[Mr]:"fire-fst",[Ur]:"fire-fst-compat",[Fr]:"fire-vertex","fire-js":"fire-js",[Vr]:"fire-js-all"},qr=new Map,Hr=new Map,Wr=new Map;function Kr(e,t){try{e.container.addComponent(t)}catch(Px){pr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Px)}}function Gr(e){const t=e.name;if(Wr.has(t))return pr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Wr.set(t,e);for(const n of qr.values())Kr(n,e);for(const n of Hr.values())Kr(n,e);return!0}function Qr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Yr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const $r=new Sn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Mn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const Jr="11.9.0";function Zr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:zr,automaticDataCollectionEnabled:!0},t),s=r.name;if("string"!==typeof s||!s)throw $r.create("bad-app-name",{appName:String(s)});if(n||(n=dn()),!n)throw $r.create("no-options");const i=qr.get(s);if(i){if(Cn(n,i.options)&&Cn(r,i.config))return i;throw $r.create("duplicate-app",{appName:s})}const a=new Vn(s);for(const l of Wr.values())a.addComponent(l);const o=new Xr(n,r,a);return qr.set(s,o),o}function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr;const t=qr.get(e);if(!t&&e===zr&&dn())return Zr();if(!t)throw $r.create("no-app",{appName:e});return t}function ts(e,t,n){var r;let s=null!==(r=Br[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void pr.warn(e.join(" "))}Gr(new Mn("".concat(s,"-version"),(()=>({library:s,version:t})),"VERSION"))}const ns="firebase-heartbeat-store";let rs=null;function ss(){return rs||(rs=ar("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ns)}catch(Px){console.warn(Px)}}}).catch((e=>{throw $r.create("idb-open",{originalErrorMessage:e.message})}))),rs}async function is(e,t){try{const n=(await ss()).transaction(ns,"readwrite"),r=n.objectStore(ns);await r.put(t,as(e)),await n.done}catch(Px){if(Px instanceof En)pr.warn(Px.message);else{const t=$r.create("idb-set",{originalErrorMessage:null===Px||void 0===Px?void 0:Px.message});pr.warn(t.message)}}}function as(e){return"".concat(e.name,"!").concat(e.options.appId)}class os{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cs(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ls();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Px){pr.warn(Px)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ls(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),us(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),us(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=an(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(Px){return pr.warn(Px),""}}}function ls(){return(new Date).toISOString().substring(0,10)}class cs{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!_n()&&Nn().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ss()).transaction(ns),n=await t.objectStore(ns).get(as(e));return await t.done,n}catch(Px){if(Px instanceof En)pr.warn(Px.message);else{const t=$r.create("idb-get",{originalErrorMessage:null===Px||void 0===Px?void 0:Px.message});pr.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return is(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return is(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function us(e){return an(JSON.stringify({version:2,heartbeats:e})).length}var ds;ds="",Gr(new Mn("platform-logger",(e=>new dr(e)),"PRIVATE")),Gr(new Mn("heartbeat",(e=>new os(e)),"PRIVATE")),ts(hr,fr,ds),ts(hr,fr,"esm2017"),ts("fire-js","");ts("firebase","11.9.1","app");const hs="@firebase/installations",fs="0.6.17",ps=1e4,ms="w:".concat(fs),gs="FIS_v2",ys=36e5,vs=new Sn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bs(e){return e instanceof En&&e.code.includes("request-failed")}function ws(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function xs(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function ks(e,t){const n=(await t.json()).error;return vs.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function _s(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ns(e,t){let{refreshToken:n}=t;const r=_s(e);return r.append("Authorization",function(e){return"".concat(gs," ").concat(e)}(n)),r}async function Es(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Ss(e){return new Promise((t=>{setTimeout(t,e)}))}const Ts=/^[cdef][\w-]{21}$/;function Cs(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Ts.test(t)?t:""}catch(e){return""}}function Is(e){return"".concat(e.appName,"!").concat(e.appId)}const js=new Map;function As(e,t){const n=Is(e);Rs(n,t),function(e,t){const n=Os();n&&n.postMessage({key:e,fid:t});Ds()}(n,t)}function Rs(e,t){const n=js.get(e);if(n)for(const r of n)r(t)}let Ps=null;function Os(){return!Ps&&"BroadcastChannel"in self&&(Ps=new BroadcastChannel("[Firebase] FID Change"),Ps.onmessage=e=>{Rs(e.data.key,e.data.fid)}),Ps}function Ds(){0===js.size&&Ps&&(Ps.close(),Ps=null)}const Ls="firebase-installations-store";let Ms=null;function Fs(){return Ms||(Ms=ar("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ls)}})),Ms}async function Us(e,t){const n=Is(e),r=(await Fs()).transaction(Ls,"readwrite"),s=r.objectStore(Ls),i=await s.get(n);return await s.put(t,n),await r.done,i&&i.fid===t.fid||As(e,t.fid),t}async function Vs(e){const t=Is(e),n=(await Fs()).transaction(Ls,"readwrite");await n.objectStore(Ls).delete(t),await n.done}async function zs(e,t){const n=Is(e),r=(await Fs()).transaction(Ls,"readwrite"),s=r.objectStore(Ls),i=await s.get(n),a=t(i);return void 0===a?await s.delete(n):await s.put(a,n),await r.done,!a||i&&i.fid===a.fid||As(e,a.fid),a}async function Bs(e){let t;const n=await zs(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Cs(),registrationStatus:0};return Ws(t)}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(vs.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:s}=t;const i=ws(n),a=_s(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:s,authVersion:gs,appId:n.appId,sdkVersion:ms},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Es((()=>fetch(i,c)));if(u.ok){const e=await u.json();return{fid:e.fid||s,registrationStatus:2,refreshToken:e.refreshToken,authToken:xs(e.authToken)}}throw await ks("Create Installation",u)}(e,t);return Us(e.appConfig,n)}catch(Px){throw bs(Px)&&409===Px.customData.serverCode?await Vs(e.appConfig):await Us(e.appConfig,{fid:t.fid,registrationStatus:0}),Px}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:qs(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function qs(e){let t=await Hs(e.appConfig);for(;1===t.registrationStatus;)await Ss(100),t=await Hs(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Bs(e);return n||t}return t}function Hs(e){return zs(e,(e=>{if(!e)throw vs.create("installation-not-found");return Ws(e)}))}function Ws(e){return 1===(t=e).registrationStatus&&t.registrationTime+ps<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Ks(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const s=function(e,t){let{fid:n}=t;return"".concat(ws(e),"/").concat(n,"/authTokens:generate")}(n,t),i=Ns(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={installation:{sdkVersion:ms,appId:n.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await Es((()=>fetch(s,l)));if(c.ok){return xs(await c.json())}throw await ks("Generate Auth Token",c)}async function Gs(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await zs(e.appConfig,(r=>{if(!Ys(r))throw vs.create("not-registered");const s=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ys}(e)}(s))return r;if(1===s.requestStatus)return t=async function(e,t){let n=await Qs(e.appConfig);for(;1===n.authToken.requestStatus;)await Ss(100),n=await Qs(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Gs(e,t):r}(e,n),r;{if(!navigator.onLine)throw vs.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Ks(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Us(e.appConfig,r),n}catch(Px){if(!bs(Px)||401!==Px.customData.serverCode&&404!==Px.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Us(e.appConfig,n)}else await Vs(e.appConfig);throw Px}}(e,n),n}}));return t?await t:r.authToken}function Qs(e){return zs(e,(e=>{if(!Ys(e))throw vs.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+ps<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Ys(e){return void 0!==e&&2===e.registrationStatus}async function $s(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Bs(e);t&&await t}(n);return(await Gs(n,t)).token}function Xs(e){return vs.create("missing-app-config-values",{valueName:e})}const Js="installations",Zs=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Xs("App Configuration");if(!e.name)throw Xs("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Xs(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Qr(t,"heartbeat"),_delete:()=>Promise.resolve()}},ei=e=>{const t=Qr(e.getProvider("app").getImmediate(),Js).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Bs(t);return r?r.catch(console.error):Gs(t).catch(console.error),n.fid}(t),getToken:e=>$s(t,e)}};Gr(new Mn(Js,Zs,"PUBLIC")),Gr(new Mn("installations-internal",ei,"PRIVATE")),ts(hs,fs),ts(hs,fs,"esm2017");const ti="analytics",ni="https://www.googletagmanager.com/gtag/js",ri=new Gn("@firebase/analytics"),si=new Sn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ii(e){if(!e.startsWith(ni)){const t=si.create("invalid-gtag-resource",{gtagURL:e});return ri.warn(t.message),""}return e}function ai(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function oi(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:ii}),r=document.createElement("script"),s="".concat(ni,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function li(e,t,n,r){return async function(s){try{for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if("event"===s){const[r,s]=a;await async function(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let e=s.send_to;Array.isArray(e)||(e=[e]);const r=await ai(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),s=e&&t[e.appId];if(!s){i=[];break}i.push(s)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(Px){ri.error(Px)}}(e,t,n,r,s)}else if("config"===s){const[s,i]=a;await async function(e,t,n,r,s,i){const a=r[s];try{if(a)await t[a];else{const e=(await ai(n)).find((e=>e.measurementId===s));e&&await t[e.appId]}}catch(Px){ri.error(Px)}e("config",s,i)}(e,t,n,r,s,i)}else if("consent"===s){const[t,n]=a;e("consent",t,n)}else if("get"===s){const[t,n,r]=a;e("get",t,n,r)}else if("set"===s){const[t]=a;e("set",t)}else e(s,...a)}catch(Px){ri.error(Px)}}}const ci=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ui(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function di(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ci,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw si.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw si.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new fi;return setTimeout((async()=>{o.abort()}),void 0!==n?n:6e4),hi({appId:r,apiKey:s,measurementId:i},a,o,t)}async function hi(e,t,n){let{throttleEndTimeMillis:r,backoffCount:s}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ci;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener((()=>{clearTimeout(i),r(si.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(Px){if(l)return ri.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===Px||void 0===Px?void 0:Px.message,"]")),{appId:o,measurementId:l};throw Px}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,s={method:"GET",headers:ui(r)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(i,s);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw si.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return i.deleteThrottleMetadata(o),t}catch(Px){const r=Px;if(!function(e){if(!(e instanceof En)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(i.deleteThrottleMetadata(o),l)return ri.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:o,measurementId:l};throw Px}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?Dn(s,i.intervalMillis,30):Dn(s,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:s+1};return i.setThrottleMetadata(o,u),ri.debug("Calling attemptFetch again in ".concat(c," millis")),hi(e,u,n,i)}}class fi{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let pi,mi;function gi(e){mi=e}function yi(e){pi=e}async function vi(e,t,n,r,s,i,a){var o;const l=di(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ri.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>ri.error(e))),t.push(l);const c=async function(){if(!_n())return ri.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Nn()}catch(Px){return ri.warn(si.create("indexeddb-unavailable",{errorInfo:null===Px||void 0===Px?void 0:Px.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ni)&&n.src.includes(e))return n;return null})(i)||oi(i,u.measurementId),mi&&(s("consent","default",mi),gi(void 0)),s("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),s("config",u.measurementId,h),pi&&(s("set",pi),yi(void 0)),u.measurementId}class bi{constructor(e){this.app=e}_delete(){return delete wi[this.app.options.appId],Promise.resolve()}}let wi={},xi=[];const ki={};let _i,Ni,Ei="dataLayer",Si="gtag",Ti=!1;function Ci(){const e=[];if(xn()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=si.create("invalid-analytics-context",{errorInfo:t});ri.warn(n.message)}}function Ii(e,t,n){Ci();const r=e.options.appId;if(!r)throw si.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw si.create("no-api-key");ri.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=wi[r])throw si.create("already-exists",{id:r});if(!Ti){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Ei);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,s){let i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[s]&&"function"===typeof window[s]&&(i=window[s]),window[s]=li(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}(wi,xi,ki,Ei,Si);Ni=e,_i=t,Ti=!0}wi[r]=vi(e,xi,ki,t,_i,Ei,n);return new bi(e)}function ji(e,t,n,r){e=Ln(e),async function(e,t,n,r,s){if(s&&s.global)e("event",n,r);else{const s=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}(Ni,wi[e.app.options.appId],t,n,r).catch((e=>ri.error(e)))}const Ai="@firebase/analytics",Ri="0.10.16";Gr(new Mn(ti,((e,t)=>{let{options:n}=t;return Ii(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Gr(new Mn("analytics-internal",(function(e){try{const t=e.getProvider(ti).getImmediate();return{logEvent:(e,n,r)=>ji(t,e,n,r)}}catch(Px){throw si.create("interop-component-reg-failed",{reason:Px})}}),"PRIVATE")),ts(Ai,Ri),ts(Ai,Ri,"esm2017");function Pi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Oi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Di=Oi,Li=new Sn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mi=new Gn("@firebase/auth");function Fi(e){if(Mi.logLevel<=Bn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mi.error("Auth (".concat(Jr,"): ").concat(e),...n)}}function Ui(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Hi(e,...n)}function Vi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Hi(e,...n)}function zi(e,t,n){const r=Object.assign(Object.assign({},Di()),{[t]:n});return new Sn("auth","Firebase",r).create(t,{appName:e.name})}function Bi(e){return zi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ui(e,"argument-error"),zi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Hi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Li.create(e,...n)}function Wi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw Hi(t,...r)}}function Ki(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Fi(t),new Error(t)}function Gi(e,t){e||Ki(t)}function Qi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yi(){return"http:"===$i()||"https:"===$i()}function $i(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Xi{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gi(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yi()||xn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ji(e,t){Gi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Zi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ea={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ta=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],na=new Xi(3e4,6e4);function ra(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function sa(e,t,n,r){return ia(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=jn(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},s);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&pn(e.emulatorConfig.host)&&(l.credentials="include"),Zi.fetch()(await oa(e,e.config.apiHost,n,a),l)}))}async function ia(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ea),t);try{const t=new ca(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw ua(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ua(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw ua(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw ua(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw zi(e,o,a);Ui(e,o)}}catch(Px){if(Px instanceof En)throw Px;Ui(e,"network-request-failed",{message:String(Px)})}}async function aa(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await sa(e,t,n,r,s);return"mfaPendingCredential"in i&&Ui(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function oa(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r),i=e,a=i.config.emulator?Ji(e.config,s):"".concat(e.config.apiScheme,"://").concat(s);if(ta.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function la(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ca{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Vi(this.auth,"network-request-failed"))),na.get())}))}}function ua(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Vi(e,t,r);return s.customData._tokenResponse=n,s}function da(e){return void 0!==e&&void 0!==e.enterprise}class ha{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return la(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fa(e,t){return sa(e,"GET","/v2/recaptchaConfig",ra(e,t))}async function pa(e,t){return sa(e,"POST","/v1/accounts:lookup",t)}function ma(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Px){}}function ga(e){return 1e3*Number(e)}function ya(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Fi("JWT malformed, contained fewer than 3 sections"),null;try{const e=on(n);return e?JSON.parse(e):(Fi("Failed to decode base64 JWT payload"),null)}catch(Px){return Fi("Caught error parsing JWT payload as JSON",null===Px||void 0===Px?void 0:Px.toString()),null}}function va(e){const t=ya(e);return Wi(t,"internal-error"),Wi("undefined"!==typeof t.exp,"internal-error"),Wi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ba(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Px){throw Px instanceof En&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Px)&&e.auth.currentUser===e&&await e.auth.signOut(),Px}}class wa{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Px){return void((null===Px||void 0===Px?void 0:Px.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class xa{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ma(this.lastLoginAt),this.creationTime=ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ka(e){var t;const n=e.auth,r=await e.getIdToken(),s=await ba(e,pa(n,{idToken:r}));Wi(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?_a(i.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xa(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function _a(e){return e.map((e=>{var{providerId:t}=e,n=Pi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Wi(e.idToken,"internal-error"),Wi("undefined"!==typeof e.idToken,"internal-error"),Wi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):va(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Wi(0!==e.length,"internal-error");const t=va(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Wi(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await ia(e,{},(async()=>{const n=jn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=await oa(e,r,"/v1/token","key=".concat(s)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&pn(e.emulatorConfig.host)&&(o.credentials="include"),Zi.fetch()(i,o)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new Na;return n&&(Wi("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Wi("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(Wi("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function Ea(e,t){Wi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Sa{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=Pi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xa(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ba(this,this.stsTokenManager.getToken(this.auth,e));return Wi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ln(e),r=await n.getIdToken(t),s=ya(r);Wi(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ma(ga(s.auth_time)),issuedAtTime:ma(ga(s.iat)),expirationTime:ma(ga(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ln(e);await ka(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Wi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Wi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ka(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await ba(this,async function(e,t){return sa(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:k}=t;Wi(v&&k,e,"internal-error");const _=Na.fromJSON(this.name,k);Wi("string"===typeof v,e,"internal-error"),Ea(u,e.name),Ea(d,e.name),Wi("boolean"===typeof b,e,"internal-error"),Wi("boolean"===typeof w,e,"internal-error"),Ea(h,e.name),Ea(f,e.name),Ea(p,e.name),Ea(m,e.name),Ea(g,e.name),Ea(y,e.name);const N=new Sa({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(N.providerData=x.map((e=>Object.assign({},e)))),m&&(N._redirectEventId=m),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Na;r.updateFromServerResponse(t);const s=new Sa({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ka(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Wi(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?_a(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length),a=new Na;a.updateFromIdToken(n);const o=new Sa({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new xa(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length)};return Object.assign(o,l),o}}const Ta=new Map;function Ca(e){Gi(e instanceof Function,"Expected a class definition");let t=Ta.get(e);return t?(Gi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ta.set(e,t),t)}class Ia{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ia.type="NONE";const ja=Ia;function Aa(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ra{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Aa(this.userKey,r.apiKey,s),this.fullPersistenceKey=Aa("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await pa(this.auth,{idToken:e}).catch((()=>{}));return t?Sa._fromGetAccountInfoResponse(this.auth,t,e):null}return Sa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ra(Ca(ja),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let s=r[0]||Ca(ja);const i=Aa(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await pa(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await Sa._fromGetAccountInfoResponse(e,r,t)}else n=Sa._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==s)try{await e._remove(i)}catch(l){}}))),new Ra(s,e,n)):new Ra(s,e,n)}}function Pa(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ma(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Oa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ua(t))return"Blackberry";if(Va(t))return"Webos";if(Da(t))return"Safari";if((t.includes("chrome/")||La(t))&&!t.includes("edge/"))return"Chrome";if(Fa(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/firefox\//i.test(e)}function Da(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function La(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/crios\//i.test(e)}function Ma(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/iemobile/i.test(e)}function Fa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/android/i.test(e)}function Ua(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/blackberry/i.test(e)}function Va(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/webos/i.test(e)}function za(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ba(){return function(){const e=bn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function qa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn();return za(e)||Fa(e)||Va(e)||Ua(e)||/windows phone/i.test(e)||Ma(e)}function Ha(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Pa(bn());break;case"Worker":t="".concat(Pa(bn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Jr,"/").concat(r)}class Wa{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Px){r(Px)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Px){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Px||void 0===Px?void 0:Px.message})}}}class Ka{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsUppercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Ga{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ya(this),this.idTokenSubscription=new Ya(this),this.beforeStateQueue=new Wa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Li,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ca(t)),this._initializationPromise=this.queue((async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await Ra.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Px){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(s=this.currentUser)||void 0===s?void 0:s.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await pa(this,{idToken:e}),n=await Sa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Yr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(Px){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Px)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Wi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Px){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ka(e)}catch(Px){if((null===Px||void 0===Px?void 0:Px.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(Bi(this));const t=e?Ln(e):null;return t&&Wi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Wi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Yr(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(Bi(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Ca(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return sa(e,"GET","/v2/passwordPolicy",ra(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ka(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return sa(e,"POST","/v2/accounts:revokeToken",ra(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ca(e)||this._popupRedirectResolver;Wi(t,this,"argument-error"),this.redirectPersistenceManager=await Ra.create(this,[Ca(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wi(a,this,"internal-error"),a.then((()=>{i||s(this.currentUser)})),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Wi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ha(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Mi.logLevel<=Bn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mi.warn("Auth (".concat(Jr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Qa(e){return Ln(e)}class Ya{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Pn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Wi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $a={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xa(e){return $a.loadJS(e)}function Ja(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Za{constructor(){this.enterprise=new eo}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eo{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const to="NO_RECAPTCHA";class no{constructor(e){this.type="recaptcha-enterprise",this.auth=Qa(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;da(s)?s.enterprise.ready((()=>{s.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(to)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Za).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{fa(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ha(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((s=>{if(!t&&da(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=$a.recaptchaEnterpriseScript;0!==t.length&&(t+=s),Xa(t).then((()=>{n(s,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ro(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new no(e);let a;if(s)a=to;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function so(e,t,n,r,s){var i,a;if("EMAIL_PASSWORD_PROVIDER"===s){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ro(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch((async s=>{if(s.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const s=await ro(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)}))}if("PHONE_PROVIDER"===s){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const s=await ro(e,t,n);return r(e,s).catch((async s=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(s.code==="auth/".concat("missing-recaptcha-token")||s.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const s=await ro(e,t,n,!1,!0);return r(e,s)}return Promise.reject(s)}))}{const s=await ro(e,t,n,!1,!0);return r(e,s)}}return Promise.reject(s+" provider is not supported.")}async function io(e){const t=Qa(e),n=await fa(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new ha(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new no(t).verify()}}function ao(e,t,n){const r=Qa(e);Wi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),i=oo(t),{host:a,port:o}=function(e){const t=oo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:lo(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:lo(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(i,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return Wi(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Wi(Cn(c,r.config.emulator)&&Cn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,pn(a)?(mn("".concat(i,"//").concat(a).concat(l)),vn("Auth",!0)):s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function oo(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function lo(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class co{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,t){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function uo(e,t){return sa(e,"POST","/v1/accounts:signUp",t)}async function ho(e,t){return aa(e,"POST","/v1/accounts:signInWithPassword",ra(e,t))}class fo extends co{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new fo(e,t,"password")}static _fromEmailAndCode(e,t){return new fo(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return so(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ho,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return aa(e,"POST","/v1/accounts:signInWithEmailLink",ra(e,t))}(e,{email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return so(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uo,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return aa(e,"POST","/v1/accounts:signInWithEmailLink",ra(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function po(e,t){return aa(e,"POST","/v1/accounts:signInWithIdp",ra(e,t))}class mo extends co{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=Pi(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new mo(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return po(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,po(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,po(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jn(t)}return e}}async function go(e,t){return sa(e,"POST","/v1/accounts:sendVerificationCode",ra(e,t))}const yo={USER_NOT_FOUND:"user-not-found"};class vo extends co{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new vo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new vo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return aa(e,"POST","/v1/accounts:signInWithPhoneNumber",ra(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await aa(e,"POST","/v1/accounts:signInWithPhoneNumber",ra(e,t));if(n.temporaryProof)throw ua(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return aa(e,"POST","/v1/accounts:signInWithPhoneNumber",ra(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),yo)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new vo({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class bo{constructor(e){var t,n,r,s,i,a;const o=An(Rn(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Wi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=An(Rn(e)).link,n=t?An(Rn(t)).deep_link_id:null,r=An(Rn(e)).deep_link_id;return(r?An(Rn(r)).link:null)||r||n||t||e}(e);try{return new bo(t)}catch(n){return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,t){return fo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=bo.parseLink(t);return Wi(n,"argument-error"),fo._fromEmailAndCode(e,n.code,n.tenantId)}}wo.PROVIDER_ID="password",wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ko extends xo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _o extends ko{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return _o.credential(t.oauthAccessToken)}catch(n){return null}}}_o.FACEBOOK_SIGN_IN_METHOD="facebook.com",_o.PROVIDER_ID="facebook.com";class No extends ko{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mo._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return No.credential(n,r)}catch(s){return null}}}No.GOOGLE_SIGN_IN_METHOD="google.com",No.PROVIDER_ID="google.com";class Eo extends ko{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Eo.credential(t.oauthAccessToken)}catch(n){return null}}}Eo.GITHUB_SIGN_IN_METHOD="github.com",Eo.PROVIDER_ID="github.com";class So extends ko{constructor(){super("twitter.com")}static credential(e,t){return mo._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return So.credential(n,r)}catch(s){return null}}}async function To(e,t){return aa(e,"POST","/v1/accounts:signUp",ra(e,t))}So.TWITTER_SIGN_IN_METHOD="twitter.com",So.PROVIDER_ID="twitter.com";class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await Sa._fromIdTokenResponse(e,n,r),i=Io(n);return new Co({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Io(n);return new Co({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Io(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class jo extends En{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,jo.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new jo(e,t,n,r)}}function Ao(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw jo._fromErrorAndOperation(e,n,t,r);throw n}))}async function Ro(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ba(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Co._forOperation(e,"link",r)}async function Po(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Yr(r.app))return Promise.reject(Bi(r));const s="reauthenticate";try{const i=await ba(e,Ao(r,s,t,e),n);Wi(i.idToken,r,"internal-error");const a=ya(i.idToken);Wi(a,r,"internal-error");const{sub:o}=a;return Wi(e.uid===o,r,"user-mismatch"),Co._forOperation(e,s,i)}catch(Px){throw(null===Px||void 0===Px?void 0:Px.code)==="auth/".concat("user-not-found")&&Ui(r,"user-mismatch"),Px}}async function Oo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Yr(e.app))return Promise.reject(Bi(e));const r="signIn",s=await Ao(e,r,t),i=await Co._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function Do(e,t){return Oo(Qa(e),t)}async function Lo(e){const t=Qa(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Mo(e,t){return sa(e,"POST","/v2/accounts/mfaEnrollment:start",ra(e,t))}new WeakMap;const Fo="__sak";class Uo{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fo,"1"),this.storage.removeItem(Fo),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Vo extends Uo{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qa(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);Ba()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vo.type="LOCAL";const zo=Vo;function Bo(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(s))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function qo(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Ho{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=qo(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Bo(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=qo(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=qo(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Bo(n);const s=setInterval((()=>{const e=Bo(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(s)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Ho.type="COOKIE";class Wo extends Uo{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Wo.type="SESSION";const Ko=Wo;class Go{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Go(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map((async e=>e(t.origin,s))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Qo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Go.receivers=[];class Yo{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise(((a,o)=>{const l=Qo("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function $o(){return window}function Xo(){return"undefined"!==typeof $o().WorkerGlobalScope&&"function"===typeof $o().importScripts}const Jo="firebaseLocalStorageDb",Zo="firebaseLocalStorage",el="fbase_key";class tl{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function nl(e,t){return e.transaction([Zo],t?"readwrite":"readonly").objectStore(Zo)}function rl(){const e=indexedDB.open(Jo,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Zo,{keyPath:el})}catch(Px){n(Px)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Zo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Jo);return new tl(e).toPromise()}(),t(await rl()))}))}))}async function sl(e,t,n){const r=nl(e,!0).put({[el]:t,value:n});return new tl(r).toPromise()}function il(e,t){const n=nl(e,!0).delete(t);return new tl(n).toPromise()}class al{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await rl()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Px){if(t++>3)throw Px;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Go._getInstance(Xo()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Yo(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rl();return await sl(e,Fo,"1"),await il(e,Fo),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>sl(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=nl(e,!1).get(t),r=await new tl(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>il(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=nl(e,!1).getAll();return new tl(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}al.type="LOCAL";const ol=al;function ll(e,t){return sa(e,"POST","/v2/accounts/mfaSignIn:start",ra(e,t))}Ja("rcb"),new Xi(3e4,6e4);const cl="recaptcha";async function ul(e,t,n){var r;if(!e._getRecaptchaConfig())try{await io(e)}catch(s){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Wi("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=so(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===to){Wi((null===n||void 0===n?void 0:n.type)===cl,e,"argument-error");return Mo(e,await dl(e,t,n))}return Mo(e,t)}),"PHONE_PROVIDER");return(await i.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Wi("signin"===t.type,e,"internal-error");const i=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Wi(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=so(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===to){Wi((null===n||void 0===n?void 0:n.type)===cl,e,"argument-error");return ll(e,await dl(e,t,n))}return ll(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=so(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===to){Wi((null===n||void 0===n?void 0:n.type)===cl,e,"argument-error");return go(e,await dl(e,t,n))}return go(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function dl(e,t,n){Wi(n.type===cl,e,"argument-error");const r=await n.verify();Wi("string"===typeof r,e,"argument-error");const s=Object.assign({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class hl{constructor(e){this.providerId=hl.PROVIDER_ID,this.auth=Qa(e)}verifyPhoneNumber(e,t){return ul(this.auth,e,Ln(t))}static credential(e,t){return vo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return hl.credentialFromTaggedObject(t)}static credentialFromError(e){return hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?vo._fromTokenResponse(n,r):null}}function fl(e,t){return t?Ca(t):(Wi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}hl.PROVIDER_ID="phone",hl.PHONE_SIGN_IN_METHOD="phone";class pl extends co{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ml(e){return Oo(e.auth,new pl(e),e.bypassAuthState)}function gl(e){const{auth:t,user:n}=e;return Wi(n,t,"internal-error"),Po(n,new pl(e),e.bypassAuthState)}async function yl(e){const{auth:t,user:n}=e;return Wi(n,t,"internal-error"),Ro(n,new pl(e),e.bypassAuthState)}class vl{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Px){this.reject(Px)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(Px){this.reject(Px)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ml;case"linkViaPopup":case"linkViaRedirect":return yl;case"reauthViaPopup":case"reauthViaRedirect":return gl;default:Ui(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bl=new Xi(2e3,1e4);class wl extends vl{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,wl.currentPopupAction&&wl.currentPopupAction.cancel(),wl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Wi(e,this.auth,"internal-error"),e}async onExecution(){Gi(1===this.filter.length,"Popup operations only handle one event");const e=Qo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Vi(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,bl.get())};e()}}wl.currentPopupAction=null;const xl=new Map;class kl extends vl{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=xl.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=El(t),r=Nl(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(Px){e=()=>Promise.reject(Px)}xl.set(this.auth._key(),e)}return this.bypassAuthState||xl.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _l(e,t){xl.set(e._key(),t)}function Nl(e){return Ca(e._redirectPersistence)}function El(e){return Aa("pendingRedirect",e.config.apiKey,e.name)}async function Sl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Yr(e.app))return Promise.reject(Bi(e));const r=Qa(e),s=fl(r,t),i=new kl(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Tl{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Il(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Il(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Vi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cl(e))}saveEventToCache(e){this.cachedEventUids.add(Cl(e)),this.lastProcessedEventTime=Date.now()}}function Cl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Il(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const jl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Al=/^https?/;async function Rl(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return sa(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Pl(r))return}catch(n){}Ui(e,"unauthorized-domain")}function Pl(e){const t=Qi(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Al.test(n))return!1;if(jl.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const Ol=new Xi(3e4,6e4);function Dl(){const e=$o().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ll(e){return new Promise(((t,n)=>{var r,s,i;function a(){Dl(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dl(),n(Vi(e,"network-request-failed"))},timeout:Ol.get()})}if(null===(s=null===(r=$o().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=$o().gapi)||void 0===i?void 0:i.load)){const t=Ja("iframefcb");return $o()[t]=()=>{gapi.load?a():n(Vi(e,"network-request-failed"))},Xa("".concat($a.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw Ml=null,e}))}let Ml=null;const Fl=new Xi(5e3,15e3),Ul={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zl(e){const t=e.config;Wi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ji(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Jr},s=Vl.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(jn(r).slice(1))}async function Bl(e){const t=await function(e){return Ml=Ml||Ll(e),Ml}(e),n=$o().gapi;return Wi(n,e,"internal-error"),t.open({where:document.body,url:zl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ul,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=Vi(e,"network-request-failed"),i=$o().setTimeout((()=>{r(s)}),Fl.get());function a(){$o().clearTimeout(i),n(t)}t.ping(a).then(a,(()=>{r(s)}))}))))}const ql={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Px){}}}function Wl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ql),{width:r.toString(),height:s.toString(),top:i,left:a}),c=bn().toLowerCase();n&&(o=La(c)?"_blank":n),Oa(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return za(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Hl(null);const d=window.open(t||"",o,u);Wi(d,e,"popup-blocked");try{d.focus()}catch(Px){}return new Hl(d)}const Kl="__/auth/handler",Gl="emulator/auth/handler",Ql=encodeURIComponent("fac");async function Yl(e,t,n,r,s,i){Wi(e.config.authDomain,e,"auth-domain-config-required"),Wi(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Jr,eventId:s};if(t instanceof xo){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof ko){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ql,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Kl);return Ji(t,Gl)}(e),"?").concat(jn(o).slice(1)).concat(c)}const $l="webStorageSupport";const Xl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ko,this._completeRedirectFn=Sl,this._overrideRedirectResult=_l}async _openPopup(e,t,n,r){var s;Gi(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Wl(e,await Yl(e,t,n,Qi(),r),Qo())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){$o().location.href=e}(await Yl(e,t,n,Qi(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Gi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Bl(e),n=new Tl(e);return t.register("authEvent",(t=>{Wi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($l,{type:$l},(n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[$l];void 0!==s&&t(!!s),Ui(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Rl(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qa()||Da()||za()}};var Jl="@firebase/auth",Zl="1.10.7";class ec{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Wi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const tc=hn("authIdTokenMaxAge")||300;let nc=null;function rc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();const t=Qr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Qr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Cn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ui(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Xl,persistence:[ol,zo,Ko]}),r=hn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tc)return;const s=null===n||void 0===n?void 0:n.token;nc!==s&&(nc=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:"Bearer ".concat(s)}:{}}))})(e.toString());!function(e,t,n){Ln(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Ln(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}const s=un("auth");return s&&ao(n,"http://".concat(s)),n}var sc,ic;sc={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Vi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},$a=sc,ic="Browser",Gr(new Mn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Wi(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:ic,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ha(ic)},c=new Ga(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ca);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Gr(new Mn("auth-internal",(e=>(e=>new ec(e))(Qa(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ts(Jl,Zl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ic)),ts(Jl,Zl,"esm2017");var ac,oc,lc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},cc={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var s=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=v(r,1),n=v(n,1)}return t=f(e,s.j(t)),new m(s,t)}for(s=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=f(e,c)}return new m(s,e)}function y(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],a=0;a<s;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=f(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var a=s+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,f=65535&this.i(s),m=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=f*g,p(n,2*s+2*i),n[2*s+2*i+1]+=l*g,p(n,2*s+2*i+1),n[2*s+2*i+1]+=f*m,p(n,2*s+2*i+1),n[2*s+2*i+2]+=l*m,p(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,oc=cc.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),s=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),s=s.j(l).add(a(c))):s=(s=s.j(r)).add(a(c))}return s},ac=cc.Integer=r}).apply("undefined"!==typeof lc?lc:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var uc,dc,hc,fc,pc,mc,gc,yc,vc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},bc={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof vc&&vc];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,(function(e,t){return t}))}}));var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){s.setTimeout((()=>{throw e}),0)}function N(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new S),(e=>e.reset()));class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,C=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=s.Promise.resolve(void 0);T=()=>{e.then(A)}};var A=()=>{for(var e;e=N();){try{e.h.call(e.g)}catch(n){_(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function R(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,P);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}z.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=q(e,t,r,s);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,s){if(r&&r.once)return Q(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,s):G(e,t,n,!1,r,s)}function G(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=a(s)?!!s.capture:!!s,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Q(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,s):G(e,t,n,!0,r,s)}function Y(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(i=e.g[t],n,r,s))&&(V(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,s)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var s=t;x(t=new P(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=se(a,r,!0,t)&&s}if(s=se(a=t.g=e,r,!0,t)&&s,s=se(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(a=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function ae(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}d(le,R);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=s.JSON.stringify,he=s.JSON.parse,fe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function be(){P.call(this,"c")}d(ve,P),d(be,P);var we={},xe=null;function ke(){return xe=xe||new ne}function _e(e){P.call(this,we.La,e)}function Ne(e){const t=ke();re(t,new _e(t))}function Ee(e,t){P.call(this,we.STAT_EVENT,e),this.stat=t}function Se(e){const t=ke();re(t,new Ee(t,e))}function Te(e,t){P.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(_e,P),we.STAT_EVENT="statevent",d(Ee,P),we.Ma="timingevent",d(Te,P),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ae,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Oe,pe),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},Ae=new Oe;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var i=0;i<s.length;i++){var a=K(n,s[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,n,r,s,i){e.info((function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function We(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),$t(n)}rn(n),Se(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),qe(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ne()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||Ne(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var i=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Ge(this),Ke(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Se(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Se(15),je(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Se(11))}}else je(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else je(this.i,this.l,o,null),Qe(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ge(this),Ke(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,Ge(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ne(),Se(17)),Ge(this),this.s=2,Ke(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,a=0;a<s;a++)t.call(void 0,r[a],n&&n[a],e)}$e.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function at(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(kt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _t(e,t){kt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nt(e,t){return kt(e),t=St(e,t),e.g.has(t)}function Et(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(St(e,t),h(n)),e.h+=n.length)}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function Ct(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let s=e;a(e)&&(s=de(e)),t.push(r+n+"="+encodeURIComponent(s))}))}catch(Px){throw t.push(r+"type="+encodeURIComponent("_badmap")),Px}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){kt(this),this.i=null,e=St(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){kt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){kt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){kt(this);let t=[];if("string"===typeof e)Nt(this,e)&&(t=t.concat(this.g.get(St(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return kt(this),this.i=null,Nt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")},d(jt,pe),jt.prototype.g=function(){return new At(this.l,this.j)},jt.prototype.i=(mt={},function(){return mt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Ot(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),qt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(st)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),i=!Ft.test(a?a.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Px){}}}function Ht(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new $e(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function $t(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){$t(e),e.u&&(s.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||j(),C||(T(),C=!0),I.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=s[o].g;const l=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),a=!1;else try{It(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||j(),C||(T(),C=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function an(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=ke(),new Te(r,n)),Jt(e)}else nn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ie;if(s.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?at(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);r&&ot(a,r),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new jt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new De(this,this.j,e);let i=this.o;if(this.S&&(i?(i=b(i),x(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,s,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Dt(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Ue(s,n,null)):Ue(s,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),$t(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,$t(this),rn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,yc=bc.createWebChannelTransport=function(){return new mn},gc=bc.getStatEventTarget=function(){return ke()},mc=bc.Event=we,pc=bc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,fc=bc.ErrorCode=Re,Pe.COMPLETE="complete",hc=bc.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,dc=bc.WebChannel=ge,bc.FetchXmlHttpFactory=jt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,uc=bc.XhrIo=Mt}).apply("undefined"!==typeof vc?vc:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const wc="@firebase/firestore",xc="4.7.17";class kc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kc.UNAUTHENTICATED=new kc(null),kc.GOOGLE_CREDENTIALS=new kc("google-credentials-uid"),kc.FIRST_PARTY=new kc("first-party-uid"),kc.MOCK_USER=new kc("mock-user");let _c="11.9.0";const Nc=new Gn("@firebase/firestore");function Ec(){return Nc.logLevel}function Sc(e){if(Nc.logLevel<=Bn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Ic);Nc.debug("Firestore (".concat(_c,"): ").concat(e),...s)}}function Tc(e){if(Nc.logLevel<=Bn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Ic);Nc.error("Firestore (".concat(_c,"): ").concat(e),...s)}}function Cc(e){if(Nc.logLevel<=Bn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Ic);Nc.warn("Firestore (".concat(_c,"): ").concat(e),...s)}}function Ic(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function jc(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Ac(e,r,n)}function Ac(e,t,n){let r="FIRESTORE (".concat(_c,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Tc(r),new Error(r)}function Rc(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||Ac(t,s,r)}function Pc(e,t){return e}const Oc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dc extends En{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Lc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Mc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Fc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(kc.UNAUTHENTICATED)))}shutdown(){}}class Uc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Vc{constructor(e){this.t=e,this.currentUser=kc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rc(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new Lc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Lc,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=s;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Sc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Sc("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Lc)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Sc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Rc("string"==typeof t.accessToken,31837,{l:t}),new Mc(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rc(null===e||"string"==typeof e,2055,{h:e}),new kc(e)}}class zc{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=kc.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Bc{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new zc(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(kc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hc{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Rc(void 0===this.o,3512);const n=e=>{null!=e.error&&Sc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Sc("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Sc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Sc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qc(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Rc("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new qc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Wc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Kc(){return new TextEncoder}class Gc{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Wc(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Qc(e,t){return e<t?-1:e>t?1:0}function Yc(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),s=t.codePointAt(n);if(r!==s){if(r<128&&s<128)return Qc(r,s);{const i=Kc(),a=Xc(i.encode($c(e,n)),i.encode($c(t,n)));return 0!==a?a:Qc(r,s)}}n+=r>65535?2:1}return Qc(e.length,t.length)}function $c(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Xc(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Qc(e[n],t[n]);return Qc(e.length,t.length)}function Jc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Zc=-62135596800,eu=1e6;class tu{static now(){return tu.fromMillis(Date.now())}static fromDate(e){return tu.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*eu);return new tu(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Dc(Oc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Dc(Oc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Zc)throw new Dc(Oc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dc(Oc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eu}_compareTo(e){return this.seconds===e.seconds?Qc(this.nanoseconds,e.nanoseconds):Qc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Zc;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nu{static fromTimestamp(e){return new nu(e)}static min(){return new nu(new tu(0,0))}static max(){return new nu(new tu(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ru="__name__";class su{constructor(e,t,n){void 0===t?t=0:t>e.length&&jc(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&jc(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===su.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof su?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=su.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Qc(e.length,t.length)}static compareSegments(e,t){const n=su.isNumericId(e),r=su.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?su.extractNumericId(e).compare(su.extractNumericId(t)):Yc(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ac.fromString(e.substring(4,e.length-2))}}class iu extends su{construct(e,t,n){return new iu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new Dc(Oc.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter((e=>e.length>0)))}return new iu(e)}static emptyPath(){return new iu([])}}const au=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ou extends su{construct(e,t,n){return new ou(e,t,n)}static isValidIdentifier(e){return au.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ou.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ru}static keyField(){return new ou([ru])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Dc(Oc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Dc(Oc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Dc(Oc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new Dc(Oc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ou(t)}static emptyPath(){return new ou([])}}class lu{constructor(e){this.path=e}static fromPath(e){return new lu(iu.fromString(e))}static fromName(e){return new lu(iu.fromString(e).popFirst(5))}static empty(){return new lu(iu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===iu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return iu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lu(new iu(e.slice()))}}const cu=-1;class uu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}uu.UNKNOWN_ID=-1;function du(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=nu.fromTimestamp(1e9===r?new tu(n+1,0):new tu(n,r));return new fu(s,lu.empty(),t)}function hu(e){return new fu(e.readTime,e.key,cu)}class fu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new fu(nu.min(),lu.empty(),cu)}static max(){return new fu(nu.max(),lu.empty(),cu)}}function pu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=lu.comparator(e.documentKey,t.documentKey),0!==n?n:Qc(e.largestBatchId,t.largestBatchId))}const mu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yu(e){if(e.code!==Oc.FAILED_PRECONDITION||e.message!==mu)throw e;Sc("LocalStore","Unexpectedly lost primary lease")}class vu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jc(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new vu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof vu?t:vu.resolve(t)}catch(e){return vu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):vu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):vu.reject(t)}static resolve(e){return new vu(((t,n)=>{t(e)}))}static reject(e){return new vu(((t,n)=>{n(e)}))}static waitFor(e){return new vu(((t,n)=>{let r=0,s=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++s,i&&s===r&&t()}),(e=>n(e)))})),i=!0,s===r&&t()}))}static or(e){let t=vu.resolve(!1);for(const n of e)t=t.next((e=>e?vu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new vu(((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++a,a===s&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new vu(((n,r)=>{const s=()=>{!0===e()?t().next((()=>{s()}),r):n()};s()}))}}function bu(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wu(e){return"IndexedDbTransactionError"===e.name}class xu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}xu.le=-1;const ku=-1;function _u(e){return null==e}function Nu(e){return 0===e&&1/e==-1/0}function Eu(e){return"number"==typeof e&&Number.isInteger(e)&&!Nu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Su="\x01";function Tu(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Iu(t)),t=Cu(e.get(n),t);return Iu(t)}function Cu(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case Su:n+="\x01\x11";break;default:n+=t}}return n}function Iu(e){return e+Su+"\x01"}const ju="remoteDocuments",Au="owner",Ru="mutationQueues",Pu="mutations";const Ou="documentMutations",Du="remoteDocumentsV14",Lu="remoteDocumentGlobal",Mu="targets",Fu="targetDocuments",Uu="targetGlobal",Vu="collectionParents",zu="clientMetadata",Bu="bundles",qu="namedQueries",Hu="indexConfiguration",Wu="indexState",Ku="indexEntries",Gu="documentOverlays",Qu="globals",Yu=[Ru,Pu,Ou,ju,Mu,Au,Uu,Fu,zu,Lu,Vu,Bu,qu],$u=[Ru,Pu,Ou,Du,Mu,Au,Uu,Fu,zu,Lu,Vu,Bu,qu,Gu],Xu=$u,Ju=[...Xu,Hu,Wu,Ku];function Zu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ed(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function td(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class nd{constructor(e,t){this.comparator=e,this.root=t||sd.EMPTY}insert(e,t){return new nd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sd.BLACK,null,null))}remove(e){return new nd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rd(this.root,e,this.comparator,!0)}}class rd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sd{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:sd.RED,this.left=null!=r?r:sd.EMPTY,this.right=null!=s?s:sd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new sd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return sd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jc(43730,{key:this.key,value:this.value});if(this.right.isRed())throw jc(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw jc(27949);return e+(this.isRed()?0:1)}}sd.EMPTY=null,sd.RED=!0,sd.BLACK=!1,sd.EMPTY=new class{constructor(){this.size=0}get key(){throw jc(57766)}get value(){throw jc(16141)}get color(){throw jc(16727)}get left(){throw jc(29726)}get right(){throw jc(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new sd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class id{constructor(e){this.comparator=e,this.data=new nd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ad(this.data.getIterator())}getIteratorFrom(e){return new ad(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof id))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new id(this.comparator);return t.data=e,t}}class ad{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class od{constructor(e){this.fields=e,e.sort(ou.comparator)}static empty(){return new od([])}unionWith(e){let t=new id(ou.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new od(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ld extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cd{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ld("Invalid base64 string: "+e):e}}(e);return new cd(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new cd(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cd.EMPTY_BYTE_STRING=new cd("");const ud=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dd(e){if(Rc(!!e,39018),"string"==typeof e){let t=0;const n=ud.exec(e);if(Rc(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:hd(e.seconds),nanos:hd(e.nanos)}}function hd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fd(e){return"string"==typeof e?cd.fromBase64String(e):cd.fromUint8Array(e)}const pd="server_timestamp",md="__type__",gd="__previous_value__",yd="__local_write_time__";function vd(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[md])||void 0===n?void 0:n.stringValue)===pd}function bd(e){const t=e.mapValue.fields[gd];return vd(t)?bd(t):t}function wd(e){const t=dd(e.mapValue.fields[yd].timestampValue);return new tu(t.seconds,t.nanos)}class xd{constructor(e,t,n,r,s,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const kd="(default)";class _d{constructor(e,t){this.projectId=e,this.database=t||kd}static empty(){return new _d("","")}get isDefaultDatabase(){return this.database===kd}isEqual(e){return e instanceof _d&&e.projectId===this.projectId&&e.database===this.database}}const Nd="__type__",Ed="__max__",Sd={mapValue:{fields:{__type__:{stringValue:Ed}}}},Td="__vector__",Cd="value";function Id(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vd(e)?4:Kd(e)?9007199254740991:Hd(e)?10:11:jc(28295,{value:e})}function jd(e,t){if(e===t)return!0;const n=Id(e);if(n!==Id(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wd(e).isEqual(wd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=dd(e.timestampValue),r=dd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fd(e.bytesValue).isEqual(fd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hd(e.geoPointValue.latitude)===hd(t.geoPointValue.latitude)&&hd(e.geoPointValue.longitude)===hd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hd(e.integerValue)===hd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=hd(e.doubleValue),r=hd(t.doubleValue);return n===r?Nu(n)===Nu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jc(e.arrayValue.values||[],t.arrayValue.values||[],jd);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zu(n)!==Zu(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!jd(n[s],r[s])))return!1;return!0}(e,t);default:return jc(52216,{left:e})}}function Ad(e,t){return void 0!==(e.values||[]).find((e=>jd(e,t)))}function Rd(e,t){if(e===t)return 0;const n=Id(e),r=Id(t);if(n!==r)return Qc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=hd(e.integerValue||e.doubleValue),r=hd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Pd(e.timestampValue,t.timestampValue);case 4:return Pd(wd(e),wd(t));case 5:return Yc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=fd(e),r=fd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Qc(n[s],r[s]);if(0!==e)return e}return Qc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Qc(hd(e.latitude),hd(t.latitude));return 0!==n?n:Qc(hd(e.longitude),hd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Od(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,i;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Cd])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Cd])||void 0===r?void 0:r.arrayValue,u=Qc((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Od(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Sd.mapValue&&t===Sd.mapValue)return 0;if(e===Sd.mapValue)return 1;if(t===Sd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=Yc(r[a],i[a]);if(0!==e)return e;const t=Rd(n[r[a]],s[i[a]]);if(0!==t)return t}return Qc(r.length,i.length)}(e.mapValue,t.mapValue);default:throw jc(23264,{Pe:n})}}function Pd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qc(e,t);const n=dd(e),r=dd(t),s=Qc(n.seconds,r.seconds);return 0!==s?s:Qc(n.nanos,r.nanos)}function Od(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Rd(n[s],r[s]);if(e)return e}return Qc(n.length,r.length)}function Dd(e){return Ld(e)}function Ld(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=dd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return fd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return lu.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ld(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(Ld(e.fields[s]));return n+"}"}(e.mapValue):jc(61005,{value:e})}function Md(e){switch(Id(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bd(e);return t?16+Md(t):16;case 5:return 2*e.stringValue.length;case 6:return fd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Md(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ed(e.fields,((e,n)=>{t+=e.length+Md(n)})),t}(e.mapValue);default:throw jc(13486,{value:e})}}function Fd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ud(e){return!!e&&"integerValue"in e}function Vd(e){return!!e&&"arrayValue"in e}function zd(e){return!!e&&"nullValue"in e}function Bd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qd(e){return!!e&&"mapValue"in e}function Hd(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Nd])||void 0===n?void 0:n.stringValue)===Td}function Wd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ed(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Wd(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Kd(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ed}class Gd{constructor(e){this.value=e}static empty(){return new Gd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!qd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wd(t)}setAll(e){let t=ou.emptyPath(),n={},r=[];e.forEach(((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Wd(e):r.push(s.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());qd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];qd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ed(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Gd(Wd(this.value))}}function Qd(e){const t=[];return ed(e.fields,((e,n)=>{const r=new ou([e]);if(qd(n)){const e=Qd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new od(t)}class Yd{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Yd(e,0,nu.min(),nu.min(),nu.min(),Gd.empty(),0)}static newFoundDocument(e,t,n,r){return new Yd(e,1,t,nu.min(),n,r,0)}static newNoDocument(e,t){return new Yd(e,2,t,nu.min(),nu.min(),Gd.empty(),0)}static newUnknownDocument(e,t){return new Yd(e,3,t,nu.min(),nu.min(),Gd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(nu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nu.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class $d{constructor(e,t){this.position=e,this.inclusive=t}}function Xd(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?lu.comparator(lu.fromName(a.referenceValue),n.key):Rd(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Jd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jd(e.position[n],t.position[n]))return!1;return!0}class Zd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function eh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class th{}class nh extends th{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new uh(e,t,n):"array-contains"===t?new ph(e,n):"in"===t?new mh(e,n):"not-in"===t?new gh(e,n):"array-contains-any"===t?new yh(e,n):new nh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new dh(e,n):new hh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Rd(t,this.value)):null!==t&&Id(this.value)===Id(t)&&this.matchesComparison(Rd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jc(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rh extends th{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new rh(e,t)}matches(e){return sh(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function sh(e){return"and"===e.op}function ih(e){return ah(e)&&sh(e)}function ah(e){for(const t of e.filters)if(t instanceof rh)return!1;return!0}function oh(e){if(e instanceof nh)return e.field.canonicalString()+e.op.toString()+Dd(e.value);if(ih(e))return e.filters.map((e=>oh(e))).join(",");{const t=e.filters.map((e=>oh(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function lh(e,t){return e instanceof nh?function(e,t){return t instanceof nh&&e.op===t.op&&e.field.isEqual(t.field)&&jd(e.value,t.value)}(e,t):e instanceof rh?function(e,t){return t instanceof rh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&lh(n,t.filters[r])),!0)}(e,t):void jc(19439)}function ch(e){return e instanceof nh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Dd(e.value))}(e):e instanceof rh?function(e){return e.op.toString()+" {"+e.getFilters().map(ch).join(" ,")+"}"}(e):"Filter"}class uh extends nh{constructor(e,t,n){super(e,t,n),this.key=lu.fromName(n.referenceValue)}matches(e){const t=lu.comparator(e.key,this.key);return this.matchesComparison(t)}}class dh extends nh{constructor(e,t){super(e,"in",t),this.keys=fh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class hh extends nh{constructor(e,t){super(e,"not-in",t),this.keys=fh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function fh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>lu.fromName(e.referenceValue)))}class ph extends nh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vd(t)&&Ad(t.arrayValue,this.value)}}class mh extends nh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ad(this.value.arrayValue,t)}}class gh extends nh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ad(this.value.arrayValue,t)}}class yh extends nh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ad(this.value.arrayValue,e)))}}class vh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.Ie=null}}function bh(e){return new vh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function wh(e){const t=Pc(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>oh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),_u(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Dd(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Dd(e))).join(",")),t.Ie=e}return t.Ie}function xh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!eh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!lh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Jd(e.startAt,t.startAt)&&Jd(e.endAt,t.endAt)}function kh(e){return lu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class _h{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Nh(e,t,n,r,s,i,a,o){return new _h(e,t,n,r,s,i,a,o)}function Eh(e){return new _h(e)}function Sh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Th(e){return null!==e.collectionGroup}function Ch(e){const t=Pc(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new id(ou.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new Zd(r,n))})),e.has(ou.keyField().canonicalString())||t.Ee.push(new Zd(ou.keyField(),n))}return t.Ee}function Ih(e){const t=Pc(e);return t.de||(t.de=jh(t,Ch(e))),t.de}function jh(e,t){if("F"===e.limitType)return bh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Zd(e.field,t)}));const n=e.endAt?new $d(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new $d(e.startAt.position,e.startAt.inclusive):null;return bh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ah(e,t){const n=e.filters.concat([t]);return new _h(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Rh(e,t,n){return new _h(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ph(e,t){return xh(Ih(e),Ih(t))&&e.limitType===t.limitType}function Oh(e){return"".concat(wh(Ih(e)),"|lt:").concat(e.limitType)}function Dh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ch(e))).join(", "),"]")),_u(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Dd(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Dd(e))).join(",")),"Target(".concat(t,")")}(Ih(e)),"; limitType=").concat(e.limitType,")")}function Lh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):lu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ch(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Xd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ch(e),t))&&!(e.endAt&&!function(e,t,n){const r=Xd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ch(e),t))}(e,t)}function Mh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Fh(e){return(t,n)=>{let r=!1;for(const s of Ch(e)){const e=Uh(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Uh(e,t,n){const r=e.field.isKeyField()?lu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Rd(r,s):jc(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return jc(19790,{direction:e.dir})}}class Vh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ed(this.inner,((t,n)=>{for(const[r,s]of n)e(r,s)}))}isEmpty(){return td(this.inner)}size(){return this.innerSize}}const zh=new nd(lu.comparator);function Bh(){return zh}const qh=new nd(lu.comparator);function Hh(){let e=qh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function Wh(e){let t=qh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Kh(){return Qh()}function Gh(){return Qh()}function Qh(){return new Vh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Yh=new nd(lu.comparator),$h=new id(lu.comparator);function Xh(){let e=$h;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const Jh=new id(Qc);function Zh(){return Jh}function ef(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nu(t)?"-0":t}}function tf(e){return{integerValue:""+e}}function nf(e,t){return Eu(t)?tf(t):ef(e,t)}class rf{constructor(){this._=void 0}}function sf(e,t,n){return e instanceof lf?function(e,t){const n={fields:{[md]:{stringValue:pd},[yd]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vd(t)&&(t=bd(t)),t&&(n.fields[gd]=t),{mapValue:n}}(n,t):e instanceof cf?uf(e,t):e instanceof df?hf(e,t):function(e,t){const n=of(e,t),r=pf(n)+pf(e.Re);return Ud(n)&&Ud(e.Re)?tf(r):ef(e.serializer,r)}(e,t)}function af(e,t,n){return e instanceof cf?uf(e,t):e instanceof df?hf(e,t):n}function of(e,t){return e instanceof ff?function(e){return Ud(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class lf extends rf{}class cf extends rf{constructor(e){super(),this.elements=e}}function uf(e,t){const n=mf(t);for(const r of e.elements)n.some((e=>jd(e,r)))||n.push(r);return{arrayValue:{values:n}}}class df extends rf{constructor(e){super(),this.elements=e}}function hf(e,t){let n=mf(t);for(const r of e.elements)n=n.filter((e=>!jd(e,r)));return{arrayValue:{values:n}}}class ff extends rf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function pf(e){return hd(e.integerValue||e.doubleValue)}function mf(e){return Vd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class gf{constructor(e,t){this.version=e,this.transformResults=t}}class yf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yf}static exists(e){return new yf(void 0,e)}static updateTime(e){return new yf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class bf{}function wf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new jf(e.key,yf.none()):new Ef(e.key,e.data,yf.none());{const n=e.data,r=Gd.empty();let s=new id(ou.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new Sf(e.key,r,new od(s.toArray()),yf.none())}}function xf(e,t,n){e instanceof Ef?function(e,t,n){const r=e.value.clone(),s=Cf(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Sf?function(e,t,n){if(!vf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Cf(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Tf(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kf(e,t,n,r){return e instanceof Ef?function(e,t,n,r){if(!vf(e.precondition,t))return n;const s=e.value.clone(),i=If(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof Sf?function(e,t,n,r){if(!vf(e.precondition,t))return n;const s=If(e.fieldTransforms,r,t),i=t.data;return i.setAll(Tf(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return vf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function _f(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=of(r.transform,e||null);null!=s&&(null===n&&(n=Gd.empty()),n.set(r.field,s))}return n||null}function Nf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cf&&t instanceof cf||e instanceof df&&t instanceof df?Jc(e.elements,t.elements,jd):e instanceof ff&&t instanceof ff?jd(e.Re,t.Re):e instanceof lf&&t instanceof lf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ef extends bf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sf extends bf{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Tf(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Cf(e,t,n){const r=new Map;Rc(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,af(a,o,n[s]))}return r}function If(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,sf(e,i,t))}return r}class jf extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Af extends bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&xf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=kf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=kf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Gh();return this.mutations.forEach((r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=wf(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(nu.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xh())}isEqual(e){return this.batchId===e.batchId&&Jc(this.mutations,e.mutations,((e,t)=>Nf(e,t)))&&Jc(this.baseMutations,e.baseMutations,((e,t)=>Nf(e,t)))}}class Pf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Rc(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=Yh;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new Pf(e,t,n,r)}}class Of{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Df{constructor(e,t){this.count=e,this.unchangedNames=t}}var Lf,Mf;function Ff(e){switch(e){case Oc.OK:return jc(64938);case Oc.CANCELLED:case Oc.UNKNOWN:case Oc.DEADLINE_EXCEEDED:case Oc.RESOURCE_EXHAUSTED:case Oc.INTERNAL:case Oc.UNAVAILABLE:case Oc.UNAUTHENTICATED:return!1;case Oc.INVALID_ARGUMENT:case Oc.NOT_FOUND:case Oc.ALREADY_EXISTS:case Oc.PERMISSION_DENIED:case Oc.FAILED_PRECONDITION:case Oc.ABORTED:case Oc.OUT_OF_RANGE:case Oc.UNIMPLEMENTED:case Oc.DATA_LOSS:return!0;default:return jc(15467,{code:e})}}function Uf(e){if(void 0===e)return Tc("GRPC error has no .code"),Oc.UNKNOWN;switch(e){case Lf.OK:return Oc.OK;case Lf.CANCELLED:return Oc.CANCELLED;case Lf.UNKNOWN:return Oc.UNKNOWN;case Lf.DEADLINE_EXCEEDED:return Oc.DEADLINE_EXCEEDED;case Lf.RESOURCE_EXHAUSTED:return Oc.RESOURCE_EXHAUSTED;case Lf.INTERNAL:return Oc.INTERNAL;case Lf.UNAVAILABLE:return Oc.UNAVAILABLE;case Lf.UNAUTHENTICATED:return Oc.UNAUTHENTICATED;case Lf.INVALID_ARGUMENT:return Oc.INVALID_ARGUMENT;case Lf.NOT_FOUND:return Oc.NOT_FOUND;case Lf.ALREADY_EXISTS:return Oc.ALREADY_EXISTS;case Lf.PERMISSION_DENIED:return Oc.PERMISSION_DENIED;case Lf.FAILED_PRECONDITION:return Oc.FAILED_PRECONDITION;case Lf.ABORTED:return Oc.ABORTED;case Lf.OUT_OF_RANGE:return Oc.OUT_OF_RANGE;case Lf.UNIMPLEMENTED:return Oc.UNIMPLEMENTED;case Lf.DATA_LOSS:return Oc.DATA_LOSS;default:return jc(39323,{code:e})}}(Mf=Lf||(Lf={}))[Mf.OK=0]="OK",Mf[Mf.CANCELLED=1]="CANCELLED",Mf[Mf.UNKNOWN=2]="UNKNOWN",Mf[Mf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mf[Mf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mf[Mf.NOT_FOUND=5]="NOT_FOUND",Mf[Mf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mf[Mf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mf[Mf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mf[Mf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mf[Mf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mf[Mf.ABORTED=10]="ABORTED",Mf[Mf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mf[Mf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mf[Mf.INTERNAL=13]="INTERNAL",Mf[Mf.UNAVAILABLE=14]="UNAVAILABLE",Mf[Mf.DATA_LOSS=15]="DATA_LOSS";let Vf=null;const zf=new ac([4294967295,4294967295],0);function Bf(e){const t=Kc().encode(e),n=new oc;return n.update(t),new Uint8Array(n.digest())}function qf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new ac([n,r],0),new ac([s,i],0)]}class Hf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Wf("Invalid padding: ".concat(t));if(n<0)throw new Wf("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Wf("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Wf("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=ac.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(ac.fromNumber(n)));return 1===r.compare(zf)&&(r=new ac([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Bf(e),[n,r]=qf(t);for(let s=0;s<this.hashCount;s++){const e=this.we(n,r,s);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new Hf(s,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.pe)return;const t=Bf(e),[n,r]=qf(t);for(let s=0;s<this.hashCount;s++){const e=this.we(n,r,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Wf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kf{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Gf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Kf(nu.min(),r,new nd(Qc),Bh(),Xh())}}class Gf{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Gf(n,t,Xh(),Xh(),Xh())}}class Qf{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class Yf{constructor(e,t){this.targetId=e,this.Ce=t}}class $f{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cd.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Xf{constructor(){this.Fe=0,this.Me=ep(),this.xe=cd.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Xh(),t=Xh(),n=Xh();return this.Me.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:jc(38017,{changeType:s})}})),new Gf(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=ep()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Rc(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Jf{constructor(e){this.ze=e,this.je=new Map,this.He=Bh(),this.Je=Zf(),this.Ye=Zf(),this.Ze=new nd(Qc)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:jc(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const s=r.target;if(kh(s))if(0===n){const e=new lu(s.path);this.tt(t,e,Yd.newNoDocument(e,nu.min()))}else Rc(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),s=n?this.lt(n,e,r):1;if(0!==s){this.st(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==Vf||Vf.ht(function(e,t,n,r,s){var i,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===s,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,s))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=fd(n).toUint8Array()}catch(e){if(e instanceof ld)return Cc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Hf(i,r,s)}catch(e){return Cc(e instanceof Wf?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.pe?null:a}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const s=this.ze.Pt(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const s=this._t(r);if(s){if(n.current&&kh(s.target)){const t=new lu(s.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Yd.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=Xh();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new Kf(e,t,this.Ze,this.He,n);return this.He=Bh(),this.Je=Zf(),this.Ye=Zf(),this.Ze=new nd(Qc),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Xf,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new id(Qc),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new id(Qc),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||Sc("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Xf),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Zf(){return new nd(lu.comparator)}function ep(){return new nd(lu.comparator)}const tp={asc:"ASCENDING",desc:"DESCENDING"},np={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rp={and:"AND",or:"OR"};class sp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ip(e,t){return e.useProto3Json||_u(t)?t:{value:t}}function ap(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function op(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lp(e,t){return ap(e,t.toTimestamp())}function cp(e){return Rc(!!e,49232),nu.fromTimestamp(function(e){const t=dd(e);return new tu(t.seconds,t.nanos)}(e))}function up(e,t){return dp(e,t).canonicalString()}function dp(e,t){const n=function(e){return new iu(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function hp(e){const t=iu.fromString(e);return Rc(Rp(t),10190,{key:t.toString()}),t}function fp(e,t){return up(e.databaseId,t.path)}function pp(e,t){const n=hp(t);if(n.get(1)!==e.databaseId.projectId)throw new Dc(Oc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Dc(Oc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new lu(vp(n))}function mp(e,t){return up(e.databaseId,t)}function gp(e){const t=hp(e);return 4===t.length?iu.emptyPath():vp(t)}function yp(e){return new iu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vp(e){return Rc(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function bp(e,t,n){return{name:fp(e,t),fields:n.value.mapValue.fields}}function wp(e,t){let n;if(t instanceof Ef)n={update:bp(e,t.key,t.value)};else if(t instanceof jf)n={delete:fp(e,t.key)};else if(t instanceof Sf)n={update:bp(e,t.key,t.data),updateMask:Ap(t.fieldMask)};else{if(!(t instanceof Af))return jc(16599,{ft:t.type});n={verify:fp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof lf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof df)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ff)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw jc(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:lp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jc(27497)}(e,t.precondition)),n}function xp(e,t){return{documents:[mp(e,t.path)]}}function kp(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mp(e,s);const i=function(e){if(0!==e.length)return jp(rh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Cp(e.field),direction:Ep(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ip(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:s}}function _p(e){let t=gp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Rc(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Np(e);return t instanceof rh&&ih(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Zd(Ip(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,_u(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new $d(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new $d(n,t)}(n.endAt)),Nh(t,s,a,i,o,"F",l,c)}function Np(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ip(e.unaryFilter.field);return nh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ip(e.unaryFilter.field);return nh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ip(e.unaryFilter.field);return nh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ip(e.unaryFilter.field);return nh.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return jc(61313);default:return jc(60726)}}(e):void 0!==e.fieldFilter?function(e){return nh.create(Ip(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return jc(58110);default:return jc(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return rh.create(e.compositeFilter.filters.map((e=>Np(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return jc(1026)}}(e.compositeFilter.op))}(e):jc(30097,{filter:e})}function Ep(e){return tp[e]}function Sp(e){return np[e]}function Tp(e){return rp[e]}function Cp(e){return{fieldPath:e.canonicalString()}}function Ip(e){return ou.fromServerFormat(e.fieldPath)}function jp(e){return e instanceof nh?function(e){if("=="===e.op){if(Bd(e.value))return{unaryFilter:{field:Cp(e.field),op:"IS_NAN"}};if(zd(e.value))return{unaryFilter:{field:Cp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bd(e.value))return{unaryFilter:{field:Cp(e.field),op:"IS_NOT_NAN"}};if(zd(e.value))return{unaryFilter:{field:Cp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cp(e.field),op:Sp(e.op),value:e.value}}}(e):e instanceof rh?function(e){const t=e.getFilters().map((e=>jp(e)));return 1===t.length?t[0]:{compositeFilter:{op:Tp(e.op),filters:t}}}(e):jc(54877,{filter:e})}function Ap(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Rp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Pp{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nu.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:nu.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:cd.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Pp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Op{constructor(e){this.wt=e}}function Dp(e){const t=_p({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Rh(t,t.limit,"L"):t}class Lp{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(hd(e.integerValue));else if("doubleValue"in e){const n=hd(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Nu(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=dd(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(fd(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Kd(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Hd(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):jc(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const s=e.fields||{};this.Mt(t,53);const i=Cd,a=(null===(r=null===(n=s[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(hd(a)),this.Nt(i,t),this.Ct(s[i],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),lu.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Lp.Wt=new Lp;class Mp{constructor(){this.Cn=new Fp}addToCollectionParentIndex(e,t){return this.Cn.add(t),vu.resolve()}getCollectionParents(e,t){return vu.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return vu.resolve()}deleteFieldIndex(e,t){return vu.resolve()}deleteAllFieldIndexes(e){return vu.resolve()}createTargetIndexes(e,t){return vu.resolve()}getDocumentsMatchingTarget(e,t){return vu.resolve(null)}getIndexType(e,t){return vu.resolve(0)}getFieldIndexes(e,t){return vu.resolve([])}getNextCollectionGroupToUpdate(e){return vu.resolve(null)}getMinOffset(e,t){return vu.resolve(fu.min())}getMinOffsetFromCollectionGroup(e,t){return vu.resolve(fu.min())}updateCollectionGroup(e,t,n){return vu.resolve()}updateIndexEntries(e,t){return vu.resolve()}}class Fp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new id(iu.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new id(iu.comparator)).toArray()}}new Uint8Array(0);const Up={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vp=41943040;class zp{static withCacheSize(e){return new zp(e,zp.DEFAULT_COLLECTION_PERCENTILE,zp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}zp.DEFAULT_COLLECTION_PERCENTILE=10,zp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zp.DEFAULT=new zp(Vp,zp.DEFAULT_COLLECTION_PERCENTILE,zp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zp.DISABLED=new zp(-1,0,0);class Bp{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Bp(0)}static lr(){return new Bp(-1)}}const qp="LruGarbageCollector",Hp=1048576;function Wp(e,t){let[n,r]=e,[s,i]=t;const a=Qc(n,s);return 0===a?Qc(r,i):a}class Kp{constructor(e){this.Er=e,this.buffer=new id(Wp),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Wp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Gp{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){Sc(qp,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){wu(e)?Sc(qp,"Ignoring IndexedDB error during garbage collection: ",e):await yu(e)}await this.mr(3e5)}))}}class Qp{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return vu.resolve(xu.le);const n=new Kp(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Sc("LruGarbageCollector","Garbage collection skipped; disabled"),vu.resolve(Up)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Sc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Up):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Sc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ec()<=Bn.DEBUG&&Sc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-i)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),vu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e}))))}}function Yp(e,t){return new Qp(e,t)}class $p{constructor(){this.changes=new Vh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?vu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&kf(n.mutation,e,od.empty(),tu.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Xh()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xh();const r=Kh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Hh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Kh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Xh())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let s=Bh();const i=Qh(),a=Qh();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Sf)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),kf(a.mutation,t,a.mutation.getFieldMask(),tu.now())):i.set(t.key,od.empty())})),this.recalculateAndSaveOverlays(e,s).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Xp(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Qh();let r=new nd(((e,t)=>e-t)),s=Xh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const s of e)s.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||od.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||Xh()).add(e);r=r.insert(s.batchId,o)}))})).next((()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Gh();l.forEach((e=>{if(!s.has(e)){const r=wf(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return vu.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return lu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Th(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):vu.resolve(Kh());let a=cu,o=s;return i.next((t=>vu.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?vu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,s))).next((()=>this.computeViews(e,o,t,Xh()))).next((e=>({batchId:a,changes:Wh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lu(t)).next((e=>{let t=Hh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=Hh();return this.indexManager.getCollectionParents(e,s).next((a=>vu.forEach(a,(a=>{const o=function(e,t){return new _h(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r)))).next((e=>{s.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Yd.newInvalidDocument(r)))}));let n=Hh();return e.forEach(((e,r)=>{const i=s.get(e);void 0!==i&&kf(i.mutation,r,od.empty(),tu.now()),Lh(t,r)&&(n=n.insert(e,r))})),n}))}}class Zp{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return vu.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:cp(e.createTime)}}(t)),vu.resolve()}getNamedQuery(e,t){return vu.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:Dp(e.bundledQuery),readTime:cp(e.readTime)}}(t)),vu.resolve()}}class em{constructor(){this.overlays=new nd(lu.comparator),this.Qr=new Map}getOverlay(e,t){return vu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Kh();return vu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),vu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),vu.resolve()}getOverlaysForCollection(e,t,n){const r=Kh(),s=t.length+1,i=new lu(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return vu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new nd(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=Kh(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Kh(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return vu.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Of(t,n));let s=this.Qr.get(t);void 0===s&&(s=Xh(),this.Qr.set(t,s)),this.Qr.set(t,s.add(n.key))}}class tm{constructor(){this.sessionToken=cd.EMPTY_BYTE_STRING}getSessionToken(e){return vu.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,vu.resolve()}}class nm{constructor(){this.$r=new id(rm.Ur),this.Kr=new id(rm.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new rm(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new rm(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new lu(new iu([])),n=new rm(t,e),r=new rm(t,e+1),s=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),s.push(e.key)})),s}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new lu(new iu([])),n=new rm(t,e),r=new rm(t,e+1);let s=Xh();return this.Kr.forEachInRange([n,r],(e=>{s=s.add(e.key)})),s}containsKey(e){const t=new rm(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class rm{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return lu.comparator(e.key,t.key)||Qc(e.Zr,t.Zr)}static Wr(e,t){return Qc(e.Zr,t.Zr)||lu.comparator(e.key,t.key)}}class sm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new id(rm.Ur)}checkEmpty(e){return vu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Rf(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Xr=this.Xr.add(new rm(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return vu.resolve(i)}lookupMutationBatch(e,t){return vu.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),s=r<0?0:r;return vu.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return vu.resolve(0===this.mutationQueue.length?ku:this.nr-1)}getAllMutationBatches(e){return vu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new rm(t,0),r=new rm(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);s.push(t)})),vu.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new id(Qc);return t.forEach((e=>{const t=new rm(e,0),r=new rm(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),vu.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;lu.isDocumentKey(s)||(s=s.child(""));const i=new rm(new lu(s),0);let a=new id(Qc);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Zr)),!0)}),i),vu.resolve(this.ni(a))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Rc(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return vu.forEach(t.mutations,(r=>{const s=new rm(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new rm(t,0),r=this.Xr.firstAfterOrEqual(n);return vu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,vu.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class im{constructor(e){this.ii=e,this.docs=new nd(lu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return vu.resolve(n?n.document.mutableCopy():Yd.newInvalidDocument(t))}getEntries(e,t){let n=Bh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Yd.newInvalidDocument(e))})),vu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Bh();const i=t.path,a=new lu(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||pu(hu(a),n)<=0||(r.has(a.key)||Lh(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return vu.resolve(s)}getAllFromCollectionGroup(e,t,n,r){jc(9500)}si(e,t){return vu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new am(this)}getSize(e){return vu.resolve(this.size)}}class am extends $p{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),vu.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class om{constructor(e){this.persistence=e,this.oi=new Vh((e=>wh(e)),xh),this.lastRemoteSnapshotVersion=nu.min(),this.highestTargetId=0,this._i=0,this.ai=new nm,this.targetCount=0,this.ui=Bp.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),vu.resolve()}getLastRemoteSnapshotVersion(e){return vu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vu.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),vu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),vu.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Bp(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,vu.resolve()}updateTargetData(e,t){return this.Tr(t),vu.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,vu.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.oi.forEach(((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.oi.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),vu.waitFor(s).next((()=>r))}getTargetCount(e){return vu.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return vu.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),vu.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((t=>{s.push(r.markPotentiallyOrphaned(e,t))})),vu.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),vu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return vu.resolve(n)}containsKey(e,t){return vu.resolve(this.ai.containsKey(t))}}class lm{constructor(e,t){this.ci={},this.overlays={},this.li=new xu(0),this.hi=!1,this.hi=!0,this.Pi=new tm,this.referenceDelegate=e(this),this.Ti=new om(this),this.indexManager=new Mp,this.remoteDocumentCache=function(e){return new im(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new Op(t),this.Ei=new Zp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new em,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new sm(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){Sc("MemoryPersistence","Starting transaction:",e);const r=new cm(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return vu.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class cm extends gu{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Vi=new nm,this.mi=null}static fi(e){return new um(e)}get gi(){if(this.mi)return this.mi;throw jc(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),vu.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),vu.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),vu.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vu.forEach(this.gi,(n=>{const r=lu.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,nu.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return vu.or([()=>vu.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class dm{constructor(e,t){this.persistence=e,this.yi=new Vh((e=>Tu(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Yp(this,t)}static fi(e,t){return new dm(e,t)}di(){}Ai(e){return vu.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}br(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return vu.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?vu.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,s.removeEntry(r,nu.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),vu.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),vu.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),vu.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),vu.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Md(e.data.value)),t}Dr(e,t,n){return vu.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return vu.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hm{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=Xh(),r=Xh();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new hm(e,t.fromCache,n,r)}}class fm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pm{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=kn()?8:bu(bn())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ws(e,t).next((e=>{s.result=e})).next((()=>{if(!s.result)return this.bs(e,t,r,n).next((e=>{s.result=e}))})).next((()=>{if(s.result)return;const n=new fm;return this.Ss(e,t,n).next((r=>{if(s.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>s.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(Ec()<=Bn.DEBUG&&Sc("QueryEngine","SDK will not create cache indexes for query:",Dh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),vu.resolve()):(Ec()<=Bn.DEBUG&&Sc("QueryEngine","Query:",Dh(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(Ec()<=Bn.DEBUG&&Sc("QueryEngine","The SDK decides to create cache indexes for query:",Dh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ih(t))):vu.resolve())}ws(e,t){if(Sh(t))return vu.resolve(null);let n=Ih(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Rh(t,null,"F"),n=Ih(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const s=Xh(...r);return this.ys.getDocuments(e,s).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.vs(t,r);return this.Cs(t,i,s,n.readTime)?this.ws(e,Rh(t,null,"F")):this.Fs(e,i,t,n)}))))})))))}bs(e,t,n,r){return Sh(t)||r.isEqual(nu.min())?vu.resolve(null):this.ys.getDocuments(e,n).next((s=>{const i=this.vs(t,s);return this.Cs(t,i,n,r)?vu.resolve(null):(Ec()<=Bn.DEBUG&&Sc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dh(t)),this.Fs(e,i,t,du(r,cu)).next((e=>e)))}))}vs(e,t){let n=new id(Fh(e));return t.forEach(((t,r)=>{Lh(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return Ec()<=Bn.DEBUG&&Sc("QueryEngine","Using full collection scan to execute query:",Dh(t)),this.ys.getDocumentsMatchingQuery(e,t,fu.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const mm="LocalStore";class gm{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new nd(Qc),this.Os=new Vh((e=>wh(e)),xh),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jp(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function ym(e,t,n,r){return new gm(e,t,n,r)}async function vm(e,t){const n=Pc(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((s=>(r=s,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const s=[],i=[];let a=Xh();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({ks:e,removedBatchIds:s,addedBatchIds:i})))}))}))}function bm(e){const t=Pc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function wm(e,t,n){let r=Xh(),s=Xh();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Bh();return n.forEach(((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(nu.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Sc(mm,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),{qs:r,Qs:s}}))}function xm(e,t){const n=Pc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=ku),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function km(e,t){const n=Pc(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((s=>s?(r=s,vu.resolve(r)):n.Ti.allocateTargetId(e).next((s=>(r=new Pp(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function _m(e,t,n){const r=Pc(e),s=r.xs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,s)))}catch(e){if(!wu(e))throw e;Sc(mm,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(s.target)}function Nm(e,t,n){const r=Pc(e);let s=nu.min(),i=Xh();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Pc(e),s=r.Os.get(n);return void 0!==s?vu.resolve(r.xs.get(s)):r.Ti.getTargetData(t,n)}(r,e,Ih(t)).next((t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?s:nu.min(),n?i:Xh()))).next((e=>(Em(r,Mh(t),e),{documents:e,$s:i})))))}function Em(e,t,n){let r=e.Ns.get(t)||nu.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class Sm{constructor(){this.activeTargetIds=Zh()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tm{constructor(){this.xo=new Sm,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Sm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cm{No(e){}shutdown(){}}const Im="ConnectivityMonitor";class jm{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Sc(Im,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Sc(Im,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Am=null;function Rm(){return null===Am?Am=268435456+Math.round(2147483648*Math.random()):Am++,"0x"+Am.toString(16)}const Pm="RestConnection",Om={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dm{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===kd?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,s){const i=Rm(),a=this.jo(e,t.toUriEncodedString());Sc(Pm,"Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const o={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(o,r,s);const{host:l}=new URL(a),c=pn(l);return this.Jo(e,a,o,n,c).then((t=>(Sc(Pm,"Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw Cc(Pm,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t}))}Yo(e,t,n,r,s,i){return this.zo(e,t,n,r,s)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_c,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=Om[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class Lm{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const Mm="WebChannelConnection";class Fm extends Dm{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const i=Rm();return new Promise(((s,a)=>{const o=new uc;o.setWithCredentials(!0),o.listenOnce(hc.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case fc.NO_ERROR:const t=o.getResponseJson();Sc(Mm,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case fc.TIMEOUT:Sc(Mm,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Dc(Oc.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:const n=o.getStatus();if(Sc(Mm,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Oc).indexOf(t)>=0?t:Oc.UNKNOWN}(t.status);a(new Dc(e,t.message))}else a(new Dc(Oc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Dc(Oc.UNAVAILABLE,"Connection failed."));break;default:jc(9055,{h_:e,streamId:i,P_:o.getLastErrorCode(),T_:o.getLastError()})}}finally{Sc(Mm,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Sc(Mm,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}I_(e,t,n){const r=Rm(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=yc(),a=gc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");Sc(Mm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);this.E_(u);let d=!1,h=!1;const f=new Lm({Zo:t=>{h?Sc(Mm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Sc(Mm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Sc(Mm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,dc.EventType.OPEN,(()=>{h||(Sc(Mm,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())})),p(u,dc.EventType.CLOSE,(()=>{h||(h=!0,Sc(Mm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_(),this.d_(u))})),p(u,dc.EventType.ERROR,(t=>{h||(h=!0,Cc(Mm,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new Dc(Oc.UNAVAILABLE,"The operation could not be completed")))})),p(u,dc.EventType.MESSAGE,(t=>{var n;if(!h){const s=t.data[0];Rc(!!s,16349);const i=s,a=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){Sc(Mm,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Lf[e];if(void 0!==t)return Uf(t)}(t),s=a.message;void 0===n&&(n=Oc.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),h=!0,f.u_(new Dc(n,s)),u.close()}else Sc(Mm,"RPC '".concat(e,"' stream ").concat(r," received:"),s),f.c_(s)}})),p(a,mc.STAT_EVENT,(t=>{t.stat===pc.PROXY?Sc(Mm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===pc.NOPROXY&&Sc(Mm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.a_()}),0),f}terminate(){this.l_.forEach((e=>e.close())),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter((t=>t===e))}}function Um(){return"undefined"!=typeof document?document:null}function Vm(e){return new sp(e,!0)}class zm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&Sc("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.g_=Date.now(),e()))),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const Bm="PersistentStream";class qm{constructor(e,t,n,r,s,i,a,o){this.xi=e,this.S_=n,this.D_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new zm(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,(()=>this.q_())))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===Oc.RESOURCE_EXHAUSTED?(Tc(t.toString()),Tc("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Oc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)}),(t=>{e((()=>{const e=new Dc(Oc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)}))}))}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,(()=>(this.N_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.j_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.M_?this.J_(e):this.onNext(e)))}))}B_(){this.state=5,this.x_.y_((async()=>{this.state=0,this.start()}))}j_(e){return Sc(Bm,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget((()=>this.v_===e?t():(Sc(Bm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hm extends qm{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:jc(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Rc(void 0===t||"string"==typeof t,58123),cd.fromBase64String(t||"")):(Rc(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),cd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Oc.UNKNOWN:Uf(e.code);return new Dc(t,e.message||"")}(a);n=new $f(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=pp(e,r.document.name),i=cp(r.document.updateTime),a=r.document.createTime?cp(r.document.createTime):nu.min(),o=new Gd({mapValue:{fields:r.document.fields}}),l=Yd.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Qf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=pp(e,r.document),i=r.readTime?cp(r.readTime):nu.min(),a=Yd.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Qf([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=pp(e,r.document),i=r.removedTargetIds||[];n=new Qf([],i,s,null)}else{if(!("filter"in t))return jc(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Df(r,s),a=e.targetId;n=new Yf(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return nu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?nu.min():t.readTime?cp(t.readTime):nu.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=yp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=kh(r)?{documents:xp(e,r)}:{query:kp(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=op(e,t.resumeToken);const r=ip(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(nu.min())>0){n.readTime=ap(e,t.snapshotVersion.toTimestamp());const r=ip(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jc(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=yp(this.serializer),t.removeTarget=e,this.Q_(t)}}class Wm extends qm{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Rc(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rc(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){Rc(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(Rc(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?cp(e.updateTime):cp(t);return n.isEqual(nu.min())&&(n=cp(t)),new gf(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=cp(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=yp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>wp(this.serializer,e)))};this.Q_(t)}}class Km{}class Gm extends Km{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Dc(Oc.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[i,a]=s;return this.connection.zo(e,dp(t,n),r,i,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Oc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Dc(Oc.UNKNOWN,e.toString())}))}Yo(e,t,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,o]=i;return this.connection.Yo(e,dp(t,n),r,a,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Oc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Dc(Oc.UNKNOWN,e.toString())}))}terminate(){this.sa=!0,this.connection.terminate()}}class Qm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve()))))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(Tc(t),this.ua=!1):Sc("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const Ym="RemoteStore";class $m{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No((e=>{n.enqueueAndForget((async()=>{ig(this)&&(Sc(Ym,"Restarting streams for network reachability change."),await async function(e){const t=Pc(e);t.da.add(4),await Jm(t),t.Va.set("Unknown"),t.da.delete(4),await Xm(t)}(this))}))})),this.Va=new Qm(n,r)}}async function Xm(e){if(ig(e))for(const t of e.Aa)await t(!0)}async function Jm(e){for(const t of e.Aa)await t(!1)}function Zm(e,t){const n=Pc(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),sg(n)?rg(n):Ng(n).N_()&&tg(n,t))}function eg(e,t){const n=Pc(e),r=Ng(n);n.Ea.delete(t),r.N_()&&ng(n,t),0===n.Ea.size&&(r.N_()?r.k_():ig(n)&&n.Va.set("Unknown"))}function tg(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nu.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ng(e).Z_(t)}function ng(e,t){e.ma.Ke(t),Ng(e).X_(t)}function rg(e){e.ma=new Jf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Ng(e).start(),e.Va.ca()}function sg(e){return ig(e)&&!Ng(e).O_()&&e.Ea.size>0}function ig(e){return 0===Pc(e).da.size}function ag(e){e.ma=void 0}async function og(e){e.Va.set("Online")}async function lg(e){e.Ea.forEach(((t,n)=>{tg(e,t)}))}async function cg(e,t){ag(e),sg(e)?(e.Va.Pa(t),rg(e)):e.Va.set("Unknown")}async function ug(e,t,n){if(e.Va.set("Online"),t instanceof $f&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){Sc(Ym,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await dg(e,n)}else if(t instanceof Qf?e.ma.Xe(t):t instanceof Yf?e.ma.ot(t):e.ma.nt(t),!n.isEqual(nu.min()))try{const t=await bm(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ea.get(r);s&&e.Ea.set(r,s.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(cd.EMPTY_BYTE_STRING,r.snapshotVersion)),ng(e,t);const s=new Pp(r.target,t,n,r.sequenceNumber);tg(e,s)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Sc(Ym,"Failed to raise snapshot:",t),await dg(e,t)}}async function dg(e,t,n){if(!wu(t))throw t;e.da.add(1),await Jm(e),e.Va.set("Offline"),n||(n=()=>bm(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Sc(Ym,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Xm(e)}))}function hg(e,t){return t().catch((n=>dg(e,n,t)))}async function fg(e){const t=Pc(e),n=Eg(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:ku;for(;pg(t);)try{const e=await xm(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,mg(t,e)}catch(e){await dg(t,e)}gg(t)&&yg(t)}function pg(e){return ig(e)&&e.Ia.length<10}function mg(e,t){e.Ia.push(t);const n=Eg(e);n.N_()&&n.ea&&n.ta(t.mutations)}function gg(e){return ig(e)&&!Eg(e).O_()&&e.Ia.length>0}function yg(e){Eg(e).start()}async function vg(e){Eg(e).ia()}async function bg(e){const t=Eg(e);for(const n of e.Ia)t.ta(n.mutations)}async function wg(e,t,n){const r=e.Ia.shift(),s=Pf.from(r,t,n);await hg(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await fg(e)}async function xg(e,t){t&&Eg(e).ea&&await async function(e,t){if(function(e){return Ff(e)&&e!==Oc.ABORTED}(t.code)){const n=e.Ia.shift();Eg(e).L_(),await hg(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await fg(e)}}(e,t),gg(e)&&yg(e)}async function kg(e,t){const n=Pc(e);n.asyncQueue.verifyOperationInProgress(),Sc(Ym,"RemoteStore received new credentials");const r=ig(n);n.da.add(3),await Jm(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Xm(n)}async function _g(e,t){const n=Pc(e);t?(n.da.delete(2),await Xm(n)):t||(n.da.add(2),await Jm(n),n.Va.set("Unknown"))}function Ng(e){return e.fa||(e.fa=function(e,t,n){const r=Pc(e);return r.oa(),new Hm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:og.bind(null,e),n_:lg.bind(null,e),i_:cg.bind(null,e),Y_:ug.bind(null,e)}),e.Aa.push((async t=>{t?(e.fa.L_(),sg(e)?rg(e):e.Va.set("Unknown")):(await e.fa.stop(),ag(e))}))),e.fa}function Eg(e){return e.ga||(e.ga=function(e,t,n){const r=Pc(e);return r.oa(),new Wm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:vg.bind(null,e),i_:xg.bind(null,e),na:bg.bind(null,e),ra:wg.bind(null,e)}),e.Aa.push((async t=>{t?(e.ga.L_(),await fg(e)):(await e.ga.stop(),e.Ia.length>0&&(Sc(Ym,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))}))),e.ga}class Sg{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Lc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new Sg(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dc(Oc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(e,t){if(Tc("AsyncQueue","".concat(t,": ").concat(e)),wu(e))return new Dc(Oc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Cg{static emptySet(e){return new Cg(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||lu.comparator(t.key,n.key):(e,t)=>lu.comparator(e.key,t.key),this.keyedMap=Hh(),this.sortedSet=new nd(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Cg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ig{constructor(){this.pa=new nd(lu.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):jc(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal(((t,n)=>{e.push(n)})),e}}class jg{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new jg(e,t,Cg.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ag{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some((e=>e.va()))}}class Rg{constructor(){this.queries=Pg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Pc(e),r=n.queries;n.queries=Pg(),r.forEach(((e,n)=>{for(const r of n.Sa)r.onError(t)}))}(this,new Dc(Oc.ABORTED,"Firestore shutting down"))}}function Pg(){return new Vh((e=>Oh(e)),Ph)}async function Og(e,t){const n=Pc(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.Da()&&t.va()&&(r=2):(i=new Ag,r=t.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=Tg(e,"Initialization of query '".concat(Dh(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,i),i.Sa.push(t),t.Fa(n.onlineState),i.ba&&t.Ma(i.ba)&&Fg(n)}async function Dg(e,t){const n=Pc(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?s=t.va()?0:1:!i.Da()&&t.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Lg(e,t){const n=Pc(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(s)&&(r=!0);t.ba=s}}r&&Fg(n)}function Mg(e,t,n){const r=Pc(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function Fg(e){e.Ca.forEach((e=>{e.next()}))}var Ug,Vg;(Vg=Ug||(Ug={})).xa="default",Vg.Cache="cache";class zg{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new jg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=jg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ug.Cache}}class Bg{constructor(e){this.key=e}}class qg{constructor(e){this.key=e}}class Hg{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xh(),this.mutatedKeys=Xh(),this.Za=Fh(e),this.Xa=new Cg(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new Ig,r=t?t.Xa:this.Xa;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Lh(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Za(u,o)>0||l&&this.Za(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{Xa:i,nu:n,Cs:a,mutatedKeys:s}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const i=e.nu.wa();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jc(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc))),this.iu(n),r=null!=r&&r;const a=t&&!r?this.su():[],o=0===this.Ya.size&&this.current&&!r?1:0,l=o!==this.Ja;return this.Ja=o,0!==i.length||l?{snapshot:new jg(this.query,e.Xa,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Ig,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Xh(),this.Xa.forEach((e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))}));const t=[];return e.forEach((e=>{this.Ya.has(e)||t.push(new qg(e))})),this.Ya.forEach((n=>{e.has(n)||t.push(new Bg(n))})),t}au(e){this.Ha=e.$s,this.Ya=Xh();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return jg.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const Wg="SyncEngine";class Kg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Gg{constructor(e){this.key=e,this.cu=!1}}class Qg{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.lu={},this.hu=new Vh((e=>Oh(e)),Ph),this.Pu=new Map,this.Tu=new Set,this.Iu=new nd(lu.comparator),this.Eu=new Map,this.du=new nm,this.Au={},this.Ru=new Map,this.Vu=Bp.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function Yg(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=gy(e);let s;const i=r.hu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await Xg(r,t,n,!0),s}async function $g(e,t){const n=gy(e);await Xg(n,t,!0,!1)}async function Xg(e,t,n,r){const s=await km(e.localStore,Ih(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await Jg(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&Zm(e.remoteStore,s),o}async function Jg(e,t,n,r,s){e.fu=(t,n,r)=>async function(e,t,n,r){let s=t.view.tu(n);s.Cs&&(s=await Nm(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.tu(n,s)})));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return uy(e,t.targetId,o.ou),o.snapshot}(e,t,n,r);const i=await Nm(e.localStore,t,!0),a=new Hg(t,i.$s),o=a.tu(i.documents),l=Gf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);uy(e,n,c.ou);const u=new Kg(t,n,a);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function Zg(e,t,n){const r=Pc(e),s=r.hu.get(t),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter((e=>!Ph(e,t)))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _m(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&eg(r.remoteStore,s.targetId),ly(r,s.targetId)})).catch(yu)):(ly(r,s.targetId),await _m(r.localStore,s.targetId,!0))}async function ey(e,t){const n=Pc(e),r=n.hu.get(t),s=n.Pu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eg(n.remoteStore,r.targetId))}async function ty(e,t){const n=Pc(e);try{const e=await function(e,t){const n=Pc(e),r=t.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];t.targetChanges.forEach(((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Ti.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.Ti.addMatchingKeys(e,i.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(cd.EMPTY_BYTE_STRING,nu.min()).withLastLimboFreeSnapshotVersion(nu.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&a.push(n.Ti.updateTargetData(e,c))}));let o=Bh(),l=Xh();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(wm(e,i,t.documentUpdates).next((e=>{o=e.qs,l=e.Qs}))),!r.isEqual(nu.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return vu.waitFor(a).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.xs=s,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Eu.get(t);r&&(Rc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?Rc(r.cu,14607):e.removedDocuments.size>0&&(Rc(r.cu,42227),r.cu=!1))})),await fy(n,e,t)}catch(e){await yu(e)}}function ny(e,t,n){const r=Pc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach(((n,r)=>{const s=r.view.Fa(t);s.snapshot&&e.push(s.snapshot)})),function(e,t){const n=Pc(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const s of n.Sa)s.Fa(t)&&(r=!0)})),r&&Fg(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ry(e,t,n){const r=Pc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Eu.get(t),i=s&&s.key;if(i){let e=new nd(lu.comparator);e=e.insert(i,Yd.newNoDocument(i,nu.min()));const n=Xh().add(i),s=new Kf(nu.min(),new Map,new nd(Qc),e,n);await ty(r,s),r.Iu=r.Iu.remove(i),r.Eu.delete(t),hy(r)}else await _m(r.localStore,t,!1).then((()=>ly(r,t,n))).catch(yu)}async function sy(e,t){const n=Pc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Pc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=vu.resolve();return i.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);Rc(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,s)))}(n,e,t,s).next((()=>s.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Xh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);oy(n,r,null),ay(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fy(n,e)}catch(e){await yu(e)}}async function iy(e,t,n){const r=Pc(e);try{const e=await function(e,t){const n=Pc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Rc(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);oy(r,t,n),ay(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await fy(r,e)}catch(n){await yu(n)}}function ay(e,t){(e.Ru.get(t)||[]).forEach((e=>{e.resolve()})),e.Ru.delete(t)}function oy(e,t,n){const r=Pc(e);let s=r.Au[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Au[r.currentUser.toKey()]=s}}function ly(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach((t=>{e.du.containsKey(t)||cy(e,t)}))}function cy(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(eg(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),hy(e))}function uy(e,t,n){for(const r of n)r instanceof Bg?(e.du.addReference(r.key,t),dy(e,r)):r instanceof qg?(Sc(Wg,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||cy(e,r.key)):jc(19791,{pu:r})}function dy(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(Sc(Wg,"New document in limbo: "+n),e.Tu.add(r),hy(e))}function hy(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new lu(iu.fromString(t)),r=e.Vu.next();e.Eu.set(r,new Gg(n)),e.Iu=e.Iu.insert(n,r),Zm(e.remoteStore,new Pp(Ih(Eh(n.path)),r,"TargetPurposeLimboResolution",xu.le))}}async function fy(e,t,n){const r=Pc(e),s=[],i=[],a=[];r.hu.isEmpty()||(r.hu.forEach(((e,o)=>{a.push(r.fu(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(e){s.push(e);const t=hm.Rs(o.targetId,e);i.push(t)}})))})),await Promise.all(a),r.lu.Y_(s),await async function(e,t){const n=Pc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>vu.forEach(t,(t=>vu.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>vu.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!wu(e))throw e;Sc(mm,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,s)}}}(r.localStore,i))}async function py(e,t){const n=Pc(e);if(!n.currentUser.isEqual(t)){Sc(Wg,"User change. New user:",t.toKey());const e=await vm(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach((e=>{e.forEach((e=>{e.reject(new Dc(Oc.CANCELLED,t))}))})),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await fy(n,e.ks)}}function my(e,t){const n=Pc(e),r=n.Eu.get(t);if(r&&r.cu)return Xh().add(r.key);{let e=Xh();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function gy(e){const t=Pc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ty.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=my.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ry.bind(null,t),t.lu.Y_=Lg.bind(null,t.eventManager),t.lu.gu=Mg.bind(null,t.eventManager),t}function yy(e){const t=Pc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iy.bind(null,t),t}class vy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return ym(this.persistence,new pm,e.initialUser,this.serializer)}Su(e){return new lm(um.fi,this.serializer)}bu(e){return new Tm}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vy.provider={build:()=>new vy};class by extends vy{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Rc(this.persistence.referenceDelegate instanceof dm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Gp(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?zp.withCacheSize(this.cacheSizeBytes):zp.DEFAULT;return new lm((e=>dm.fi(e,t)),this.serializer)}}class wy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ny(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=py.bind(null,this.syncEngine),await _g(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Rg}createDatastore(e){const t=Vm(e.databaseInfo.databaseId),n=function(e){return new Fm(e)}(e.databaseInfo);return function(e,t,n,r){return new Gm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new $m(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,(e=>ny(this.syncEngine,e,0)),jm.C()?new jm:new Cm)}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new Qg(e,t,n,r,s,i);return a&&(o.mu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Pc(e);Sc(Ym,"RemoteStore shutting down."),t.da.add(5),await Jm(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}wy.provider={build:()=>new wy};class xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Tc("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ky="FirestoreClient";class _y{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=kc.UNAUTHENTICATED,this.clientId=Gc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async e=>{Sc(ky,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Sc(ky,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Tg(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ny(e,t){e.asyncQueue.verifyOperationInProgress(),Sc(ky,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await vm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ey(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Sy(e);Sc(ky,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>kg(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>kg(t.remoteStore,n))),e._onlineComponents=t}async function Sy(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Sc(ky,"Using user provided OfflineComponentProvider");try{await Ny(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Oc.FAILED_PRECONDITION||e.code===Oc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Cc("Error using user provided cache. Falling back to memory cache: "+n),await Ny(e,new vy)}}else Sc(ky,"Using default OfflineComponentProvider"),await Ny(e,new by(void 0));return e._offlineComponents}async function Ty(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Sc(ky,"Using user provided OnlineComponentProvider"),await Ey(e,e._uninitializedComponentsProvider._online)):(Sc(ky,"Using default OnlineComponentProvider"),await Ey(e,new wy))),e._onlineComponents}function Cy(e){return Ty(e).then((e=>e.syncEngine))}async function Iy(e){const t=await Ty(e),n=t.eventManager;return n.onListen=Yg.bind(null,t.syncEngine),n.onUnlisten=Zg.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=$g.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ey.bind(null,t.syncEngine),n}function jy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Lc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new xy({next:o=>{i.xu(),t.enqueueAndForget((()=>Dg(e,a)));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new Dc(Oc.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new Dc(Oc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new zg(Eh(n.path),i,{includeMetadataChanges:!0,Qa:!0});return Og(e,a)}(await Iy(e),e.asyncQueue,t,n,r))),r.promise}function Ay(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Lc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new xy({next:n=>{i.xu(),t.enqueueAndForget((()=>Dg(e,a))),n.fromCache&&"server"===r.source?s.reject(new Dc(Oc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new zg(n,i,{includeMetadataChanges:!0,Qa:!0});return Og(e,a)}(await Iy(e),e.asyncQueue,t,n,r))),r.promise}function Ry(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Py=new Map;function Oy(e,t,n){if(!n)throw new Dc(Oc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Dy(e){if(!lu.isDocumentKey(e))throw new Dc(Oc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ly(e){if(lu.isDocumentKey(e))throw new Dc(Oc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function My(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":jc(12329,{type:typeof e})}function Fy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dc(Oc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=My(e);throw new Dc(Oc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const Uy="firestore.googleapis.com",Vy=!0;class zy{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Dc(Oc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Uy,this.ssl=Vy}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Vy;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Vp;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Hp)throw new Dc(Oc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Dc(Oc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ry(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Dc(Oc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Dc(Oc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Dc(Oc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class By{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Dc(Oc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dc(Oc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zy(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Fc;switch(e.type){case"firstParty":return new Bc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Dc(Oc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Py.get(e);t&&(Sc("ComponentProvider","Removing Datastore"),Py.delete(e),t.terminate())}(this),Promise.resolve()}}function qy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;e=Fy(e,By);const i=pn(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);i&&(mn("https://".concat(l)),vn("Firestore",!0)),a.host!==Uy&&a.host!==l&&Cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:i,emulatorOptions:r});if(!Cn(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=kc.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[an(JSON.stringify({alg:"none",type:"JWT"})),an(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Dc(Oc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new kc(i)}e._authCredentials=new Uc(new Mc(t,n))}}class Hy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Hy(this.firestore,e,this._query)}}class Wy{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ky(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wy(this.firestore,e,this._key)}}class Ky extends Hy{constructor(e,t,n){super(e,t,Eh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wy(this.firestore,null,new lu(e))}withConverter(e){return new Ky(this.firestore,e,this._path)}}function Gy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Ln(e),Oy("collection","path",t),e instanceof By){const n=iu.fromString(t,...r);return Ly(n),new Ky(e,null,n)}{if(!(e instanceof Wy||e instanceof Ky))throw new Dc(Oc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(iu.fromString(t,...r));return Ly(n),new Ky(e.firestore,null,n)}}function Qy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Ln(e),1===arguments.length&&(t=Gc.newId()),Oy("doc","path",t),e instanceof By){const n=iu.fromString(t,...r);return Dy(n),new Wy(e,null,new lu(n))}{if(!(e instanceof Wy||e instanceof Ky))throw new Dc(Oc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(iu.fromString(t,...r));return Dy(n),new Wy(e.firestore,e instanceof Ky?e.converter:null,new lu(n))}}const Yy="AsyncQueue";class $y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new zm(this,"async_queue_retry"),this.rc=()=>{const e=Um();e&&Sc(Yy,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=Um();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Um();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise((()=>{}));const t=new Lc;return this._c((()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ju.push(e),this.ac())))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(Px){if(!wu(Px))throw Px;Sc(Yy,"Operation failed with retryable error: "+Px)}this.Ju.length>0&&this.x_.y_((()=>this.ac()))}}_c(e){const t=this.sc.then((()=>(this.ec=!0,e().catch((e=>{throw this.Xu=e,this.ec=!1,Tc("INTERNAL UNHANDLED ERROR: ",Xy(e)),e})).then((e=>(this.ec=!1,e))))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=Sg.createAndSchedule(this,e,t,n,(e=>this.uc(e)));return this.Zu.push(r),r}oc(){this.Xu&&jc(47125,{cc:Xy(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then((()=>{this.Zu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()}))}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Xy(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Jy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Zy extends By{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new $y,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $y(e),this._firestoreClient=void 0,await e}}}function ev(e,t){const n="object"==typeof e?e:es(),r="string"==typeof e?e:t||kd,s=Qr(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=(e=>{const t=un(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&qy(s,...e)}return s}function tv(e){if(e._terminated)throw new Dc(Oc.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||nv(e),e._firestoreClient}function nv(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new xd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ry(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new _y(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class rv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rv(cd.fromBase64String(e))}catch(e){throw new Dc(Oc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new rv(cd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Dc(Oc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ou(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iv{constructor(e){this._methodName=e}}class av{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Dc(Oc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Dc(Oc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qc(this._lat,e._lat)||Qc(this._long,e._long)}}class ov{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const lv=/^__.*__$/;class cv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Sf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ef(e,this.data,t,this.fieldTransforms)}}class uv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Sf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jc(40011,{Ic:e})}}class hv{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Tv(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(dv(this.Ic)&&lv.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class fv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Vm(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new hv({Ic:e,methodName:t,wc:n,path:ou.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pv(e){const t=e._freezeSettings(),n=Vm(e._databaseId);return new fv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mv(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.bc(i.merge||i.mergeFields?2:0,t,n,s);_v("Data must be an object, but it was:",a,r);const o=xv(r,a);let l,c;if(i.merge)l=new od(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=Nv(t,r,n);if(!a.contains(s))throw new Dc(Oc.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));Cv(e,s)||e.push(s)}l=new od(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new cv(new Gd(o),l,c)}class gv extends iv{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gv}}function yv(e,t,n,r){const s=e.bc(1,t,n);_v("Data must be an object, but it was:",s,r);const i=[],a=Gd.empty();ed(r,((e,r)=>{const o=Sv(t,e,n);r=Ln(r);const l=s.mc(o);if(r instanceof gv)i.push(o);else{const e=wv(r,l);null!=e&&(i.push(o),a.set(o,e))}}));const o=new od(i);return new uv(a,o,s.fieldTransforms)}function vv(e,t,n,r,s,i){const a=e.bc(1,t,n),o=[Nv(t,r,n)],l=[s];if(i.length%2!=0)throw new Dc(Oc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)o.push(Nv(t,i[h])),l.push(i[h+1]);const c=[],u=Gd.empty();for(let h=o.length-1;h>=0;--h)if(!Cv(c,o[h])){const e=o[h];let t=l[h];t=Ln(t);const n=a.mc(e);if(t instanceof gv)c.push(e);else{const r=wv(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new od(c);return new uv(u,d,a.fieldTransforms)}function bv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wv(n,e.bc(r?4:3,t))}function wv(e,t){if(kv(e=Ln(e)))return _v("Unsupported field value:",t,e),xv(e,t);if(e instanceof iv)return function(e,t){if(!dv(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=wv(s,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ln(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=tu.fromDate(e);return{timestampValue:ap(t.serializer,n)}}if(e instanceof tu){const n=new tu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ap(t.serializer,n)}}if(e instanceof av)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rv)return{bytesValue:op(t.serializer,e._byteString)};if(e instanceof Wy){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:up(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ov)return function(e,t){return{mapValue:{fields:{[Nd]:{stringValue:Td},[Cd]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return ef(t.serializer,e)}))}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(My(e)))}(e,t)}function xv(e,t){const n={};return td(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ed(e,((e,r)=>{const s=wv(r,t.Ac(e));null!=s&&(n[e]=s)})),{mapValue:{fields:n}}}function kv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof tu||e instanceof av||e instanceof rv||e instanceof Wy||e instanceof iv||e instanceof ov)}function _v(e,t,n){if(!kv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=My(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function Nv(e,t,n){if((t=Ln(t))instanceof sv)return t._internalPath;if("string"==typeof t)return Sv(e,t);throw Tv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ev=new RegExp("[~\\*/\\[\\]]");function Sv(e,t,n){if(t.search(Ev)>=0)throw Tv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new sv(...t.split("."))._internalPath}catch(r){throw Tv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Tv(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(s)),l+=")"),new Dc(Oc.INVALID_ARGUMENT,o+e+l)}function Cv(e,t){return e.some((e=>e.isEqual(t)))}class Iv{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wy(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Av("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jv extends Iv{data(){return super.data()}}function Av(e,t){return"string"==typeof t?Sv(e,t):t instanceof sv?t._internalPath:t._delegate._internalPath}function Rv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Dc(Oc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pv{}class Ov extends Pv{}function Dv(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof Pv&&n.push(t),n=n.concat(s),function(e){const t=e.filter((e=>e instanceof Fv)).length,n=e.filter((e=>e instanceof Lv)).length;if(t>1||t>0&&n>0)throw new Dc(Oc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Lv extends Ov{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Lv(e,t,n)}_apply(e){const t=this._parse(e);return qv(e._query,t),new Hy(e.firestore,e.converter,Ah(e._query,t))}_parse(e){const t=pv(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Dc(Oc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){Bv(a,i);const t=[];for(const n of a)t.push(zv(r,e,n));o={arrayValue:{values:t}}}else o=zv(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Bv(a,i),o=bv(n,t,a,"in"===i||"not-in"===i);return nh.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Mv(e,t,n){const r=t,s=Av("where",e);return Lv._create(s,r,n)}class Fv extends Pv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fv(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:rh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)qv(n,s),n=Ah(n,s)}(e._query,t),new Hy(e.firestore,e.converter,Ah(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Uv extends Ov{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Uv(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Dc(Oc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Dc(Oc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zd(t,n)}(e._query,this._field,this._direction);return new Hy(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new _h(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Vv(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Av("orderBy",e);return Uv._create(n,t)}function zv(e,t,n){if("string"==typeof(n=Ln(n))){if(""===n)throw new Dc(Oc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Th(t)&&-1!==n.indexOf("/"))throw new Dc(Oc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(iu.fromString(n));if(!lu.isDocumentKey(r))throw new Dc(Oc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Fd(e,new lu(r))}if(n instanceof Wy)return Fd(e,n._key);throw new Dc(Oc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(My(n),"."))}function Bv(e,t){if(!Array.isArray(e)||0===e.length)throw new Dc(Oc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function qv(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Dc(Oc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Dc(Oc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Hv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Id(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw jc(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ed(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const s=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Cd].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>hd(e.doubleValue)));return new ov(s)}convertGeoPoint(e){return new av(hd(e.latitude),hd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=bd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wd(e));default:return null}}convertTimestamp(e){const t=dd(e);return new tu(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=iu.fromString(e);Rc(Rp(n),9688,{name:e});const r=new _d(n.get(1),n.get(3)),s=new lu(n.popFirst(5));return r.isEqual(t)||Tc("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function Wv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Kv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gv extends Iv{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Qv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Av("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Qv extends Gv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Yv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Kv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Qv(this._firestore,this._userDataWriter,n.key,n,new Kv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Dc(Oc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Qv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Kv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Qv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:$v(t.type),doc:r,oldIndex:s,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function $v(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jc(61501,{type:e})}}function Xv(e){e=Fy(e,Wy);const t=Fy(e.firestore,Zy);return jy(tv(t),e._key).then((n=>sb(t,e,n)))}class Jv extends Hv{constructor(e){super(),this.firestore=e}convertBytes(e){return new rv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wy(this.firestore,null,t)}}function Zv(e){e=Fy(e,Hy);const t=Fy(e.firestore,Zy),n=tv(t),r=new Jv(t);return Rv(e._query),Ay(n,e._query).then((n=>new Yv(t,r,e,n)))}function eb(e,t,n){e=Fy(e,Wy);const r=Fy(e.firestore,Zy),s=Wv(e.converter,t,n);return rb(r,[mv(pv(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,yf.none())])}function tb(e,t,n){e=Fy(e,Wy);const r=Fy(e.firestore,Zy),s=pv(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=Ln(t))||t instanceof sv?vv(s,"updateDoc",e._key,t,n,o):yv(s,"updateDoc",e._key,t),rb(r,[i.toMutation(e._key,yf.exists(!0))])}function nb(e,t){const n=Fy(e.firestore,Zy),r=Qy(e),s=Wv(e.converter,t);return rb(n,[mv(pv(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,yf.exists(!1))]).then((()=>r))}function rb(e,t){return function(e,t){const n=new Lc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=yy(e);try{const e=await function(e,t){const n=Pc(e),r=tu.now(),s=t.reduce(((e,t)=>e.add(t.key)),Xh());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Bh(),l=Xh();return n.Bs.getEntries(e,s).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((s=>{i=s;const a=[];for(const e of t){const t=_f(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new Sf(e.key,t,Qd(t.value.mapValue),yf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Wh(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new nd(Qc)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await fy(r,e.changes),await fg(r.remoteStore)}catch(e){const t=Tg(e,"Failed to persist write");n.reject(t)}}(await Cy(e),t,n))),n.promise}(tv(e),t)}function sb(e,t,n){const r=n.docs.get(t._key),s=new Jv(e);return new Gv(e,s,t._key,r,new Kv(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_c=e}(Jr),Gr(new Mn("firestore",((e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new Zy(new Vc(e.getProvider("auth-internal")),new Hc(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Dc(Oc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),ts(wc,xc,e),ts(wc,xc,"esm2017")}();const ib=Zr({apiKey:"AIzaSyAvhENe0-mGnPsFLPXlDOCmpJH7nNPZ2JE",authDomain:"legalmediate-94b9a.firebaseapp.com",projectId:"legalmediate-94b9a",storageBucket:"legalmediate-94b9a.firebasestorage.app",messagingSenderId:"928855765420",appId:"1:928855765420:web:4429105cd0a232df09ca09",measurementId:"G-TC53HLQ9P5"}),ab=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();e=Ln(e);const t=Qr(e,ti);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Qr(e,ti);if(n.isInitialized()){const e=n.getImmediate();if(Cn(t,n.getOptions()))return e;throw si.create("already-initialized")}const r=n.initialize({options:t})}(e)}(ib),rc(ib)),ob=ev(ib),lb=async(e,t,n,r)=>{const s=await async function(e,t,n){if(Yr(e.app))return Promise.reject(Bi(e));const r=Qa(e),s=so(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",To,"EMAIL_PASSWORD_PROVIDER"),i=await s.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Lo(e),t})),a=await Co._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}(ab,e,t),i=s.user;return await eb(Qy(ob,"accounts",i.uid),{Name:n,Role:r,Email:e,profileCompleted:!1}),s},cb=async e=>{if(!e||"string"!==typeof e)throw new Error("Invalid UID passed to getUserInfo");const t=Qy(ob,"accounts",e),n=await Xv(t);if(n.exists()){const t=n.data();return{uid:e,name:t.name||"",role:(t.role||"").trim(),profileCompleted:t.profileCompleted||!1}}throw new Error("User info not found in Firestore")},ub=(e,t)=>function(e,t,n){return Yr(e.app)?Promise.reject(Bi(e)):Do(Ln(e),wo.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Lo(e),t}))}(ab,e,t),db=async()=>{const e=new No,t=await async function(e,t,n){if(Yr(e.app))return Promise.reject(Vi(e,"operation-not-supported-in-this-environment"));const r=Qa(e);qi(e,t,xo);const s=fl(r,n);return new wl(r,"signInViaPopup",t,s).executeNotNull()}(ab,e),n=t.user,r=Qy(ob,"accounts",n.uid);return(await Xv(r)).exists()||await eb(r,{Name:n.displayName||"",Email:n.email,Role:"client",profileCompleted:!0}),t},hb=e=>{let{onLogin:t,onCancel:n,loginMode:r=!0}=e;const[i,a]=(0,s.useState)(r),[o,l]=(0,s.useState)("client"),[c,d]=(0,s.useState)(!1),[h,f]=(0,s.useState)({name:"",email:"",password:"",confirmPassword:""}),[p]=kt();(0,s.useEffect)((()=>{const e=p.get("mode");a("signup"!==e)}),[p]);const m=me(),g=e=>{f((t=>u(u({},t),{},{[e.target.name]:e.target.value})))};return(0,Mt.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Mt.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,Mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg border p-8",children:[(0,Mt.jsxs)("div",{className:"text-center mb-8",children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Mt.jsx)("div",{className:"flex-1"}),(0,Mt.jsx)("div",{className:"bg-black p-3 rounded-full",children:(0,Mt.jsx)(zt,{className:"h-8 w-8 text-white"})}),(0,Mt.jsx)("div",{className:"flex-1 flex justify-end",children:(0,Mt.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-black transition-colors",children:(0,Mt.jsx)(Ot,{className:"h-6 w-6"})})})]}),(0,Mt.jsx)("h2",{className:"text-2xl font-bold text-black",children:i?"Sign In":"Create Account"}),(0,Mt.jsx)("p",{className:"text-gray-600 mt-2",children:i?"Access your legal mediation dashboard":"Join our legal mediation platform"})]}),!i&&(0,Mt.jsxs)("div",{className:"mb-6",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-3",children:"I am a:"}),(0,Mt.jsx)("div",{className:"grid grid-cols-2 gap-3",children:["client","mediator"].map((e=>(0,Mt.jsxs)("button",{type:"button",onClick:()=>l(e),className:"p-4 border rounded-lg text-center transition-all ".concat(o===e?"border-black bg-gray-50":"border-gray-300 hover:border-gray-400"),children:["client"===e?(0,Mt.jsx)(Lt,{className:"h-5 w-5 mx-auto mb-2"}):(0,Mt.jsx)(zt,{className:"h-5 w-5 mx-auto mb-2"}),(0,Mt.jsx)("div",{className:"font-medium capitalize",children:e}),(0,Mt.jsx)("div",{className:"text-xs text-gray-500",children:"client"===e?"Need legal help":"Provide legal services"})]},e)))})]}),(0,Mt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i||h.password===h.confirmPassword)try{let e;if(i){await function(e,t){return Ln(e).setPersistence(t)}(ab,c?zo:Ko),e=await ub(h.email,h.password);const n=await cb(e.user.uid),r={uid:e.user.uid,email:e.user.email,name:n.name,type:n.role,profileCompleted:n.profileCompleted};t(r)}else{e=await lb(h.email,h.password,h.name,o);const{uid:n,email:r}=e.user;await eb(Qy(ob,"accounts",n),{uid:n,name:h.name,email:r,role:o,profileCompleted:!1});const s={uid:n,email:r,name:h.name,type:o,profileCompleted:!1};t(s)}}catch(n){alert("Authentication Error: "+n.message)}else alert("Passwords do not match")},className:"space-y-4",children:[!i&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-black mb-1",children:"Full Name"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)(Lt,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,Mt.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:h.name,onChange:g,className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Enter your full name"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-black mb-1",children:"Email Address"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)(Xt,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,Mt.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:h.email,onChange:g,className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Enter your email"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-black mb-1",children:"Password"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)(en,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,Mt.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:h.password,onChange:g,className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Enter your password"})]})]}),!i&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-black mb-1",children:"Confirm Password"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)(en,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,Mt.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:h.confirmPassword,onChange:g,className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Confirm your password"})]})]}),(0,Mt.jsxs)("button",{type:"submit",className:"w-full bg-black text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-800 flex justify-center items-center",children:[i?"Sign In":"Create Account",(0,Mt.jsx)(Ut,{className:"ml-2 h-5 w-5"})]}),i&&(0,Mt.jsxs)("label",{className:"inline-flex items-center cursor-pointer mt-4",children:[(0,Mt.jsx)("input",{type:"checkbox",checked:c,onChange:e=>d(e.target.checked),className:"hidden peer"}),(0,Mt.jsx)("span",{className:"w-4 h-4 inline-block border border-gray-400 rounded-sm peer-checked:bg-gray-900 peer-checked:text-white flex items-center justify-center text-sm"}),(0,Mt.jsx)("span",{className:"ml-2 text-gray-700",children:"Remember me"})]})]}),(0,Mt.jsx)("div",{className:"my-4 text-center text-gray-400 text-sm",children:"or"}),(0,Mt.jsxs)("div",{className:"space-y-2",children:[(0,Mt.jsxs)("button",{onClick:async()=>{try{const e=await db(),n=await cb(e.user.uid),r={uid:e.user.uid,email:e.user.email,name:n.name,type:n.role,profileCompleted:n.profileCompleted};t(r)}catch(e){alert("Google login failed: "+e.message)}},className:"w-full flex items-center justify-center border py-2 rounded-lg hover:bg-gray-50",children:[(0,Mt.jsx)(tn,{className:"h-5 w-5 mr-2 text-black"})," Continue with Google"]}),(0,Mt.jsxs)("button",{onClick:()=>alert("Phone login coming soon"),className:"w-full flex items-center justify-center border py-2 rounded-lg hover:bg-gray-50",children:[(0,Mt.jsx)($t,{className:"h-5 w-5 mr-2 text-black"})," Continue with Phone Number"]})]}),(0,Mt.jsx)("div",{className:"mt-6 text-center",children:(0,Mt.jsxs)("p",{className:"text-gray-600",children:[i?"Don't have an account?":"Already have an account?",(0,Mt.jsx)("button",{onClick:()=>m("/auth?mode=".concat(i?"signup":"signin")),className:"ml-2 text-black hover:underline font-medium",children:i?"Sign up":"Sign in"})]})})]})})})},fb=Rt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),pb=Rt("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),mb=e=>{let{user:t,onComplete:n}=e;const[r,i]=(0,s.useState)({title:"",category:"",description:"",preferredMeetingTypes:[],documents:[]}),a=me(),o=e=>{i(u(u({},r),{},{[e.target.name]:e.target.value}))};return(0,Mt.jsx)("div",{className:"min-h-screen bg-white py-12",children:(0,Mt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsxs)("button",{onClick:()=>a("/client-dashboard"),className:"flex items-center text-gray-600 hover:text-black mb-4",children:[(0,Mt.jsx)(fb,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]}),(0,Mt.jsx)("h1",{className:"text-3xl font-bold text-black mb-2",children:"Submit New Case"}),(0,Mt.jsx)("p",{className:"text-gray-600",children:"Tell us about your legal issue and we'll match you with the right mediator"})]}),(0,Mt.jsx)("div",{className:"bg-white border rounded-lg",children:(0,Mt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Gy(ev(),"cases"),n={title:r.title,category:r.category,description:r.description,meetingTypes:r.preferredMeetingTypes,documents:r.documents.map((e=>e.name)),status:"submitted",createdAt:tu.now(),clientId:t.uid};await nb(e,n),alert("Case submitted successfully! We will match you with a qualified mediator shortly."),a("/client-dashboard")}catch(n){console.error("Error submitting case:",n),alert("Something went wrong while submitting the case.")}},className:"p-8 space-y-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-black mb-2",children:"Case Title *"}),(0,Mt.jsx)("input",{id:"title",name:"title",type:"text",required:!0,value:r.title,onChange:o,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black transition-colors",placeholder:"Brief description of your legal issue"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-black mb-2",children:"Legal Category *"}),(0,Mt.jsxs)("select",{id:"category",name:"category",required:!0,value:r.category,onChange:o,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black transition-colors",children:[(0,Mt.jsx)("option",{value:"",children:"Select a category"}),["Family Law","Business Disputes","Contract Issues","Employment Problems","Real Estate","Personal Injury","Intellectual Property","Consumer Rights","Landlord-Tenant","Insurance Claims","Other"].map((e=>(0,Mt.jsx)("option",{value:e,children:e},e)))]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-black mb-2",children:"Detailed Description *"}),(0,Mt.jsx)("textarea",{id:"description",name:"description",required:!0,rows:6,value:r.description,onChange:o,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black transition-colors resize-none",placeholder:"Please provide detailed information about your legal issue, including what happened, when it occurred, and what outcome you're seeking..."}),(0,Mt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"The more details you provide, the better we can match you with the right mediator."})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-3",children:"Preferred Meeting Type"}),(0,Mt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{value:"video",label:"Video Call",description:"Online meeting"},{value:"phone",label:"Phone Call",description:"Voice only"},{value:"in-person",label:"In Person",description:"Face to face"}].map((e=>(0,Mt.jsxs)("label",{className:"cursor-pointer",children:[(0,Mt.jsx)("input",{type:"checkbox",name:"preferredMeetingTypes",value:e.value,checked:r.preferredMeetingTypes.includes(e.value),onChange:()=>{return t=e.value,void i((e=>{const n=e.preferredMeetingTypes;return u(u({},e),{},{preferredMeetingTypes:n.includes(t)?n.filter((e=>e!==t)):[...n,t]})}));var t},className:"sr-only"}),(0,Mt.jsxs)("div",{className:"p-4 border rounded-lg text-center transition-all ".concat(r.preferredMeetingTypes.includes(e.value)?"border-black bg-gray-50":"border-gray-300 hover:border-gray-400"),children:[(0,Mt.jsx)(Kt,{className:"h-6 w-6 mx-auto mb-2"}),(0,Mt.jsx)("div",{className:"font-medium",children:e.label}),(0,Mt.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]},e.value)))})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-3",children:"Supporting Documents (Optional)"}),(0,Mt.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[(0,Mt.jsx)(pb,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Mt.jsxs)("div",{className:"space-y-2",children:[(0,Mt.jsx)("p",{className:"text-gray-600",children:"Upload contracts, emails, photos, or other relevant documents"}),(0,Mt.jsxs)("label",{className:"cursor-pointer",children:[(0,Mt.jsx)("span",{className:"text-black hover:underline font-medium",children:"Choose files"}),(0,Mt.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:e=>{const t=Array.from(e.target.files);i(u(u({},r),{},{documents:[...r.documents,...t]}))},className:"sr-only"})]}),(0,Mt.jsx)("p",{className:"text-sm text-gray-500",children:"PDF, DOC, DOCX, TXT, JPG, PNG up to 10MB each"})]})]}),r.documents.length>0&&(0,Mt.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,Mt.jsx)("p",{className:"text-sm font-medium text-black",children:"Uploaded files:"}),r.documents.map(((e,t)=>(0,Mt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Qt,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,Mt.jsx)("span",{className:"text-sm text-gray-700",children:e.name})]}),(0,Mt.jsx)("button",{type:"button",onClick:()=>(e=>{const t=r.documents.filter(((t,n)=>n!==e));i(u(u({},r),{},{documents:t}))})(t),className:"text-red-600 hover:text-red-700 text-sm",children:"Remove"})]},t)))]})]}),(0,Mt.jsxs)("div",{className:"flex space-x-4 pt-6 border-t",children:[(0,Mt.jsx)("button",{type:"submit",className:"flex-1 bg-black text-white py-3 px-6 rounded-lg font-medium hover:bg-gray-800 transition-colors",children:"Submit Case"}),(0,Mt.jsx)("button",{type:"button",onClick:()=>a("/client-dashboard"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})})]})})},gb=Rt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),yb=Rt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),vb=Rt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),bb=Rt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),wb=Rt("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),xb=Rt("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),kb=Rt("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),_b=Rt("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Nb=e=>{var t,n;let{caseData:r,onBack:i,onSave:a,onSendToMediator:o,viewAsMediator:l}=e;const[c,d]=(0,s.useState)(!1),[h,f]=(0,s.useState)(u({},r)),[p,m]=(0,s.useState)(null),g=me();(0,s.useEffect)((()=>{(async()=>{if(l&&h.clientId)try{const e=Qy(ev(),"accounts",h.clientId),t=await Xv(e);t.exists()&&m(t.data())}catch(e){console.error("Failed to fetch client info:",e)}})()}),[h.clientId,l]);const y=e=>{const{name:t,value:n}=e.target;f((e=>u(u({},e),{},{[t]:n})))},v=()=>{const e=h.id||h.caseId||"missing_case_id",t={id:ab.currentUser.uid,name:ab.currentUser.displayName||"User"};g("/chat/".concat(e),{state:{caseData:h,user:t,mediator:h.assignedMediator||null}})};return(0,Mt.jsxs)("div",{className:"p-6",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Mt.jsx)("h1",{className:"text-2xl font-bold text-black",children:c?(0,Mt.jsx)("input",{name:"title",value:h.title,onChange:y,className:"text-2xl font-bold bg-transparent border-b-2 border-gray-300 focus:border-black outline-none"}):h.title}),(0,Mt.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat((e=>{switch(e){case"active":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"under_review":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(h.status)),children:h.status.charAt(0).toUpperCase()+h.status.slice(1)})]}),!l&&!c&&(0,Mt.jsxs)("button",{onClick:()=>d(!0),className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center gap-2",children:[(0,Mt.jsx)(xb,{className:"h-4 w-4"}),"Edit Case"]})]}),(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Mt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Mt.jsx)(kb,{className:"h-4 w-4 text-gray-600"}),(0,Mt.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Category"})]}),c?(0,Mt.jsxs)("select",{name:"category",value:h.category,onChange:y,className:"w-full bg-white border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black",children:[(0,Mt.jsx)("option",{value:"Family Law",children:"Family Law"}),(0,Mt.jsx)("option",{value:"Business Law",children:"Business Law"}),(0,Mt.jsx)("option",{value:"Employment Law",children:"Employment Law"}),(0,Mt.jsx)("option",{value:"Contract Disputes",children:"Contract Disputes"}),(0,Mt.jsx)("option",{value:"Real Estate",children:"Real Estate"}),(0,Mt.jsx)("option",{value:"Personal Injury",children:"Personal Injury"})]}):(0,Mt.jsx)("p",{className:"font-semibold text-black",children:h.category})]}),(0,Mt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Mt.jsx)(Kt,{className:"h-4 w-4 text-gray-600"}),(0,Mt.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Created"})]}),(0,Mt.jsx)("p",{className:"font-semibold text-black",children:null!==(t=h.createdAt)&&void 0!==t&&t.toDate?h.createdAt.toDate().toLocaleDateString():h.createdAt})]})]})]}),(0,Mt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Mt.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Mt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Mt.jsx)(Qt,{className:"h-5 w-5 text-gray-600"}),(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black",children:"Case Description"})]}),c?(0,Mt.jsx)("textarea",{name:"description",value:h.description,onChange:y,rows:8,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-black focus:border-black resize-none",placeholder:"Provide detailed information about your case..."}):(0,Mt.jsx)("div",{className:"prose max-w-none",children:(0,Mt.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:h.description})})]}),!l&&(0,Mt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Mt.jsx)(Bt,{className:"h-5 w-5 text-gray-600"}),(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black",children:"Case Timeline"})]}),(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Mt.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("p",{className:"font-medium text-black",children:"Case Created"}),(0,Mt.jsx)("p",{className:"text-sm text-gray-600",children:null!==(n=h.createdAt)&&void 0!==n&&n.toDate?h.createdAt.toDate().toLocaleDateString():h.createdAt})]})]}),h.sentToMediator&&(0,Mt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Mt.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("p",{className:"font-medium text-black",children:"Sent to Mediator"}),(0,Mt.jsx)("p",{className:"text-sm text-gray-600",children:"Awaiting mediator response"})]})]}),h.assignedMediator&&(0,Mt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Mt.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("p",{className:"font-medium text-black",children:"Mediator Assigned"}),(0,Mt.jsxs)("p",{className:"text-sm text-gray-600",children:["Assigned to ",h.assignedMediator]})]})]})]})]}),(0,Mt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Case Info"}),(0,Mt.jsxs)("div",{className:"space-y-3",children:[(0,Mt.jsxs)("div",{className:"flex justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Case ID:"}),(0,Mt.jsxs)("span",{className:"font-medium text-black",children:["#",h.id.slice(0,6)]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,Mt.jsx)("span",{className:"font-medium text-black",children:h.status})]}),(0,Mt.jsxs)("div",{className:"flex justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Category:"}),(0,Mt.jsx)("span",{className:"font-medium text-black",children:h.category})]})]})]})]}),(0,Mt.jsxs)("div",{className:"space-y-6",children:[l&&p?(0,Mt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Mt.jsx)(Lt,{className:"h-5 w-5 text-gray-600"}),(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black",children:"Assigned Client"})]}),(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"w-16 h-16 bg-black rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Mt.jsx)(Lt,{className:"h-8 w-8 text-white"})}),(0,Mt.jsx)("h4",{className:"font-semibold text-black",children:(null===p||void 0===p?void 0:p.name)||(null===p||void 0===p?void 0:p.Name)||"Client"}),(0,Mt.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Client"}),(0,Mt.jsxs)("div",{className:"space-y-2",children:[(0,Mt.jsxs)("button",{onClick:v,className:"w-full bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:[(0,Mt.jsx)(Gt,{className:"h-4 w-4"}),"Send Message"]}),(0,Mt.jsxs)("button",{className:"w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[(0,Mt.jsx)(Kt,{className:"h-4 w-4"}),"Schedule Meeting"]})]})]})]}):h.assignedMediator&&(0,Mt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Mt.jsx)(Lt,{className:"h-5 w-5 text-gray-600"}),(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black",children:"Assigned Mediator"})]}),(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"w-16 h-16 bg-black rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Mt.jsx)(Lt,{className:"h-8 w-8 text-white"})}),(0,Mt.jsx)("h4",{className:"font-semibold text-black",children:h.assignedMediator}),(0,Mt.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Legal Mediator"}),(0,Mt.jsxs)("div",{className:"space-y-2",children:[(0,Mt.jsxs)("button",{onClick:v,className:"w-full bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:[(0,Mt.jsx)(Gt,{className:"h-4 w-4"}),"Send Message"]}),(0,Mt.jsxs)("button",{className:"w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[(0,Mt.jsx)(Kt,{className:"h-4 w-4"}),"Schedule Meeting"]})]})]})]}),(0,Mt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Case Actions"}),(0,Mt.jsxs)("div",{className:"space-y-3",children:[!l&&!h.sentToMediator&&("pending"===h.status||"submitted"===h.status)&&(0,Mt.jsx)("button",{onClick:()=>g("/send-case",{state:{caseData:h}}),className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Send to Mediator"}),(0,Mt.jsx)("button",{className:"w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Download Case Summary"}),(0,Mt.jsx)("button",{className:"w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Add Documents"})]})]})]})]}),(0,Mt.jsxs)("div",{className:"flex items-center justify-between pt-8 border-t border-gray-200 mt-8",children:[(0,Mt.jsxs)("button",{onClick:i,className:"text-gray-600 hover:text-black transition-colors flex items-center gap-2",children:[(0,Mt.jsx)(fb,{className:"h-4 w-4"}),"Back to Dashboard"]}),c&&!l&&(0,Mt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Mt.jsx)("button",{onClick:()=>{f(u({},r)),d(!1)},className:"border border-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Mt.jsxs)("button",{onClick:async()=>{const e=ev();try{await tb(Qy(e,"cases",h.id),h),a(h),d(!1)}catch(t){console.error("Failed to update case:",t)}},className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center gap-2",children:[(0,Mt.jsx)(_b,{className:"h-4 w-4"}),"Save Changes"]})]})]})]})};!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var Eb=e=>"number"==typeof e&&!isNaN(e),Sb=e=>"string"==typeof e,Tb=e=>"function"==typeof e,Cb=e=>(0,s.isValidElement)(e)||Sb(e)||Tb(e)||Eb(e);function Ib(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=e,p=r?"".concat(t,"--").concat(l):t,m=r?"".concat(n,"--").concat(l):n,g=(0,s.useRef)(0);return(0,s.useLayoutEffect)((()=>{let e=d.current,t=p.split(" "),n=r=>{r.target===d.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,s.useEffect)((()=>{let e=d.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:s}=e;requestAnimationFrame((()=>{s.minHeight="initial",s.height=r+"px",s.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)}))}))}(e,u,a):u()};h||(c?t():(g.current=1,e.className+=" ".concat(m),e.addEventListener("animationend",t)))}),[h]),s.createElement(s.Fragment,null,o)}}var jb=1,Ab=()=>"".concat(jb++);var Rb=new Map,Pb=[],Ob=new Set,Db=()=>Rb.size>0;function Lb(e,t){var n;if(t)return!(null==(n=Rb.get(t))||!n.isToastActive(e));let r=!1;return Rb.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function Mb(e){if(Db()){if(null==e||(e=>Sb(e)||Eb(e))(e))Rb.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=Rb.get(e.containerId);t?t.removeToast(e.id):Rb.forEach((t=>{t.removeToast(e.id)}))}}else Pb=Pb.filter((t=>null!=e&&t.options.toastId!==e))}function Fb(e,t){Cb(e)&&(Db()||Pb.push({content:e,options:t}),Rb.forEach((n=>{n.buildToast(e,t)})))}function Ub(e,t){Rb.forEach((n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)}))}function Vb(e){return e&&(Sb(e.toastId)||Eb(e.toastId))?e.toastId:Ab()}function zb(e,t){return Fb(e,t),t.toastId}function Bb(e,t){return u(u({},t),{},{type:t&&t.type||e,toastId:Vb(t)})}function qb(e){return(t,n)=>zb(t,Bb(e,n))}function Hb(e,t){return zb(e,Bb("default",t))}Hb.loading=(e,t)=>zb(e,Bb("default",u({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),Hb.promise=function(e,t,n){let r,{pending:s,error:i,success:a}=t;s&&(r=Sb(s)?Hb.loading(s,n):Hb.loading(s.render,u(u({},n),s)));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,s)=>{if(null==t)return void Hb.dismiss(r);let i=u(u(u({type:e},o),n),{},{data:s}),a=Sb(t)?{render:t}:t;return r?Hb.update(r,u(u({},i),a)):Hb(a.render,u(u({},i),a)),s},c=Tb(e)?e():e;return c.then((e=>l("success",a,e))).catch((e=>l("error",i,e))),c},Hb.success=qb("success"),Hb.info=qb("info"),Hb.error=qb("error"),Hb.warning=qb("warning"),Hb.warn=Hb.warning,Hb.dark=(e,t)=>zb(e,Bb("default",u({theme:"dark"},t))),Hb.dismiss=function(e){Mb(e)},Hb.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Rb.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},Hb.isActive=Lb,Hb.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=Rb.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:s}=n,i=u(u(u({delay:100},r),t),{},{toastId:t.toastId||e,updateId:Ab()});i.toastId!==e&&(i.staleId=e);let a=i.render||s;delete i.render,zb(a,i)}},Hb.done=e=>{Hb.update(e,{progress:1})},Hb.onChange=function(e){return Ob.add(e),()=>{Ob.delete(e)}},Hb.play=e=>Ub(!0,e),Hb.pause=e=>Ub(!1,e);"undefined"!=typeof window?s.useLayoutEffect:s.useEffect;var Wb=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}};Ib(Wb("bounce",!0)),Ib(Wb("slide",!0)),Ib(Wb("zoom")),Ib(Wb("flip"));const Kb=e=>{let{user:t}=e;const[n,r]=(0,s.useState)("dashboard"),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)([]),c=me();(0,s.useEffect)((()=>{const e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s,i,a;e=Ln(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Jy(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Jy(n[l])){const e=n[l];n[l]=null===(s=e.next)||void 0===s?void 0:s.bind(e),n[l+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof Wy)d=Fy(e.firestore,Zy),h=Eh(e._key.path),u={next:t=>{n[l]&&n[l](sb(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Fy(e,Hy);d=Fy(t.firestore,Zy),h=t._query;const r=new Jv(d);u={next:e=>{n[l]&&n[l](new Yv(d,r,t,e))},error:n[l+1],complete:n[l+2]},Rv(e._query)}return function(e,t,n,r){const s=new xy(r),i=new zg(t,s,n);return e.asyncQueue.enqueueAndForget((async()=>Og(await Iy(e),i))),()=>{s.xu(),e.asyncQueue.enqueueAndForget((async()=>Dg(await Iy(e),i)))}}(tv(d),h,c,u)}(Dv(Gy(ev(),"cases"),Mv("clientId","==",t.uid)),(e=>{const t=e.docs.map((e=>u({id:e.id},e.data())));l(t)}));return()=>e()}),[t.uid]);const d=async e=>{try{const t=Qy(ev(),"cases",e);await tb(t,{sentToMediator:!0,status:"under_review"});const n=o.find((t=>t.id===e));n&&(l((t=>t.map((t=>t.id===e?u(u({},t),{},{sentToMediator:!0,status:"under_review"}):t)))),c("/mediators",{state:{from:"send-case",caseData:n}}))}catch(t){console.error("Error sending case to mediator:",t)}},h=e=>{switch(e){case"accepted":return"bg-green-50 text-green-700 border-green-200";case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"under_review":return"bg-blue-50 text-blue-700 border-blue-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},f=e=>{switch(e){case"active":case"completed":return(0,Mt.jsx)(gb,{className:"h-4 w-4"});case"pending":return(0,Mt.jsx)(yb,{className:"h-4 w-4"});default:return(0,Mt.jsx)(Bt,{className:"h-4 w-4"})}};return(0,Mt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Mt.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Mt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("h1",{className:"text-3xl font-bold text-black",children:["Welcome back, ",t.name]}),(0,Mt.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your legal cases and track progress"})]}),(0,Mt.jsxs)("button",{onClick:()=>c("/submit-case"),className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-all duration-200 flex items-center shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[(0,Mt.jsx)(vb,{className:"h-5 w-5 mr-2"}),"New Case"]})]})})}),(0,Mt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Mt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"bg-black p-3 rounded-lg",children:(0,Mt.jsx)(Qt,{className:"h-6 w-6 text-white"})}),(0,Mt.jsxs)("div",{className:"ml-4",children:[(0,Mt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Cases"}),(0,Mt.jsx)("p",{className:"text-2xl font-bold text-black",children:o.length})]})]})}),(0,Mt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"bg-yellow-500 p-3 rounded-lg",children:(0,Mt.jsx)(Bt,{className:"h-6 w-6 text-white"})}),(0,Mt.jsxs)("div",{className:"ml-4",children:[(0,Mt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),(0,Mt.jsx)("p",{className:"text-2xl font-bold text-black",children:o.filter((e=>"pending"===e.status)).length})]})]})}),(0,Mt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"bg-blue-500 p-3 rounded-lg",children:(0,Mt.jsx)(Bt,{className:"h-6 w-6 text-white"})}),(0,Mt.jsxs)("div",{className:"ml-4",children:[(0,Mt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Under Review"}),(0,Mt.jsx)("p",{className:"text-2xl font-bold text-black",children:o.filter((e=>"under_review"===e.status)).length})]})]})}),(0,Mt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"bg-green-500 p-3 rounded-lg",children:(0,Mt.jsx)(gb,{className:"h-6 w-6 text-white"})}),(0,Mt.jsxs)("div",{className:"ml-4",children:[(0,Mt.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),(0,Mt.jsx)("p",{className:"text-2xl font-bold text-black",children:o.filter((e=>"active"===e.status||"accepted"===e.status)).length})]})]})})]}),(0,Mt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,Mt.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Mt.jsx)("h3",{className:"text-xl font-semibold text-black",children:"My Cases"}),(0,Mt.jsx)("p",{className:"text-gray-600 mt-1",children:"Track and manage your legal cases"})]}),(0,Mt.jsx)("div",{className:"p-6",children:o.length>0?(0,Mt.jsx)("div",{className:"grid grid-cols-1 gap-6",children:o.map((e=>{var t,n;return(0,Mt.jsxs)("div",{className:"relative border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all duration-200 transform hover:-translate-y-1",children:[(0,Mt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Mt.jsxs)("div",{className:"flex-1",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Mt.jsx)("h4",{className:"text-lg font-semibold text-black",children:e.title}),(0,Mt.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat(h(e.status)," flex items-center gap-1"),children:[f(e.status),(n=e.status,"under_review"===n?"Under Review":n.charAt(0).toUpperCase()+n.slice(1))]})]}),(0,Mt.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,Mt.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,Mt.jsx)("span",{className:"bg-gray-100 px-3 py-1 rounded-full font-medium",children:e.category}),(0,Mt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Mt.jsx)(Kt,{className:"h-4 w-4"}),null!==(t=e.createdAt)&&void 0!==t&&t.seconds?new Date(1e3*e.createdAt.seconds).toLocaleDateString():"N/A"]})]})]}),(0,Mt.jsxs)("div",{className:"flex flex-col items-end gap-2",children:["accepted"===e.status&&e.assignedMediator&&(0,Mt.jsxs)("div",{className:"absolute top-4 right-4 text-right",children:[(0,Mt.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Mediator:"}),(0,Mt.jsx)("p",{className:"text-black font-semibold",children:e.assignedMediator})]}),"under_review"===e.status&&(0,Mt.jsx)("span",{className:"bg-blue-100 text-blue-700 text-xs px-3 py-1 rounded-full font-medium",children:"Sent to Mediator"}),"rejected"===e.status&&(0,Mt.jsx)("span",{className:"bg-red-100 text-red-700 text-xs px-3 py-1 rounded-full font-medium",children:"Rejected by Mediator"})]})]}),(0,Mt.jsxs)("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-100",children:[(0,Mt.jsxs)("button",{onClick:()=>(e=>{a(e)})(e),className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,Mt.jsx)(bb,{className:"h-4 w-4"}),"View Details"]}),("under_review"===e.status||"submitted"===e.status||"rejected"===e.status)&&(0,Mt.jsxs)("button",{onClick:()=>d(e.id),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,Mt.jsx)(wb,{className:"h-4 w-4"}),"Send to Mediator"]}),("accepted"===e.status||"active"===e.status)&&e.assignedMediator&&(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsxs)("button",{className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,Mt.jsx)(Gt,{className:"h-4 w-4"}),"Message Mediator"]}),(0,Mt.jsxs)("button",{className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium flex items-center gap-2",children:[(0,Mt.jsx)(Kt,{className:"h-4 w-4"}),"Schedule Meeting"]})]})]})]},e.id)}))}):(0,Mt.jsxs)("div",{className:"text-center py-16",children:[(0,Mt.jsx)("div",{className:"bg-gray-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Mt.jsx)(Qt,{className:"h-10 w-10 text-gray-400"})}),(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black mb-2",children:"No cases yet"}),(0,Mt.jsx)("p",{className:"text-gray-600 mb-6",children:"Submit your first case to get started with legal mediation"}),(0,Mt.jsx)("button",{onClick:()=>c("/submit-case"),className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors font-medium",children:"Submit Your First Case"})]})})]})]}),i&&(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Mt.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Mt.jsx)("h2",{className:"text-xl font-bold text-black",children:"Case Details"}),(0,Mt.jsx)("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Mt.jsx)(Ot,{className:"h-6 w-6"})})]}),(0,Mt.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:(0,Mt.jsx)(Nb,{caseData:i,onBack:()=>a(null),onSave:e=>{l(o.map((t=>t.id===e.id?e:t))),a(null)},onSendToMediator:d,viewAsMediator:!1})})]})})]})},Gb=Rt("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Qb=Rt("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Yb=Rt("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),$b=e=>{let{user:t}=e;const[n,r]=(0,s.useState)("requests"),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),[h,f]=(0,s.useState)([]),[p,m]=(0,s.useState)(null),[g,y]=(0,s.useState)(!1),[v,b]=(0,s.useState)([]);(0,s.useEffect)((()=>{(async()=>{try{const e=Qy(ob,"mediators",t.uid),n=await Xv(e);n.exists()?a(n.data()):console.log("No profile found for this mediator.")}catch(e){console.error("Error fetching profile:",e)}})(),(async()=>{try{const e=Dv(Gy(ob,"cases"),Mv("mediatorId","==",t.uid)),n=await Zv(e),r=await Promise.all(n.docs.map((async e=>{var t,n,r,s;const i=u({id:e.id},e.data());if(i.clientId){const e=await Xv(Qy(ob,"accounts",i.clientId));if(e.exists()){const t=e.data();i.clientName=t.Name||t.name||"Unknown Client"}else i.clientName="Unknown Client"}else i.clientName="Unknown Client";return i.startDate=(null===(t=i.startDate)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t).toLocaleDateString())||"N/A",i.nextMeeting=(null===(r=i.nextMeeting)||void 0===r||null===(s=r.toDate)||void 0===s?void 0:s.call(r).toLocaleString())||"N/A",i}))),s=r.filter((e=>"pending"===e.status)),i=r.filter((e=>"accepted"===e.status));f(s),b(i)}catch(e){console.error("Error fetching cases:",e)}})()}),[]);const w={totalCases:45,activeCases:v.length,completedCases:28,pendingRequests:h.filter((e=>"pending"===e.status)).length},x=async()=>{try{await tb(Qy(ob,"mediators",t.uid),o),a(o),d(!1)}catch(e){console.error("Error updating profile:",e),alert("Failed to update profile. Try again.")}},k=()=>{l(i),d(!1)};return(0,Mt.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,Mt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Mt.jsx)("div",{className:"mb-8",children:(0,Mt.jsx)("h1",{className:"text-3xl font-bold text-black mb-2",children:"Mediator Dashboard"})}),(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Mt.jsx)("div",{className:"bg-white p-6 rounded-lg border",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"bg-black p-3 rounded-lg",children:(0,Mt.jsx)(Qt,{className:"h-6 w-6 text-white"})}),(0,Mt.jsxs)("div",{className:"ml-4",children:[(0,Mt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Cases"}),(0,Mt.jsx)("p",{className:"text-2xl font-bold text-black",children:w.totalCases})]})]})}),(0,Mt.jsx)("div",{className:"bg-white p-6 rounded-lg border",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"bg-green-600 p-3 rounded-lg",children:(0,Mt.jsx)(Bt,{className:"h-6 w-6 text-white"})}),(0,Mt.jsxs)("div",{className:"ml-4",children:[(0,Mt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Cases"}),(0,Mt.jsx)("p",{className:"text-2xl font-bold text-black",children:w.activeCases})]})]})}),(0,Mt.jsx)("div",{className:"bg-white p-6 rounded-lg border",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"bg-blue-600 p-3 rounded-lg",children:(0,Mt.jsx)(gb,{className:"h-6 w-6 text-white"})}),(0,Mt.jsxs)("div",{className:"ml-4",children:[(0,Mt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),(0,Mt.jsx)("p",{className:"text-2xl font-bold text-black",children:w.completedCases})]})]})}),(0,Mt.jsx)("div",{className:"bg-white p-6 rounded-lg border",children:(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)("div",{className:"bg-yellow-600 p-3 rounded-lg",children:(0,Mt.jsx)(Vt,{className:"h-6 w-6 text-white"})}),(0,Mt.jsxs)("div",{className:"ml-4",children:[(0,Mt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Requests"}),(0,Mt.jsx)("p",{className:"text-2xl font-bold text-black",children:w.pendingRequests})]})]})})]}),(0,Mt.jsxs)("div",{className:"bg-white rounded-lg border mb-8",children:[(0,Mt.jsx)("div",{className:"border-b",children:(0,Mt.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,Mt.jsx)("button",{onClick:()=>r("requests"),className:"py-4 text-sm font-medium border-b-2 transition-colors ".concat("requests"===n?"border-black text-black":"border-transparent text-gray-500 hover:text-black"),children:"Case Requests"}),(0,Mt.jsx)("button",{onClick:()=>r("active"),className:"py-4 text-sm font-medium border-b-2 transition-colors ".concat("active"===n?"border-black text-black":"border-transparent text-gray-500 hover:text-black"),children:"Active Cases"}),(0,Mt.jsx)("button",{onClick:()=>r("profile"),className:"py-4 text-sm font-medium border-b-2 transition-colors ".concat("profile"===n?"border-black text-black":"border-transparent text-gray-500 hover:text-black"),children:"My Profile"})]})}),(0,Mt.jsxs)("div",{className:"p-6",children:["requests"===n&&(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsx)("h3",{className:"text-xl font-semibold text-black",children:"Case Requests"}),(0,Mt.jsx)("div",{className:"grid grid-cols-1 gap-4",children:h.filter((e=>"pending"===e.status)).map((e=>(0,Mt.jsxs)("div",{className:"bg-white border-l-4 border border-gray-200 rounded-lg p-6",children:[(0,Mt.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Mt.jsxs)("div",{className:"flex-1",children:[(0,Mt.jsx)("h4",{className:"text-lg font-semibold text-black mb-2",children:e.title}),(0,Mt.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[(0,Mt.jsx)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:e.category}),(0,Mt.jsxs)("span",{children:["Client: ",e.clientName]}),(0,Mt.jsxs)("span",{children:["Submitted: ",e.submittedAt]})]})]})}),(0,Mt.jsxs)("div",{className:"flex space-x-3 pt-4 border-t",children:[(0,Mt.jsxs)("button",{onClick:()=>(async e=>{try{const n=Qy(ob,"mediators",t.uid),r=await Xv(n);if(!r.exists())throw new Error("Mediator profile not found");const s=r.data(),i=Qy(ob,"cases",e);await tb(i,{status:"accepted",assignedMediator:s.name,mediatorId:t.uid,startDate:new Date});const a=Dv(Gy(ob,"caseAssignments"),Mv("caseId","==",e),Mv("mediatorId","==",t.uid));(await Zv(a)).forEach((e=>{tb(Qy(ob,"caseAssignments",e.id),{status:"accepted"})})),f((t=>t.filter((t=>t.id!==e))));const o=h.find((t=>t.id===e));o&&b((e=>[...e,u(u({},o),{},{status:"accepted",assignedMediator:s.name,mediatorId:t.uid})]))}catch(n){console.error("Error accepting case:",n)}})(e.id),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm flex items-center",children:[(0,Mt.jsx)(Gb,{className:"h-4 w-4 mr-1"}),"Accept Case"]}),(0,Mt.jsxs)("button",{onClick:()=>(async e=>{try{const t=Qy(ob,"cases",e);await tb(t,{status:"rejected"}),f((t=>t.filter((t=>t.id!==e))))}catch(t){console.error("Error rejecting case:",t)}})(e.id),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm flex items-center",children:[(0,Mt.jsx)(Ot,{className:"h-4 w-4 mr-1"}),"Reject"]}),(0,Mt.jsx)("button",{onClick:()=>{m(e),y(!0)},className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors text-sm",children:"View Details"})]})]},e.id)))}),0===h.filter((e=>"pending"===e.status)).length&&(0,Mt.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,Mt.jsx)(Qt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black mb-2",children:"No pending requests"}),(0,Mt.jsx)("p",{className:"text-gray-600",children:"New case requests will appear here"})]})]}),"active"===n&&(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsx)("h3",{className:"text-xl font-semibold text-black",children:"Active Cases"}),(0,Mt.jsx)("div",{className:"grid grid-cols-1 gap-4",children:v.map((e=>(0,Mt.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,Mt.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h4",{className:"text-lg font-semibold text-black",children:e.title}),(0,Mt.jsxs)("p",{className:"text-gray-600",children:["Client: ",e.clientName]}),(0,Mt.jsxs)("p",{className:"text-sm text-gray-500",children:["Started: ",e.startDate]})]}),(0,Mt.jsxs)("div",{className:"text-right",children:[(0,Mt.jsx)("p",{className:"text-sm text-gray-600",children:"Next meeting:"}),(0,Mt.jsx)("p",{className:"font-medium text-black",children:e.nextMeeting})]})]}),(0,Mt.jsxs)("div",{className:"mb-4",children:[(0,Mt.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,Mt.jsx)("span",{children:"Progress"}),(0,Mt.jsxs)("span",{children:[e.progress,"%"]})]}),(0,Mt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Mt.jsx)("div",{className:"bg-black h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.progress,"%")}})})]}),(0,Mt.jsxs)("div",{className:"flex space-x-3",children:[(0,Mt.jsx)("button",{onClick:()=>{m(e),y(!0)},className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors text-sm",children:"View Details"}),(0,Mt.jsxs)("button",{className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm flex items-center",children:[(0,Mt.jsx)(Gt,{className:"h-4 w-4 mr-1"}),"Message Client"]}),(0,Mt.jsxs)("button",{className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm flex items-center",children:[(0,Mt.jsx)(Kt,{className:"h-4 w-4 mr-1"}),"Schedule Meeting"]})]})]},e.id)))}),0===v.length&&(0,Mt.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,Mt.jsx)(Qt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black mb-2",children:"No active cases"}),(0,Mt.jsx)("p",{className:"text-gray-600",children:"Accepted cases will appear here"})]})]}),"profile"===n&&(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mt.jsx)("h3",{className:"text-xl font-semibold text-black",children:"My Profile"}),!c&&(0,Mt.jsxs)("button",{onClick:()=>{l(i),d(!0)},className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center text-sm",children:[(0,Mt.jsx)(Qb,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),(0,Mt.jsx)("div",{className:"bg-white border rounded-lg p-6",children:c?(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Name"}),(0,Mt.jsx)("input",{type:"text",value:o.name,onChange:e=>l(u(u({},o),{},{name:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Specialty"}),(0,Mt.jsx)("input",{type:"text",value:o.specialty,onChange:e=>l(u(u({},o),{},{specialty:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Experience (years)"}),(0,Mt.jsx)("input",{type:"number",value:o.experience,onChange:e=>l(u(u({},o),{},{experience:parseInt(e.target.value)})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Hourly Rate (\u20b9)"}),(0,Mt.jsx)("input",{type:"number",value:o.hourlyRate,onChange:e=>l(u(u({},o),{},{hourlyRate:parseInt(e.target.value)})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Location"}),(0,Mt.jsx)("input",{type:"text",value:o.location,onChange:e=>l(u(u({},o),{},{location:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black"})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Phone"}),(0,Mt.jsx)("input",{type:"text",value:o.phone,onChange:e=>l(u(u({},o),{},{phone:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black"})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Bio"}),(0,Mt.jsx)("textarea",{rows:4,value:o.bio,onChange:e=>l(u(u({},o),{},{bio:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black resize-none"})]}),(0,Mt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Mt.jsx)("button",{onClick:x,className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Save Changes"}),(0,Mt.jsx)("button",{onClick:k,className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}):(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,Mt.jsx)("div",{className:"w-24 h-24 bg-black rounded-full flex items-center justify-center flex-shrink-0",children:(0,Mt.jsx)(Lt,{className:"h-12 w-12 text-white"})}),(0,Mt.jsxs)("div",{className:"flex-1",children:[(0,Mt.jsx)("h4",{className:"text-2xl font-bold text-black mb-2",children:i.name}),(0,Mt.jsx)("p",{className:"text-lg text-gray-600 mb-2",children:i.specialty}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Jt,{className:"h-4 w-4 mr-1"}),i.location]}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Bt,{className:"h-4 w-4 mr-1"}),i.experience," years experience"]}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Yb,{className:"h-4 w-4 mr-1 text-yellow-400"}),"\u20b9",i.hourlyRate,"/hour"]})]})]})]}),(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h5",{className:"font-semibold text-black mb-3",children:"Contact Information"}),(0,Mt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Xt,{className:"h-4 w-4 mr-2 text-gray-400"}),i.email]}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)($t,{className:"h-4 w-4 mr-2 text-gray-400"}),i.phone]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h5",{className:"font-semibold text-black mb-3",children:"Languages"}),(0,Mt.jsx)("div",{className:"flex flex-wrap gap-2",children:i.languages.map((e=>(0,Mt.jsx)("span",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:e},e)))})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h5",{className:"font-semibold text-black mb-3",children:"About"}),(0,Mt.jsx)("p",{className:"text-gray-600",children:i.bio})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h5",{className:"font-semibold text-black mb-3",children:"Education & Certifications"}),(0,Mt.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,Mt.jsx)("p",{children:i.education}),i.certifications.map((e=>(0,Mt.jsxs)("p",{children:["\u2022 ",e]},e)))]})]})]})})]})]})]})]}),g&&p&&(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Mt.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Mt.jsx)("h2",{className:"text-xl font-bold text-black",children:"Case Details"}),(0,Mt.jsx)("button",{onClick:()=>{m(null),y(!1)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Mt.jsx)(Ot,{className:"h-6 w-6"})})]}),(0,Mt.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:(0,Mt.jsx)(Nb,{caseData:p,viewAsMediator:!0,onBack:()=>{m(null),y(!1)}})})]})})]})},Xb=Rt("indian-rupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]),Jb=Rt("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Zb=Rt("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),ew=e=>{let{user:t,onComplete:n}=e;const[r,i]=(0,s.useState)(1),[a,o]=(0,s.useState)({specialty:"",experience:"",location:"",bio:"",phone:"",hourlyRate:"",consultationFee:"",education:[""],certifications:[""],specializations:[""],languages:["English"],acceptsVideoMeetings:!0,acceptsPhoneMeetings:!0,acceptsInPersonMeetings:!1,availability:{monday:{available:!0,hours:"9:00 AM - 5:00 PM"},tuesday:{available:!0,hours:"9:00 AM - 5:00 PM"},wednesday:{available:!0,hours:"9:00 AM - 5:00 PM"},thursday:{available:!0,hours:"9:00 AM - 5:00 PM"},friday:{available:!0,hours:"9:00 AM - 5:00 PM"},saturday:{available:!1,hours:""},sunday:{available:!1,hours:""}}}),l=["Family Law","Business Law","Employment Law","Contract Disputes","Real Estate","Personal Injury","Intellectual Property","Consumer Rights","Criminal Law","Immigration Law"],c=(e,t)=>{o((n=>u(u({},n),{},{[e]:t})))},d=(e,t,n)=>{o((r=>u(u({},r),{},{[e]:r[e].map(((e,r)=>r===t?n:e))})))},h=e=>{o((t=>u(u({},t),{},{[e]:[...t[e],""]})))},f=(e,t)=>{o((n=>u(u({},n),{},{[e]:n[e].filter(((e,n)=>n!==t))})))},p=()=>{switch(r){case 1:return a.specialty&&a.experience&&a.location&&a.bio;case 2:return a.phone&&a.hourlyRate&&a.consultationFee;case 3:return a.education.some((e=>e.trim()));case 4:return!0;default:return!1}};return(0,Mt.jsx)("div",{className:"min-h-screen bg-white py-12",children:(0,Mt.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Mt.jsxs)("div",{className:"mb-8",children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Mt.jsx)("h1",{className:"text-2xl font-bold text-black",children:"Complete Your Profile"}),(0,Mt.jsxs)("span",{className:"text-sm text-gray-600",children:["Step ",r," of 4"]})]}),(0,Mt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Mt.jsx)("div",{className:"bg-black h-2 rounded-full transition-all duration-300",style:{width:"".concat(r/4*100,"%")}})})]}),(0,Mt.jsxs)("div",{className:"bg-white border rounded-lg p-8",children:[1===r&&(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsxs)("div",{className:"text-center mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-bold text-black mb-2",children:"Basic Information"}),(0,Mt.jsx)("p",{className:"text-gray-600",children:"Tell us about your professional background"})]}),(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Primary Specialty *"}),(0,Mt.jsxs)("select",{value:a.specialty,onChange:e=>c("specialty",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black",required:!0,children:[(0,Mt.jsx)("option",{value:"",children:"Select your main area of expertise"}),l.map((e=>(0,Mt.jsx)("option",{value:e,children:e},e)))]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Years of Experience *"}),(0,Mt.jsx)("input",{type:"number",value:a.experience,onChange:e=>c("experience",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black",placeholder:"e.g., 8",min:"0",required:!0})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Location *"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)(Jt,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,Mt.jsx)("input",{type:"text",value:a.location,onChange:e=>c("location",e.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black",placeholder:"City, State",required:!0})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Professional Bio *"}),(0,Mt.jsx)("textarea",{rows:4,value:a.bio,onChange:e=>c("bio",e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black resize-none",placeholder:"Describe your experience, approach, and what makes you unique as a mediator...",required:!0}),(0,Mt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"This will be shown to potential clients"})]})]})]}),2===r&&(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsxs)("div",{className:"text-center mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-bold text-black mb-2",children:"Contact & Rates"}),(0,Mt.jsx)("p",{className:"text-gray-600",children:"Set your contact information and pricing"})]}),(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Phone Number *"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)($t,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,Mt.jsx)("input",{type:"tel",value:a.phone,onChange:e=>c("phone",e.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black",placeholder:"+1 (555) 123-4567",required:!0})]})]}),(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Hourly Rate (\u20b9) *"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)(Xb,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,Mt.jsx)("input",{type:"number",value:a.hourlyRate,onChange:e=>c("hourlyRate",e.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black",placeholder:"250",min:"0",required:!0})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Consultation Fee (\u20b9) *"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)(Xb,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,Mt.jsx)("input",{type:"number",value:a.consultationFee,onChange:e=>c("consultationFee",e.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black",placeholder:"150",min:"0",required:!0})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-3",children:"Meeting Preferences *"}),(0,Mt.jsxs)("div",{className:"space-y-3",children:[(0,Mt.jsxs)("label",{className:"flex items-center",children:[(0,Mt.jsx)("input",{type:"checkbox",checked:a.acceptsVideoMeetings,onChange:e=>c("acceptsVideoMeetings",e.target.checked),className:"mr-3"}),(0,Mt.jsx)(Wt,{className:"h-5 w-5 mr-2"}),(0,Mt.jsx)("span",{children:"Accept video meetings"})]}),(0,Mt.jsxs)("label",{className:"flex items-center",children:[(0,Mt.jsx)("input",{type:"checkbox",checked:a.acceptsPhoneMeetings,onChange:e=>c("acceptsPhoneMeetings",e.target.checked),className:"mr-3"}),(0,Mt.jsx)($t,{className:"h-5 w-5 mr-2"}),(0,Mt.jsx)("span",{children:"Accept phone meetings"})]}),(0,Mt.jsxs)("label",{className:"flex items-center",children:[(0,Mt.jsx)("input",{type:"checkbox",checked:a.acceptsInPersonMeetings,onChange:e=>c("acceptsInPersonMeetings",e.target.checked),className:"mr-3"}),(0,Mt.jsx)(Kt,{className:"h-5 w-5 mr-2"}),(0,Mt.jsx)("span",{children:"Accept in-person meetings"})]})]})]})]})]}),3===r&&(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsxs)("div",{className:"text-center mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-bold text-black mb-2",children:"Professional Background"}),(0,Mt.jsx)("p",{className:"text-gray-600",children:"Add your credentials and expertise"})]}),(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black",children:"Education *"}),(0,Mt.jsx)("button",{type:"button",onClick:()=>h("education"),className:"text-black hover:underline text-sm",children:"+ Add Education"})]}),(0,Mt.jsx)("div",{className:"space-y-2",children:a.education.map(((e,t)=>(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)(Jb,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),(0,Mt.jsx)("input",{type:"text",value:e,onChange:e=>d("education",t,e.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black",placeholder:"e.g., JD from Harvard Law School (2015)"}),a.education.length>1&&(0,Mt.jsx)("button",{type:"button",onClick:()=>f("education",t),className:"text-red-600 hover:text-red-700 text-sm",children:"Remove"})]},t)))})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black",children:"Certifications"}),(0,Mt.jsx)("button",{type:"button",onClick:()=>h("certifications"),className:"text-black hover:underline text-sm",children:"+ Add Certification"})]}),(0,Mt.jsx)("div",{className:"space-y-2",children:a.certifications.map(((e,t)=>(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)(Zb,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),(0,Mt.jsx)("input",{type:"text",value:e,onChange:e=>d("certifications",t,e.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black",placeholder:"e.g., Certified Mediator - American Arbitration Association"}),a.certifications.length>1&&(0,Mt.jsx)("button",{type:"button",onClick:()=>f("certifications",t),className:"text-red-600 hover:text-red-700 text-sm",children:"Remove"})]},t)))})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black",children:"Areas of Specialization"}),(0,Mt.jsx)("button",{type:"button",onClick:()=>h("specializations"),className:"text-black hover:underline text-sm",children:"+ Add Specialization"})]}),(0,Mt.jsx)("div",{className:"space-y-2",children:a.specializations.map(((e,t)=>(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)(Zb,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),(0,Mt.jsx)("input",{type:"text",value:e,onChange:e=>d("specializations",t,e.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black",placeholder:"e.g., Divorce Mediation"}),a.specializations.length>1&&(0,Mt.jsx)("button",{type:"button",onClick:()=>f("specializations",t),className:"text-red-600 hover:text-red-700 text-sm",children:"Remove"})]},t)))})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Languages Spoken"}),(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)(tn,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,Mt.jsx)("input",{type:"text",value:a.languages.join(", "),onChange:e=>c("languages",e.target.value.split(", ").filter((e=>e.trim()))),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black",placeholder:"English, Spanish, French..."})]})]})]})]}),4===r&&(0,Mt.jsxs)("div",{className:"space-y-6",children:[(0,Mt.jsxs)("div",{className:"text-center mb-8",children:[(0,Mt.jsx)("h2",{className:"text-2xl font-bold text-black mb-2",children:"Review Your Profile"}),(0,Mt.jsx)("p",{className:"text-gray-600",children:"Make sure everything looks good before completing setup"})]}),(0,Mt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 space-y-6",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h4",{className:"font-semibold text-black mb-3",children:"Basic Information"}),(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Specialty:"}),(0,Mt.jsx)("span",{className:"ml-2 font-medium",children:a.specialty})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Experience:"}),(0,Mt.jsxs)("span",{className:"ml-2 font-medium",children:[a.experience," years"]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Location:"}),(0,Mt.jsx)("span",{className:"ml-2 font-medium",children:a.location})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,Mt.jsx)("span",{className:"ml-2 font-medium",children:a.phone})]})]}),(0,Mt.jsxs)("div",{className:"mt-3",children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Bio:"}),(0,Mt.jsx)("p",{className:"mt-1 text-sm",children:a.bio})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h4",{className:"font-semibold text-black mb-3",children:"Rates & Meetings"}),(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Hourly Rate:"}),(0,Mt.jsxs)("span",{className:"ml-2 font-medium",children:["\u20b9",a.hourlyRate]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Consultation Fee:"}),(0,Mt.jsxs)("span",{className:"ml-2 font-medium",children:["\u20b9",a.consultationFee]})]})]}),(0,Mt.jsxs)("div",{className:"mt-3",children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Meeting Types:"}),(0,Mt.jsxs)("div",{className:"flex space-x-2 mt-1",children:[a.acceptsVideoMeetings&&(0,Mt.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"Video"}),a.acceptsPhoneMeetings&&(0,Mt.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:"Phone"}),a.acceptsInPersonMeetings&&(0,Mt.jsx)("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs",children:"In-Person"})]})]})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h4",{className:"font-semibold text-black mb-3",children:"Professional Background"}),(0,Mt.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Education:"}),(0,Mt.jsx)("ul",{className:"mt-1 space-y-1",children:a.education.filter((e=>e.trim())).map(((e,t)=>(0,Mt.jsxs)("li",{className:"flex items-start",children:[(0,Mt.jsx)("span",{className:"w-2 h-2 bg-black rounded-full mt-2 mr-2 flex-shrink-0"}),e]},t)))})]}),a.certifications.filter((e=>e.trim())).length>0&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Certifications:"}),(0,Mt.jsx)("ul",{className:"mt-1 space-y-1",children:a.certifications.filter((e=>e.trim())).map(((e,t)=>(0,Mt.jsxs)("li",{className:"flex items-start",children:[(0,Mt.jsx)("span",{className:"w-2 h-2 bg-black rounded-full mt-2 mr-2 flex-shrink-0"}),e]},t)))})]}),a.specializations.filter((e=>e.trim())).length>0&&(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Specializations:"}),(0,Mt.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:a.specializations.filter((e=>e.trim())).map(((e,t)=>(0,Mt.jsx)("span",{className:"bg-black text-white px-2 py-1 rounded text-xs",children:e},t)))})]}),(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Languages:"}),(0,Mt.jsx)("span",{className:"ml-2",children:a.languages.join(", ")})]})]})]})]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between pt-8 border-t mt-8",children:[(0,Mt.jsxs)("button",{onClick:()=>{r>1&&i(r-1)},disabled:1===r,className:"flex items-center px-6 py-2 rounded-lg transition-colors ".concat(1===r?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50 border border-gray-300"),children:[(0,Mt.jsx)(fb,{className:"h-4 w-4 mr-2"}),"Previous"]}),r<4?(0,Mt.jsxs)("button",{onClick:()=>{r<4&&i(r+1)},disabled:!p(),className:"flex items-center px-6 py-2 rounded-lg transition-colors ".concat(p()?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:["Next",(0,Mt.jsx)(Ut,{className:"h-4 w-4 ml-2"})]}):(0,Mt.jsxs)("button",{onClick:async()=>{if(!t||!t.uid)return void console.error("User not defined or UID missing");const e=Qy(ob,"mediators",t.uid),r=Qy(ob,"accounts",t.uid);try{await eb(e,u(u({},a),{},{profileCompleted:!0,uid:t.uid,name:t.name||"",email:t.email||"",type:"mediator"})),await tb(r,{profileCompleted:!0}),console.log("Profile saved and profileCompleted updated."),n(a)}catch(s){console.error("Error saving profile:",s)}},className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center",children:["Complete Setup",(0,Mt.jsx)(Ut,{className:"h-4 w-4 ml-2"})]})]})]})]})})},tw=Rt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),nw=Rt("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),rw=e=>{let{onClose:t,onSelect:n}=e;const[r,i]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{(async()=>{try{var e;const t=null===(e=ab.currentUser)||void 0===e?void 0:e.uid,n=Dv(Gy(ob,"cases"),Mv("clientId","==",t)),r=(await Zv(n)).docs.map((e=>u({id:e.id},e.data())));i(r),o(!1)}catch(t){console.error("Error fetching cases:",t),o(!1)}})()}),[]),(0,Mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50",children:(0,Mt.jsxs)("div",{className:"bg-white w-full max-w-xl rounded-2xl shadow-2xl relative p-6 border border-gray-200",children:[(0,Mt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Mt.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Select a Case"}),(0,Mt.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:(0,Mt.jsx)(Ot,{className:"h-5 w-5"})})]}),a?(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-600",children:"Loading cases..."}):0===r.length?(0,Mt.jsx)("div",{className:"text-center py-8 text-gray-600",children:"No cases found. Please create a case first from your dashboard."}):(0,Mt.jsx)("ul",{className:"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:r.map((e=>(0,Mt.jsxs)("li",{onClick:()=>n(e),className:"p-4 rounded-xl border border-gray-200 hover:border-black hover:bg-gray-50 cursor-pointer transition",children:[(0,Mt.jsx)("h4",{className:"text-lg font-medium text-black",children:e.title}),(0,Mt.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:e.category}),(0,Mt.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Status: ",(0,Mt.jsx)("span",{className:"capitalize",children:e.status||"Pending"})]})]},e.id)))}),(0,Mt.jsx)("div",{className:"mt-6 text-right",children:(0,Mt.jsx)("button",{onClick:t,className:"inline-block px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg text-sm font-medium transition",children:"Cancel"})})]})})},sw=e=>{let{user:t,onScheduleMeeting:n}=e;const[r,i]=(0,s.useState)([]),[a,o]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),[d,h]=(0,s.useState)(""),[f,p]=(0,s.useState)(!0),[m,g]=(0,s.useState)(!1),[y,v]=(0,s.useState)(null),[b,w]=(0,s.useState)([]),x=me(),k=he();(0,s.useEffect)((()=>{(async()=>{try{const e=Dv(Gy(ob,"accounts"),Mv("role","==","mediator"),Mv("profileCompleted","==",!0)),t=await Zv(e),n=[];for(const r of t.docs){const e=r.data(),t=Qy(ob,"mediators",r.id),s=await Xv(t);if(s.exists()){const t=s.data();n.push(u(u({id:r.id},e),t))}}i(n)}catch(e){console.error("Error fetching mediators:",e)}finally{p(!1)}})()}),[]),(0,s.useEffect)((()=>{(async()=>{try{const e=null===t||void 0===t?void 0:t.uid;if(!e)return;const n=Dv(Gy(ob,"cases"),Mv("clientId","==",e)),r=(await Zv(n)).docs.map((e=>u({id:e.id},e.data()))),s=[];for(const t of r){const e=Dv(Gy(ob,"caseAssignments"),Mv("caseId","==",t.id),Mv("status","==","accepted"));(await Zv(e)).empty&&s.push(t)}w(s)}catch(e){console.error("Failed to fetch user cases:",e)}})()}),[null===t||void 0===t?void 0:t.uid]);const _=r.filter((e=>{const t=e.name.toLowerCase().includes(a.toLowerCase())||e.specialty.toLowerCase().includes(a.toLowerCase()),n=!l||e.specialty===l,r=!d||e.location.includes(d);return t&&n&&r}));return f?(0,Mt.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 text-gray-700",children:[(0,Mt.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Mt.jsxs)("svg",{className:"animate-spin h-6 w-6 text-black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Mt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Mt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),(0,Mt.jsx)("span",{className:"text-lg font-medium",children:"Loading mediator directory"})]}),(0,Mt.jsx)("p",{className:"text-sm text-gray-500",children:"Please wait while we load the page"})]}):(0,Mt.jsx)("div",{className:"min-h-screen bg-white py-12",children:(0,Mt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Mt.jsxs)("div",{className:"text-center mb-12",children:[(0,Mt.jsx)("h1",{className:"text-4xl font-bold text-black mb-4",children:"Find a Mediator"}),(0,Mt.jsx)("p",{className:"text-xl text-gray-600",children:"Connect with qualified mediators for your legal needs"})]}),(0,Mt.jsx)("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:(0,Mt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Mt.jsxs)("div",{className:"relative",children:[(0,Mt.jsx)(tw,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,Mt.jsx)("input",{type:"text",placeholder:"Search mediators...",value:a,onChange:e=>o(e.target.value),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black transition-colors"})]}),(0,Mt.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black transition-colors",children:[(0,Mt.jsx)("option",{value:"",children:"All Specialties"}),["Family Law","Business Law","Contract Disputes","Employment Law","Real Estate","Personal Injury","Intellectual Property","Consumer Rights"].map((e=>(0,Mt.jsx)("option",{value:e,children:e},e)))]}),(0,Mt.jsx)("input",{type:"text",placeholder:"Location...",value:d,onChange:e=>h(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-black focus:border-black transition-colors"}),(0,Mt.jsxs)("button",{className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center",children:[(0,Mt.jsx)(nw,{className:"h-4 w-4 mr-2"}),"Filter"]})]})}),(0,Mt.jsx)("div",{className:"mb-6",children:(0,Mt.jsxs)("p",{className:"text-gray-600",children:[(0,Mt.jsx)("span",{className:"font-semibold text-black",children:_.length})," mediator",1!==_.length?"s":""," found"]})}),(0,Mt.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.map((e=>(0,Mt.jsx)("div",{className:"bg-white border rounded-lg p-6 hover:shadow-md transition-shadow",children:(0,Mt.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Mt.jsx)("div",{className:"w-16 h-16 bg-black rounded-full flex items-center justify-center flex-shrink-0",children:(0,Mt.jsx)("span",{className:"text-lg font-bold text-white",children:e.name.split(" ").map((e=>e[0])).join("")})}),(0,Mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Mt.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h3",{className:"text-xl font-semibold text-black",children:e.name}),(0,Mt.jsx)("p",{className:"text-gray-600",children:e.specialty})]}),e.availableToday&&(0,Mt.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-medium",children:"Available Today"})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-4 mb-3 text-sm text-gray-600",children:[(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Yb,{className:"h-4 w-4 text-yellow-400 mr-1"}),(0,Mt.jsx)("span",{className:"font-medium text-black",children:e.rating}),(0,Mt.jsxs)("span",{className:"ml-1",children:["(",e.reviews," reviews)"]})]}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Jt,{className:"h-4 w-4 mr-1"}),(0,Mt.jsx)("span",{children:e.location})]}),(0,Mt.jsxs)("div",{className:"flex items-center",children:[(0,Mt.jsx)(Bt,{className:"h-4 w-4 mr-1"}),(0,Mt.jsxs)("span",{children:[e.experience," years"]})]})]}),(0,Mt.jsx)("p",{className:"text-gray-700 text-sm mb-4",children:e.bio}),(0,Mt.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:(0,Mt.jsxs)("div",{className:"grid grid-cols-2 text-center text-sm border border-gray-200 rounded-lg overflow-hidden",children:[(0,Mt.jsxs)("div",{className:"bg-gray-50 p-3",children:[(0,Mt.jsxs)("div",{className:"font-semibold text-black",children:["\u20b9",e.hourlyRate]}),(0,Mt.jsx)("div",{className:"text-gray-600",children:"Per Hour"})]}),(0,Mt.jsxs)("div",{className:"bg-gray-50 p-3 border-l border-gray-200",children:[(0,Mt.jsxs)("div",{className:"font-semibold text-black",children:["\u20b9",e.consultationFee]}),(0,Mt.jsx)("div",{className:"text-gray-600",children:"Consultation"})]})]})}),(0,Mt.jsx)("div",{className:"mb-4",children:(0,Mt.jsxs)("div",{className:"flex space-x-2",children:[e.acceptsVideoMeetings&&(0,Mt.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"Video"}),e.acceptsPhoneMeetings&&(0,Mt.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:"Phone"}),e.acceptsInPersonMeetings&&(0,Mt.jsx)("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs",children:"In-Person"})]})}),(0,Mt.jsxs)("div",{className:"flex space-x-2",children:[(0,Mt.jsx)("button",{onClick:()=>{var t;null!==(t=k.state)&&void 0!==t&&t.caseData?x("/send-case",{state:{mediator:e,caseData:k.state.caseData}}):(v(e),g(!0))},className:"flex-1 bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:"Send Case"}),(0,Mt.jsx)("button",{onClick:()=>{alert("Consultation feature coming soon!")},className:"flex-1 border border-black text-black px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:"Consultation"})]})]})]})},e.id)))}),0===_.length&&(0,Mt.jsxs)("div",{className:"text-center py-12",children:[(0,Mt.jsx)("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Mt.jsx)(tw,{className:"h-8 w-8 text-gray-400"})}),(0,Mt.jsx)("h3",{className:"text-xl font-semibold text-black mb-2",children:"No mediators found"}),(0,Mt.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search criteria"})]}),m&&(0,Mt.jsx)(rw,{cases:b,onClose:()=>{g(!1),v(null)},onSelect:e=>{g(!1),x("/send-case",{state:{caseData:e,mediator:y}})}})]})})},iw=()=>{var e;const[t,n]=(0,s.useState)(""),[r,i]=(0,s.useState)("video"),[a,o]=(0,s.useState)(!1),l=he(),c=me(),{caseData:d,mediator:h}=l.state||{},[f,p]=(0,s.useState)([]),[m,g]=(0,s.useState)(""),y=d||f.find((e=>e.id===m)),v=e=>e?"string"===typeof e?new Date(e).toLocaleDateString():"function"===typeof e.toDate?e.toDate().toLocaleDateString():"":"";if((0,s.useEffect)((()=>{if(!y&&h){const e=async()=>{try{var e;const t=null===(e=ab.currentUser)||void 0===e?void 0:e.uid,n=Dv(Gy(ob,"cases"),Mv("clientId","==",t)),r=(await Zv(n)).docs.map((e=>u({id:e.id},e.data())));p(r)}catch(t){console.error("Error fetching cases",t)}};e()}else h||c("/client-dashboard")}),[]),!y)return(0,Mt.jsx)("div",{className:"min-h-screen flex items-center justify-center text-gray-600",children:"Loading case data or please select a case..."});return(0,Mt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Mt.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Mt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Mt.jsx)("div",{className:"flex items-center justify-between",children:(0,Mt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Mt.jsxs)("button",{onClick:()=>c(-1),className:"text-gray-600 hover:text-black transition-colors flex items-center gap-2",children:[(0,Mt.jsx)(fb,{className:"h-5 w-5"}),"Back to Dashboard"]}),(0,Mt.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,Mt.jsx)("h1",{className:"text-l font-bold text-black",children:"Send Case to Mediator"})]})})})}),(0,Mt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Mt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Mt.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Mt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Mt.jsx)(Qt,{className:"h-5 w-5 text-gray-600"}),(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black",children:"Case Summary"})]}),(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h4",{className:"font-semibold text-black text-lg",children:null===y||void 0===y?void 0:y.title}),(0,Mt.jsx)("p",{className:"text-gray-600 mt-1",children:null===y||void 0===y?void 0:y.category})]}),(0,Mt.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,Mt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:null===y||void 0===y?void 0:y.description})}),(0,Mt.jsx)("div",{className:"flex items-center gap-4",children:(0,Mt.jsxs)("span",{className:"text-sm text-gray-500",children:[(0,Mt.jsx)(Kt,{className:"h-4 w-4 inline mr-1"}),"Created: ",v(null===y||void 0===y?void 0:y.createdAt)]})})]})]}),(0,Mt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Mt.jsx)(Gt,{className:"h-5 w-5 text-gray-600"}),(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black",children:"Message to Mediator"}),(0,Mt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Mt.jsx)("textarea",{value:t,onChange:e=>n(e.target.value),rows:6,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-black focus:border-black resize-none",placeholder:"Write a detailed message to the mediator about your case. Include any specific concerns, questions, or requirements you have..."}),(0,Mt.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This message will help the mediator understand your case better and provide more targeted assistance."})]}),(0,Mt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Case Information"}),(0,Mt.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Mt.jsxs)("div",{className:"flex justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Case ID:"}),(0,Mt.jsxs)("span",{className:"font-medium text-black",children:["#",null===y||void 0===y||null===(e=y.id)||void 0===e?void 0:e.slice(0,6)]})]}),(0,Mt.jsxs)("div",{className:"flex justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Category:"}),(0,Mt.jsx)("span",{className:"font-medium text-black",children:null===y||void 0===y?void 0:y.category})]}),(0,Mt.jsxs)("div",{className:"flex justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Created:"}),(0,Mt.jsx)("span",{className:"font-medium text-black",children:v(null===y||void 0===y?void 0:y.createdAt)})]}),(0,Mt.jsxs)("div",{className:"flex justify-between",children:[(0,Mt.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,Mt.jsx)("span",{className:"font-medium text-black capitalize",children:null===y||void 0===y?void 0:y.status})]})]})]})]}),(0,Mt.jsxs)("div",{className:"space-y-6",children:[h?(0,Mt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,Mt.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Mt.jsx)(Lt,{className:"h-5 w-5 text-gray-600"}),(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black",children:"Selected Mediator"})]}),(0,Mt.jsxs)("div",{className:"text-center",children:[(0,Mt.jsx)("div",{className:"w-16 h-16 bg-black rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Mt.jsx)(Lt,{className:"h-8 w-8 text-white"})}),(0,Mt.jsx)("h4",{className:"font-semibold text-black",children:h.name}),(0,Mt.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:h.specialty}),(0,Mt.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-3",children:[(0,Mt.jsx)(Yb,{className:"h-4 w-4 text-yellow-400 fill-current"}),(0,Mt.jsx)("span",{className:"text-sm font-medium",children:h.rating}),(0,Mt.jsxs)("span",{className:"text-sm text-gray-500",children:["(",h.reviews," reviews)"]})]}),(0,Mt.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,Mt.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Mt.jsx)(Jt,{className:"h-4 w-4"}),h.location]}),(0,Mt.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Mt.jsx)(Bt,{className:"h-4 w-4"}),h.experience," years experience"]})]}),(0,Mt.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,Mt.jsxs)("div",{className:"text-sm",children:[(0,Mt.jsxs)("div",{className:"font-medium text-black",children:["\u20b9",h.hourlyRate,"/hour"]}),(0,Mt.jsxs)("div",{className:"text-gray-600",children:["Consultation: \u20b9",h.consultationFee]})]})})]})]}):(0,Mt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,Mt.jsxs)("div",{className:"text-center py-8",children:[(0,Mt.jsx)(Lt,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,Mt.jsx)("h3",{className:"font-semibold text-black mb-2",children:"No Mediator Selected"}),(0,Mt.jsx)("p",{className:"text-sm text-gray-600",children:"Choose a mediator from the directory first"})]})}),(0,Mt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,Mt.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Send Case"}),(0,Mt.jsxs)("div",{className:"space-y-4",children:[(0,Mt.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Mt.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"What happens next?"}),(0,Mt.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,Mt.jsx)("li",{children:"\u2022 Mediator will review your case"}),(0,Mt.jsx)("li",{children:"\u2022 You'll get a response within 24 hours"}),(0,Mt.jsx)("li",{children:"\u2022 If accepted, you can schedule a consultation"})]})]}),(0,Mt.jsx)("button",{onClick:async()=>{if(t.trim())if(y&&h){o(!0);try{const e={caseId:y.id,mediatorId:null===h||void 0===h?void 0:h.id,clientId:ab.currentUser.uid,message:t.trim(),preferredMeetingType:r,status:"pending",sentAt:new Date};await nb(Gy(ob,"caseAssignments"),e);const n=Qy(ob,"cases",y.id);await tb(n,{mediatorId:h.id,sentToMediator:!0,status:"pending"}),c("/chat",{state:{caseId:y.id,clientId:ab.currentUser.uid,mediatorId:h.id}})}catch(e){console.error("Failed to send case:",e),alert("Something went wrong. Please try again.")}finally{o(!1)}}else alert("Missing case or mediator information.");else alert("Please write a message to the mediator")},disabled:a||!t.trim()||!d&&!m,className:"w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2 ".concat(a||!t.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-black text-white hover:bg-gray-800 transform hover:-translate-y-0.5 shadow-lg hover:shadow-xl"),children:a?(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)(wb,{className:"h-4 w-4"}),"Send Case to Mediator"]})})]})]})]})]})})]})},aw=Object.create(null);aw.open="0",aw.close="1",aw.ping="2",aw.pong="3",aw.message="4",aw.upgrade="5",aw.noop="6";const ow=Object.create(null);Object.keys(aw).forEach((e=>{ow[aw[e]]=e}));const lw={type:"error",data:"parser error"},cw="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),uw="function"===typeof ArrayBuffer,dw=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,hw=(e,t,n)=>{let{type:r,data:s}=e;return cw&&s instanceof Blob?t?n(s):fw(s,n):uw&&(s instanceof ArrayBuffer||dw(s))?t?n(s):fw(new Blob([s]),n):n(aw[r]+(s||""))},fw=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function pw(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let mw;const gw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yw="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let Dx=0;Dx<64;Dx++)yw[gw.charCodeAt(Dx)]=Dx;const vw="function"===typeof ArrayBuffer,bw=(e,t)=>{if("string"!==typeof e)return{type:"message",data:xw(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:ww(e.substring(1),t)};return ow[n]?e.length>1?{type:ow[n],data:e.substring(1)}:{type:ow[n]}:lw},ww=(e,t)=>{if(vw){const n=(e=>{let t,n,r,s,i,a=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<o;t+=4)n=yw[e.charCodeAt(t)],r=yw[e.charCodeAt(t+1)],s=yw[e.charCodeAt(t+2)],i=yw[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|s>>2,u[l++]=(3&s)<<6|63&i;return c})(e);return xw(n,t)}return{base64:!0,data:e}},xw=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,kw=String.fromCharCode(30);function _w(){return new TransformStream({transform(e,t){!function(e,t){cw&&e.data instanceof Blob?e.data.arrayBuffer().then(pw).then(t):uw&&(e.data instanceof ArrayBuffer||dw(e.data))?t(pw(e.data)):hw(e,!1,(e=>{mw||(mw=new TextEncoder),t(mw.encode(e))}))}(e,(n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const e=new DataView(s.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{s=new Uint8Array(9);const e=new DataView(s.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(s[0]|=128),t.enqueue(s),t.enqueue(n)}))}})}let Nw;function Ew(e){return e.reduce(((e,t)=>e+t.length),0)}function Sw(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Tw(e){if(e)return function(e){for(var t in Tw.prototype)e[t]=Tw.prototype[t];return e}(e)}Tw.prototype.on=Tw.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Tw.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Tw.prototype.off=Tw.prototype.removeListener=Tw.prototype.removeAllListeners=Tw.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<r.length;s++)if((n=r[s])===t||n.fn===t){r.splice(s,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Tw.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,t)}return this},Tw.prototype.emitReserved=Tw.prototype.emit,Tw.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Tw.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Cw="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Iw="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function jw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Aw=Iw.setTimeout,Rw=Iw.clearTimeout;function Pw(e,t){t.useNativeTimers?(e.setTimeoutFn=Aw.bind(Iw),e.clearTimeoutFn=Rw.bind(Iw)):(e.setTimeoutFn=Iw.setTimeout.bind(Iw),e.clearTimeoutFn=Iw.clearTimeout.bind(Iw))}function Ow(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Dw extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Lw extends Tw{constructor(e){super(),this.writable=!1,Pw(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Dw(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=bw(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class Mw extends Lw{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(kw),r=[];for(let s=0;s<n.length;s++){const e=bw(n[s],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach(((e,i)=>{hw(e,!1,(e=>{r[i]=e,++s===n&&t(r.join(kw))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ow()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Fw=!1;try{Fw="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Ox){}const Uw=Fw;function Vw(){}class zw extends Mw{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class Bw extends Tw{constructor(e,t,n){super(),this.createRequest=e,Pw(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=jw(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(Px){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(Px){}try{n.setRequestHeader("Accept","*/*")}catch(Px){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(Px){return void this.setTimeoutFn((()=>{this._onError(Px)}),0)}"undefined"!==typeof document&&(this._index=Bw.requestsCount++,Bw.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Vw,e)try{this._xhr.abort()}catch(Px){}"undefined"!==typeof document&&delete Bw.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Bw.requestsCount=0,Bw.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",qw);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Iw?"pagehide":"unload",qw,!1)}function qw(){for(let e in Bw.requests)Bw.requests.hasOwnProperty(e)&&Bw.requests[e].abort()}const Hw=function(){const e=Ww({xdomain:!1});return e&&null!==e.responseType}();function Ww(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Uw))return new XMLHttpRequest}catch(Px){}if(!t)try{return new(Iw[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(Px){}}const Kw="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Gw extends Lw{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Kw?{}:jw(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(Ox){return this.emitReserved("error",Ox)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;hw(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(Px){}r&&Cw((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ow()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Qw=Iw.WebSocket||Iw.MozWebSocket;const Yw={websocket:class extends Gw{createSocket(e,t,n){return Kw?new Qw(e,t,n):t?new Qw(e,t):new Qw(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Lw{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Ox){return this.emitReserved("error",Ox)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){Nw||(Nw=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(a,o){for(n.push(a);;){if(0===r){if(Ew(n)<1)break;const e=Sw(n,1);i=128===(128&e[0]),s=127&e[0],r=s<126?3:126===s?1:2}else if(1===r){if(Ew(n)<2)break;const e=Sw(n,2);s=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Ew(n)<8)break;const e=Sw(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){o.enqueue(lw);break}s=i*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Ew(n)<s)break;const e=Sw(n,s);o.enqueue(bw(i?e:Nw.decode(e),t)),r=0}if(0===s||s>e){o.enqueue(lw);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=_w();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const s=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),s())})).catch((e=>{}))};s();const i={type:"open"};this.query.sid&&(i.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(i).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then((()=>{r&&Cw((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends zw{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Hw&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Bw(Ww,this.uri(),e)}}},$w=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Xw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Jw(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=$w.exec(e||""),i={},a=14;for(;a--;)i[Xw[a]]=s[a]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}const Zw="function"===typeof addEventListener&&"function"===typeof removeEventListener,ex=[];Zw&&addEventListener("offline",(()=>{ex.forEach((e=>e()))}),!1);class tx extends Tw{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=Jw(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Jw(t.host).host);Pw(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Zw&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ex.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&tx.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",tx.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Cw((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const s={type:e,data:t,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(tx.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Zw&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=ex.indexOf(this._offlineEventListener);-1!==e&&ex.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}tx.protocol=4;class nx extends tx{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;tx.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;tx.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function s(){n||(n=!0,c(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,s(),this.emitReserved("upgradeError",n)};function a(){i("transport closed")}function o(){i("socket closed")}function l(e){t&&e.name!==t.name&&s()}const c=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",a),this.off("close",o),this.off("upgrading",l)};t.once("open",r),t.once("error",i),t.once("close",a),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class rx extends nx{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>Yw[e])).filter((e=>!!e))),super(e,t)}}const sx="function"===typeof ArrayBuffer,ix=Object.prototype.toString,ax="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===ix.call(Blob),ox="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===ix.call(File);function lx(e){return sx&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||ax&&e instanceof Blob||ox&&e instanceof File}function cx(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(cx(e[t]))return!0;return!1}if(lx(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return cx(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&cx(e[n]))return!0;return!1}function ux(e){const t=[],n=e.data,r=e;return r.data=dx(n,t),r.attachments=t.length,{packet:r,buffers:t}}function dx(e,t){if(!e)return e;if(lx(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=dx(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=dx(e[r],t));return n}return e}function hx(e,t){return e.data=fx(e.data,t),delete e.attachments,e}function fx(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=fx(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=fx(e[n],t));return e}const px=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],mx=5;var gx;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(gx||(gx={}));class yx{constructor(e){this.replacer=e}encode(e){return e.type!==gx.EVENT&&e.type!==gx.ACK||!cx(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===gx.EVENT?gx.BINARY_EVENT:gx.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==gx.BINARY_EVENT&&e.type!==gx.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=ux(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function vx(e){return"[object Object]"===Object.prototype.toString.call(e)}class bx extends Tw{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===gx.BINARY_EVENT;n||t.type===gx.BINARY_ACK?(t.type=n?gx.EVENT:gx.ACK,this.reconstructor=new wx(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!lx(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===gx[n.type])throw new Error("unknown packet type "+n.type);if(n.type===gx.BINARY_EVENT||n.type===gx.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(r,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(s)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!bx.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(Px){return!1}}static isPayloadValid(e,t){switch(e){case gx.CONNECT:return vx(t);case gx.DISCONNECT:return void 0===t;case gx.CONNECT_ERROR:return"string"===typeof t||vx(t);case gx.EVENT:case gx.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===px.indexOf(t[0]));case gx.ACK:case gx.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class wx{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=hx(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function xx(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const kx=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _x extends Tw{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[xx(e,"open",this.onopen.bind(this)),xx(e,"packet",this.onpacket.bind(this)),xx(e,"error",this.onerror.bind(this)),xx(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(kx.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const o={type:gx.EVENT,data:i,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof i[i.length-1]){const e=this.ids++,t=i.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const s=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===s)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),s),a=function(){r.io.clearTimeoutFn(i);for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.apply(r,n)};a.withError=!0,this.acks[e]=a}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const s=(e,n)=>e?r(e):t(n);s.withError=!0,n.push(s),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];n(null,...i)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:gx.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case gx.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case gx.EVENT:case gx.BINARY_EVENT:this.onevent(e);break;case gx.ACK:case gx.BINARY_ACK:this.onack(e);break;case gx.DISCONNECT:this.ondisconnect();break;case gx.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];t.packet({type:gx.ACK,id:e,data:s})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:gx.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Nx(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Nx.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Nx.prototype.reset=function(){this.attempts=0},Nx.prototype.setMin=function(e){this.ms=e},Nx.prototype.setMax=function(e){this.max=e},Nx.prototype.setJitter=function(e){this.jitter=e};class Ex extends Tw{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Pw(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Nx({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||r;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new rx(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=xx(t,"open",(function(){n.onopen(),e&&e()})),s=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=xx(t,"error",s);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),s(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(xx(e,"ping",this.onping.bind(this)),xx(e,"data",this.ondata.bind(this)),xx(e,"error",this.onerror.bind(this)),xx(e,"close",this.onclose.bind(this)),xx(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(Px){this.onclose("parse error",Px)}}ondecoded(e){Cw((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new _x(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Sx={};function Tx(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=Jw(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,s=n.id,i=n.path,a=Sx[s]&&i in Sx[s].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?o=new Ex(r,t):(Sx[s]||(Sx[s]=new Ex(r,t)),o=Sx[s]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(Tx,{Manager:Ex,Socket:_x,io:Tx,connect:Tx});const Cx=Tx("http://localhost:3001");function Ix(){const{caseId:e}=ge(),[t,n]=(0,s.useState)([]),[r,i]=(0,s.useState)(""),[a,o]=(0,s.useState)(""),[l,c]=(0,s.useState)({}),[d,h]=(0,s.useState)(!1),f=(0,s.useRef)(null),p=ev(),m=rc().currentUser;(0,s.useEffect)((()=>{null!==m&&void 0!==m&&m.uid&&y(m.uid).then((e=>o(e)))}),[m]),(0,s.useEffect)((()=>{(async()=>{const t=Dv(Gy(p,"chats",e,"messages"),Vv("timestamp","asc")),r=await Zv(t),s=[];for(let e of r.docs){const t=e.data(),n=await y(t.senderId);s.push(u(u({},t),{},{senderName:n}))}n(s)})()}),[e]);const g=()=>{var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},y=async e=>{if(l[e])return l[e];try{const t=Qy(p,"accounts",e),n=await Xv(t);if(n.exists()){const t=n.data().name||"Anonymous";return c((n=>u(u({},n),{},{[e]:t}))),t}}catch(Ox){console.error("Error fetching user name for",e,Ox)}return"Anonymous"};(0,s.useEffect)((()=>(Cx.emit("joinRoom",{roomId:e}),v(),Cx.on("receiveMessage",(async e=>{e.senderName||(e.senderName=await y(e.senderId)),n((t=>[...t,e])),g()})),()=>{Cx.off("receiveMessage")})),[e]);const v=async()=>{const t=Dv(Gy(p,"chats",e,"messages"),Vv("timestamp","asc")),r=await Zv(t),s=[];for(let e of r.docs){const t=e.data(),n=await y(t.senderId);s.push(u(u({},t),{},{senderName:n}))}n(s),g()},b=()=>{if(!r.trim())return;if(!a)return void console.warn("User name not loaded yet.");const t={caseId:e,senderId:null===m||void 0===m?void 0:m.uid,senderName:a,text:r,timestamp:Date.now()};Cx.emit("sendMessage",t),i("")},w=e=>{if(!e)return"";const t=new Date(e),n=new Date;return t.toDateString()===n.toDateString()?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,Mt.jsxs)("div",{className:"flex flex-col h-screen bg-white",children:[(0,Mt.jsx)("div",{className:"bg-black text-white px-6 py-4 shadow-sm border-b border-gray-200",children:(0,Mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mt.jsxs)("div",{children:[(0,Mt.jsx)("h1",{className:"text-lg font-semibold",children:"Case Discussion"}),(0,Mt.jsx)("p",{className:"text-gray-300 text-sm",children:e})]}),(0,Mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mt.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,Mt.jsx)("span",{className:"text-sm text-gray-300",children:"Online"})]})]})}),(0,Mt.jsx)("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:(0,Mt.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[0===t.length?(0,Mt.jsxs)("div",{className:"text-center py-8",children:[(0,Mt.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,Mt.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,Mt.jsx)("p",{className:"text-gray-500 text-sm",children:"No messages yet. Start the conversation!"})]}):t.map(((e,n)=>{const r=e.senderId===(null===m||void 0===m?void 0:m.uid),s=0===n||t[n-1].senderId!==e.senderId;return(0,Mt.jsx)("div",{className:"flex ".concat(r?"justify-end":"justify-start"),children:(0,Mt.jsxs)("div",{className:"max-w-xs lg:max-w-md ".concat(r?"order-2":"order-1"),children:[s&&!r&&(0,Mt.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Mt.jsx)("div",{className:"w-6 h-6 bg-gray-800 rounded-full flex items-center justify-center",children:(0,Mt.jsx)("span",{className:"text-xs text-white font-medium",children:(e.senderName||"U")[0].toUpperCase()})}),(0,Mt.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.senderName||"Unknown"})]}),(0,Mt.jsx)("div",{className:"px-4 py-2 rounded-2xl shadow-sm ".concat(r?"bg-black text-white rounded-br-md":"bg-white text-gray-800 border border-gray-200 rounded-bl-md"),children:(0,Mt.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e.text})}),(0,Mt.jsx)("div",{className:"mt-1 ".concat(r?"text-right":"text-left"),children:(0,Mt.jsx)("span",{className:"text-xs text-gray-400",children:w(e.timestamp)})})]})},n)})),(0,Mt.jsx)("div",{ref:f})]})}),(0,Mt.jsxs)("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:[(0,Mt.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,Mt.jsx)("div",{className:"flex-1 relative",children:(0,Mt.jsx)("textarea",{value:r,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b())},placeholder:"Type your message...",rows:1,className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:border-black focus:ring-1 focus:ring-black resize-none text-sm",style:{minHeight:"44px",maxHeight:"120px"},onInput:e=>{e.target.style.height="auto",e.target.style.height=Math.min(e.target.scrollHeight,120)+"px"}})}),(0,Mt.jsx)("button",{onClick:b,disabled:!r.trim(),className:"p-3 rounded-full transition-all duration-200 ".concat(r.trim()?"bg-black text-white hover:bg-gray-800 shadow-md hover:shadow-lg transform hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"),children:(0,Mt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Mt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),a&&(0,Mt.jsxs)("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-400",children:[(0,Mt.jsxs)("span",{children:["Chatting as ",a]}),(0,Mt.jsx)("span",{children:"Press Enter to send, Shift+Enter for new line"})]})]})]})}const jx=()=>{const e=me(),[t,n]=(0,s.useState)({isAuthenticated:!1,user:null}),[r,i]=(0,s.useState)([]);(0,s.useEffect)((()=>{const t=function(e,t,n,r){return Ln(e).onAuthStateChanged(t,n,r)}(ab,(async t=>{if(t)try{const r=await cb(t.uid),s={uid:t.uid,email:t.email,name:r.name,type:r.role,profileCompleted:r.profileCompleted};n({isAuthenticated:!0,user:s}),"/auth"===window.location.pathname&&("mediator"===s.type?e(s.profileCompleted?"/mediator-dashboard":"/mediator-profile-setup"):e("/client-dashboard"))}catch(Ox){console.error("Failed to fetch user info:",Ox),n({isAuthenticated:!1,user:null})}else n({isAuthenticated:!1,user:null})}));return()=>t()}),[e]);return(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)(Ft,{isAuthenticated:t.isAuthenticated,user:t.user,onLogout:async()=>{try{await function(e){return Ln(e).signOut()}(ab),n({isAuthenticated:!1,user:null}),e("/auth")}catch(t){console.error("Logout failed:",t)}}}),(0,Mt.jsx)("main",{children:(0,Mt.jsxs)(Oe,{children:[(0,Mt.jsx)(Re,{path:"/",element:(0,Mt.jsxs)(Mt.Fragment,{children:[(0,Mt.jsx)(Ht,{onGetStarted:()=>e("/auth"),onFindMediators:()=>e("/mediators")}),(0,Mt.jsx)(Yt,{}),(0,Mt.jsx)(Zt,{})]})}),(0,Mt.jsx)(Re,{path:"/auth",element:(0,Mt.jsx)(hb,{onLogin:t=>{n({isAuthenticated:!0,user:t}),"mediator"===t.type?t.profileCompleted?e("/mediator-dashboard"):e("/mediator-profile-setup"):e("/client-dashboard")},loginMode:!0})}),(0,Mt.jsx)(Re,{path:"/mediator-profile-setup",element:t.user&&"mediator"===t.user.type&&!t.user.profileCompleted?(0,Mt.jsx)(ew,{user:t.user,onComplete:async r=>{const s=u(u({},t.user),{},{profileCompleted:!0,profileData:r});n({isAuthenticated:!0,user:s});try{await tb(Qy(ob,"accounts",s.uid),{profileCompleted:!0})}catch(a){console.error("Failed to update accounts collection:",a)}i((e=>[...e,u(u({id:s.uid,name:s.name,email:s.email},r),{},{rating:5,reviews:0,successfulCases:0,availableToday:!0})])),e("/mediator-dashboard")}}):(0,Mt.jsx)(Ae,{to:"/mediator-dashboard"})}),(0,Mt.jsx)(Re,{path:"/client-dashboard",element:t.user&&"client"===t.user.type?(0,Mt.jsx)(Kb,{user:t.user}):(0,Mt.jsx)(Ae,{to:"/auth"})}),(0,Mt.jsx)(Re,{path:"/chat/:caseId",element:(0,Mt.jsx)(Ix,{})}),(0,Mt.jsx)(Re,{path:"/submit-case",element:t.user&&"client"===t.user.type?(0,Mt.jsx)(mb,{user:t.user}):(0,Mt.jsx)(Ae,{to:"/auth"})}),(0,Mt.jsx)(Re,{path:"/mediator-dashboard",element:t.user&&"mediator"===t.user.type?(0,Mt.jsx)($b,{user:t.user}):(0,Mt.jsx)(Ae,{to:"/auth"})}),(0,Mt.jsx)(Re,{path:"/mediators",element:(0,Mt.jsx)(sw,{user:t.user,mediatorProfiles:r})}),(0,Mt.jsx)(Re,{path:"/send-case",element:(0,Mt.jsx)(iw,{user:t.user})})]})})]})},Ax=function(){return(0,Mt.jsx)(Mt.Fragment,{children:(0,Mt.jsx)(gt,{children:(0,Mt.jsx)(jx,{})})})},Rx=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:i,getTTFB:a}=t;n(e),r(e),s(e),i(e),a(e)}))};i.createRoot(document.getElementById("root")).render((0,Mt.jsx)(s.StrictMode,{children:(0,Mt.jsx)(Ax,{})})),Rx()})();
//# sourceMappingURL=main.0020c018.js.map